!function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=3)}([function(t,e,s){var i=s(1),n=s(2);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[t.i,n,""]]);var a={insert:"head",singleton:!1},r=(i(n,a),n.locals?n.locals:{});t.exports=r},function(t,e,s){"use strict";var i,n=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},a=function(){var t={};return function(e){if(void 0===t[e]){var s=document.querySelector(e);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(t){s=null}t[e]=s}return t[e]}}(),r=[];function d(t){for(var e=-1,s=0;s<r.length;s++)if(r[s].identifier===t){e=s;break}return e}function o(t,e){for(var s={},i=[],n=0;n<t.length;n++){var a=t[n],o=e.base?a[0]+e.base:a[0],l=s[o]||0,c="".concat(o," ").concat(l);s[o]=l+1;var h=d(c),u={css:a[1],media:a[2],sourceMap:a[3]};-1!==h?(r[h].references++,r[h].updater(u)):r.push({identifier:c,updater:y(u,e),references:1}),i.push(c)}return i}function l(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var n=s.nc;n&&(i.nonce=n)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var r=a(t.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}return e}var c,h=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function u(t,e,s,i){var n=s?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=h(e,n);else{var a=document.createTextNode(n),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(a,r[e]):t.appendChild(a)}}function f(t,e,s){var i=s.css,n=s.media,a=s.sourceMap;if(n?t.setAttribute("media",n):t.removeAttribute("media"),a&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var g=null,m=0;function y(t,e){var s,i,n;if(e.singleton){var a=m++;s=g||(g=l(e)),i=u.bind(null,s,a,!1),n=u.bind(null,s,a,!0)}else s=l(e),i=f.bind(null,s,e),n=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(s)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else n()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=n());var s=o(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<s.length;i++){var n=d(s[i]);r[n].references--}for(var a=o(t,e),l=0;l<s.length;l++){var c=d(s[l]);0===r[c].references&&(r[c].updater(),r.splice(c,1))}s=a}}}},function(t,e,s){},function(t,e,s){"use strict";s.r(e);s(0);const i=(t,e,s,i)=>{const n=document.createElement("td");n.id=`${s}-${i}`,n.classList.add("unvisited"),n.style.width=e+"px",n.style.height=e+"px",n.dataset.x=s,n.dataset.y=i,t.appendChild(n)},n=(t,e)=>Math.floor(Math.random()*e)+t,a=(t,e,s)=>{let i;do{i=n(t,e)}while(i===s);return i};var r=class{constructor(t,e,s,i,n,a){this.status=t,this.id=`${e}-${s}`,this.x=e,this.y=s,this.dist=i,this.prevId=n,this.direction=a,this.heuristicDistance=null,this.update=this.update.bind(this)}update(t){for(let e of Object.keys(this))for(let s of Object.keys(t))e===s&&(this[e]=t[s])}};const d={north:0,east:1,south:2,west:3},o=["north","east","south","west"],l=t=>o[t],c=[0,1,2,1],h=[1,0,1,2],u=[2,1,0,1],f=[1,2,1,0],g=(t,e)=>{if(t.y<e.y&&t.x===e.x)return c[t.direction]+1;if(t.x<e.x&&t.y===e.y)return h[t.direction]+1;if(t.y>e.y&&t.x===e.x)return u[t.direction]+1;if(t.x>e.x&&t.y===e.y)return f[t.direction]+1;throw new Error("Something went wrong when setting the distance between nodes.")},m=(t,e)=>{if(t.y<e.y&&t.x===e.x)return d.north;if(t.x<e.x&&t.y===e.y)return d.east;if(t.y>e.y&&t.x===e.x)return d.south;if(t.x>e.x&&t.y===e.y)return d.west;throw new Error("Something went wrong when setting the direction of node.")},y=(t,e)=>{const s=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y);let n=0;const a=0===(r=t.direction)?c:1===r?h:2===r?u:3===r?f:void 0;var r;return t.y<e.y?(n+=a[0],t.x<e.x?n+=a[1]:t.x>e.x&&(n+=a[3])):t.y>e.y&&(n+=a[2],t.x<e.x?n+=a[1]:t.x>e.x&&(n+=a[3])),s+i+n};const p=(t,e,s,i)=>{let n=[];return e[`${s}-${i+1}`]&&!document.getElementById(`${s}-${i+1}`).classList.contains("wall")&&n.push(`${s}-${i+1}`),e[`${s+1}-${i}`]&&!document.getElementById(`${s+1}-${i}`).classList.contains("wall")&&n.push(`${s+1}-${i}`),e[`${s}-${i-1}`]&&!document.getElementById(`${s}-${i-1}`).classList.contains("wall")&&n.push(`${s}-${i-1}`),e[`${s-1}-${i}`]&&!document.getElementById(`${s-1}-${i}`).classList.contains("wall")&&n.push(`${s-1}-${i}`),n.filter(e=>t.find(t=>e===t))},v=(t,e)=>{let s=1/0,i=0,n=0;return t.forEach((t,a)=>{e[t]&&e[t].dist<s&&(s=e[t].dist,i=t,n=a)}),t.splice(n,1),e[i]},b=(t,e)=>{let s=1/0,i=0,n=0;return t.forEach((t,a)=>{if(e[t]&&e[t].dist!==1/0){const r=e[t].dist+e[t].heuristicDistance;r<s&&(s=r,i=t,n=a)}}),t.splice(n,1),e[i]},w=(t,e)=>t.x===e.x&&t.y===e.y;var E=t=>new Promise(e=>setTimeout(e,t));const x=async(t,e)=>{document.getElementById(t).classList.remove("unvisited"),document.getElementById(t).classList.remove("neighbor"),document.getElementById(t).classList.add("visited"),await E(e/5)},N=async(t,e)=>{document.getElementById(t).classList.add("neighbor"),await E(e/5)},I=async(t,e,s,i)=>{let n=[],a=!1,r=t[`${s.x}-${s.y}`];for(n.push(r.id);!a;){if(r.x===e.x&&r.y===e.y){a=!0;break}n.push(r.prevId),r=t[r.prevId]}for(let t=n.length-1;t>=0;t--)document.getElementById(n[t]).classList.add("path"),await E(i)},S=async(t,e)=>{const s=t.length;for(let i=0;i<s;i++)await e(t[i],i,t)};new class{constructor(t,e,s){this.boardId=t,this.blockSize=e,this.width=null,this.height=null,this.nodes={},this.startNode=null,this.startInitialDirection="north",this.endNode=null,this.isMakingWalls=!1,this.isNodeDragged=!1,this.draggedNodeClassList=null,this.algorithms=s,this.currentAlgorithm=null,this.speed=40,this.isSearching=!1,this.isPrepared=!1}initialize(){this.createNav(),this.calculateBoardSize(),this.createBoard(),this.setStartNode(),this.setEndNode(),this.setCurrentAlgorithm("dijkstra"),this.addNavAlgoElemsEventListeners(),this.addBlocksEventListeners(),this.addBtnsEventListeners(),console.log(this),this.isPrepared=!0}calculateBoardSize(){const t=document.getElementById(this.boardId),e=t.clientWidth,s=t.clientHeight;this.width=Math.floor(e/this.blockSize),this.height=Math.floor(s/this.blockSize)}createBoard(){const t=document.getElementById(this.boardId),e=document.createElement("tbody");for(let t=this.height-1;t>=0;t--){const s=document.createElement("tr");for(let e=0;e<this.width;e++){i(s,this.blockSize,e,t);const n=new r("block",e,t,1/0,null,null);this.nodes[n.id]=n}e.appendChild(s)}t.appendChild(e)}createNav(){const t=document.getElementById("nav");for(let[e,s]of Object.entries(this.algorithms)){const i=document.createElement("div");i.classList.add("nav-algorithm-js"),i.innerText=s.name,i.dataset.algorithmKey=e,t.appendChild(i)}}setCurrentAlgorithm(t){this.currentAlgorithm=this.algorithms[t].func,document.querySelectorAll(".nav-algorithm-js")[0].classList.add("active")}setStartNode(){const t=`${n(0,this.width-1)}-${n(0,this.height-1)}`;this.setNodeAsStart(t),document.getElementById(this.startNode.id).classList.add("start",this.startInitialDirection)}setEndNode(){const t=`${a(0,this.width-1,this.startNode.x)}-${a(0,this.height-1,this.startNode.y)}`;this.setNodeAsEnd(t),document.getElementById(this.endNode.id).classList.add("end")}addNavAlgoElemsEventListeners(){const t=document.querySelectorAll(".nav-algorithm-js");t.forEach(e=>{e.addEventListener("click",e=>{e.target.classList.contains("blocked")||(t.forEach(t=>t.classList.remove("active")),e.target.classList.add("active"),this.currentAlgorithm=this.algorithms[e.target.dataset.algorithmKey].func)})})}addBtnsEventListeners(){const t=document.getElementById("startBtn"),e=document.getElementById("clearBtn");t.addEventListener("click",async t=>{this.isPrepared&&(this.handleIsSearchingState(!0),this.handleIsPreparedState(!1),await this.currentAlgorithm(this.nodes,this.startNode,this.endNode,this.speed),this.handleIsSearchingState(!1))}),e.addEventListener("click",t=>{this.isSearching||(this.clearBoard(),this.handleIsPreparedState(!0))})}addBlocksEventListeners(){document.querySelectorAll(".unvisited").forEach(t=>{t.addEventListener("mousedown",e=>{e.preventDefault(),this.handleMouseDown(t)}),t.addEventListener("mouseenter",e=>{e.preventDefault(),this.handleMouseEnter(t)}),t.addEventListener("mouseup",e=>{e.preventDefault(),this.handleMouseUp(t)}),t.addEventListener("mouseleave",e=>{e.preventDefault(),this.handleMouseLeave(t)})})}handleMouseDown(t){const e=t.id;this.isNodeBlock(e)?this.isNodeDragged||(this.createWall(t),this.setMakingWallsState(!0)):(this.draggedNodeId=e,this.isNodeDragged=!0)}handleMouseEnter(t){if(this.isNodeDragged&&!this.isBlockWall(t)){const e=this.nodes[this.draggedNodeId];if("start"!==e.status||t.classList.contains("end"))"end"!==e.status||t.classList.contains("start")||t.classList.add("end");else{const s=l(e.direction);t.classList.add("start",s)}}else this.isMakingWalls&&this.isNodeBlock(t.id)&&this.createWall(t)}handleMouseUp(t){const e=t.id;this.isNodeDragged&&e!==this.draggedNodeId&&!this.isBlockWall(t)?("start"===this.nodes[this.draggedNodeId].status?this.setNodeAsStart(e):"end"===this.nodes[this.draggedNodeId].status&&this.setNodeAsEnd(e),this.setNodeAsBlock(this.draggedNodeId),this.isNodeDragged=!1,this.draggedNodeId=null):this.setMakingWallsState(!1)}handleMouseLeave(t){if(this.isNodeDragged){const e=this.nodes[this.draggedNodeId];if("start"===e.status){const s=l(e.direction);t.classList.remove("start",s)}else"end"===e.status&&t.classList.remove("end")}}isNodeBlock(t){return!("start"===this.nodes[t].status||"end"===this.nodes[t].status)}createWall(t){window.requestAnimationFrame(()=>t.classList.add("wall"))}isBlockWall(t){return t.classList.contains("wall")}setMakingWallsState(t){this.isMakingWalls=t}handleIsSearchingState(t){this.isSearching=t,document.getElementById("clearBtn").disabled=t}handleIsPreparedState(t){this.isPrepared=t,document.getElementById("startBtn").disabled=!t}clearBoard(){for(let t=this.height-1;t>=0;t--)for(let e=0;e<this.width;e++)this.nodes[`${e}-${t}`].update({status:"block",dist:1/0,prevId:null,direction:null}),document.getElementById(`${e}-${t}`).classList=[],document.getElementById(`${e}-${t}`).classList.add("unvisited");this.setStartNode(),this.setEndNode()}setNodeAsStart(t){this.nodes[t].update({status:"start",dist:0,direction:d[this.startInitialDirection]}),this.startNode=this.nodes[t]}setNodeAsEnd(t){this.nodes[t].update({status:"end",dist:1/0,direction:null}),this.endNode=this.nodes[t]}setNodeAsBlock(t){this.nodes[t].update({status:"block",dist:1/0,direction:null})}}("board",25,{dijkstra:{name:"Dijkstra",func:async(t,e,s,i)=>{let n=Object.keys(t),a={},r=!1;for(;n.length;){const e=v(n,t);if(!e)break;if(await x(e.id,i),a[e.id]=e,w(e,s)){r=!0;break}p(n,t,e.x,e.y).forEach(s=>{const i=g(e,t[s]);e.dist+i<t[s].dist&&(N(s),t[s].dist=e.dist+i,t[s].prevId=e.id,t[s].direction=m(e,t[s]))})}r&&I(a,e,s,i)}},bfs:{name:"Breadth-First Search",func:async(t,e,s,i)=>{let n=Object.keys(t),a={},r=!1;for(;n.length;){const e=v(n,t);if(!e)break;if(await x(e.id,i),a[e.id]=e,w(e,s)){r=!0;break}const d=p(n,t,e.x,e.y);await S(d,s=>{e.dist<t[s].dist&&(N(s,i),t[s].dist=e.dist+1,t[s].prevId=e.id)})}r&&I(a,e,s,i)}},dfs:{name:"Depth-First Search",func:async(t,e,s,i)=>{let n=Object.keys(t),a={},r=!1;const d=async(e,i)=>{if(!e)return;if(r)return;if(await x(e.id),e.prevId=i,a[e.id]=e,n=n.filter(t=>t!==e.id),w(e,s))return void(r=!0);const o=p(n,t,e.x,e.y);await S(o,s=>d(t[s],e.id))};await d(t[`${e.x}-${e.y}`]),r&&I(a,e,s,i)}},astar:{name:"A* Search",func:async(t,e,s,i)=>{let n=Object.keys(t),a={},r=!1;for(t[e.id].heuristicDistance=y(e,s);n.length;){const e=b(n,t);if(!e)break;if(await x(e.id,i),a[e.id]=e,w(e,s)){r=!0;break}const d=p(n,t,e.x,e.y);await S(d,async n=>{const a=g(e,t[n]);e.dist+a<t[n].dist&&(await N(n,i),t[n].dist=e.dist+a,t[n].direction=m(e,t[n]),t[n].heuristicDistance=y(t[n],s),t[n].prevId=e.id)})}r&&I(a,e,s,i)}}}).initialize()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9zYXNzL21haW4uc2NzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvaGVscGVycy9ibG9jay5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9oZWxwZXJzL2dldFJhbmRvbU51bS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9oZWxwZXJzL2dldERpZmZlcmVudFJhbmRvbU51bS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9Ob2RlLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL2FsZ29yaXRobXMvaGVscGVycy93ZWlnaHRlZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9hbGdvcml0aG1zL2hlbHBlcnMvbmVpZ2hib3JzLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL2FsZ29yaXRobXMvaGVscGVycy9ub2Rlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9oZWxwZXJzL2FzeW5jRGVsYXkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvaGVscGVycy92aXN1YWxpemVyLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL2hlbHBlcnMvYXN5bmNGb3JFYWNoLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9Cb2FyZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9hbGdvcml0aG1zL2RpamtzdHJhLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL2FsZ29yaXRobXMvYnJlYWR0aEZpcnN0LmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL2FsZ29yaXRobXMvZGVwdGhGaXJzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9hbGdvcml0aG1zL2FzdGFyLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiYXBpIiwiY29udGVudCIsImRlZmF1bHQiLCJvcHRpb25zIiwiZXhwb3J0ZWQiLCJsb2NhbHMiLCJtZW1vIiwiaXNPbGRJRSIsIkJvb2xlYW4iLCJ3aW5kb3ciLCJkb2N1bWVudCIsImFsbCIsImF0b2IiLCJnZXRUYXJnZXQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJsZW5ndGgiLCJtb2R1bGVzVG9Eb20iLCJsaXN0IiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiaXRlbSIsImlkIiwiYmFzZSIsImNvdW50IiwiY29uY2F0IiwiaW5kZXgiLCJvYmoiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwicHVzaCIsImFkZFN0eWxlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIm5vbmNlIiwia2V5cyIsImZvckVhY2giLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsImpvaW4iLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiYnRvYSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwidXBkYXRlIiwic3R5bGVJbmRleCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwidG9TdHJpbmciLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsInNwbGljZSIsImNyZWF0ZUJsb2NrIiwicGFyZW50IiwiYmxvY2tTaXplIiwieCIsInkiLCJibG9jayIsImNsYXNzTGlzdCIsImFkZCIsIndpZHRoIiwiaGVpZ2h0IiwiZGF0YXNldCIsImdldFJhbmRvbU51bSIsIm1pbiIsIm1heCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImdldERpZmZlcmVudFJhbmRvbU51bSIsImRpZmZlcmVudEZyb20iLCJyYW5kIiwic3RhdHVzIiwiZGlzdCIsInByZXZJZCIsImRpcmVjdGlvbiIsInRoaXMiLCJoZXVyaXN0aWNEaXN0YW5jZSIsInZhbHVlcyIsImZpZWxkS2V5IiwidmFsS2V5IiwiZGlyZWN0aW9ucyIsIm5vcnRoIiwiZWFzdCIsInNvdXRoIiwid2VzdCIsImRpcmVjdGlvbnNOYW1lIiwiZ2V0RGlyZWN0aW9uTmFtZSIsIm5vcnRoRGlyZWN0aW9uV2VpZ2h0cyIsImVhc3REaXJlY3Rpb25XZWlnaHRzIiwic291dGhEaXJlY3Rpb25XZWlnaHRzIiwid2VzdERpcmVjdGlvbldlaWdodHMiLCJnZXREaXN0YW5jZUJldHdlZW5Ob2RlcyIsIm5vZGVfMSIsIm5vZGVfMiIsImdldE5vZGVEaXJlY3Rpb24iLCJnZXRXZWlnaHRlZE1hbmhhdHRhbkRpc3RhbmNlIiwibm9kZSIsImVuZCIsInhEaWZmIiwiYWJzIiwieURpZmYiLCJhZGRpdGlvbmFsV2VpZ2h0Iiwid2VpZ2h0cyIsImN1cnJEaXJlY3Rpb24iLCJnZXROZWlnaGJvcnNJZHMiLCJ1bnZpc2l0ZWROb2Rlc0lkcyIsIm5vZGVzIiwiYXJyIiwiZ2V0RWxlbWVudEJ5SWQiLCJjb250YWlucyIsInBvdGVudGlhbE5laWdoYm9ySWQiLCJmaW5kIiwibm9kZUlkIiwiZ2V0Q2xvc2VzdE5vZGUiLCJ1bnZpc2l0ZWRJZHMiLCJJbmZpbml0eSIsIm1pbkRpc3ROb2RlSWQiLCJnZXRDbG9zZXN0Tm9kZVdpdGhIZXVyaXN0aWNEaXN0IiwibWluSGV1cmlzdGljRGlzdE5vZGVJZCIsIm5vZGVTY29yZSIsImlzU2FtZU5vZGUiLCJuMSIsIm4yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwibXMiLCJ2aXN1YWxpemVWaXNpdGVkTm9kZSIsImFzeW5jIiwiZGVsYXkiLCJhc3luY0RlbGF5IiwidmlzdWFsaXplTmVpZ2hib3JOb2RlIiwidmlzdWFsaXplUGF0aCIsInZpc2l0ZWROb2RlcyIsInN0YXJ0IiwicGF0aElkcyIsImZvdW5kU3RhcnQiLCJjdXJyTm9kZSIsImFzeW5jRm9yRWFjaCIsImNhbGxiYWNrIiwibGVuIiwiYm9hcmRJZCIsImFsZ29yaXRobXMiLCJzdGFydE5vZGUiLCJzdGFydEluaXRpYWxEaXJlY3Rpb24iLCJlbmROb2RlIiwiaXNNYWtpbmdXYWxscyIsImlzTm9kZURyYWdnZWQiLCJkcmFnZ2VkTm9kZUNsYXNzTGlzdCIsImN1cnJlbnRBbGdvcml0aG0iLCJzcGVlZCIsImlzU2VhcmNoaW5nIiwiaXNQcmVwYXJlZCIsImNyZWF0ZU5hdiIsImNhbGN1bGF0ZUJvYXJkU2l6ZSIsImNyZWF0ZUJvYXJkIiwic2V0U3RhcnROb2RlIiwic2V0RW5kTm9kZSIsInNldEN1cnJlbnRBbGdvcml0aG0iLCJhZGROYXZBbGdvRWxlbXNFdmVudExpc3RlbmVycyIsImFkZEJsb2Nrc0V2ZW50TGlzdGVuZXJzIiwiYWRkQnRuc0V2ZW50TGlzdGVuZXJzIiwiY29uc29sZSIsImxvZyIsImJvYXJkIiwicHhXaWR0aCIsImNsaWVudFdpZHRoIiwicHhIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJ0Ym9keSIsInJvdyIsIm5ld05vZGUiLCJuYXYiLCJhbGdvIiwiZW50cmllcyIsImVsZW0iLCJpbm5lclRleHQiLCJhbGdvcml0aG1LZXkiLCJmdW5jIiwicXVlcnlTZWxlY3RvckFsbCIsInNldE5vZGVBc1N0YXJ0Iiwic2V0Tm9kZUFzRW5kIiwiZWxlbXMiLCJhZGRFdmVudExpc3RlbmVyIiwic3RhcnRCdG4iLCJjbGVhckJ0biIsImhhbmRsZUlzU2VhcmNoaW5nU3RhdGUiLCJoYW5kbGVJc1ByZXBhcmVkU3RhdGUiLCJjbGVhckJvYXJkIiwicHJldmVudERlZmF1bHQiLCJoYW5kbGVNb3VzZURvd24iLCJoYW5kbGVNb3VzZUVudGVyIiwiaGFuZGxlTW91c2VVcCIsImhhbmRsZU1vdXNlTGVhdmUiLCJpc05vZGVCbG9jayIsImNyZWF0ZVdhbGwiLCJzZXRNYWtpbmdXYWxsc1N0YXRlIiwiZHJhZ2dlZE5vZGVJZCIsImlzQmxvY2tXYWxsIiwiZHJhZ2dlZE5vZGUiLCJkaXJlY3Rpb25OYW1lIiwic2V0Tm9kZUFzQmxvY2siLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJib29sIiwiZGlzYWJsZWQiLCJkaWprc3RyYSIsImZvdW5kRW5kIiwibmVpZ2hib3JJZCIsImRpc3RhbmNlQmV0d2Vlbk5vZGVzIiwiYmZzIiwibmVpZ2hib3JzSWRzIiwiZGZzIiwic2VhcmNoIiwiYXN0YXIiLCJpbml0aWFsaXpl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RUFBV3BCLEVBQWdDWixFQUFtQkMsR0FDcEUsSUFBSytCLEVBQVUsTUFNZixTQUpNVixFQUFxQlUsRUFBU2xKLEdBQUkrSixHQUV4Q2pCLEVBQWFJLEVBQVNsSixJQUFNa0osRUFFeEJqQixFQUFXaUIsRUFBVXhDLEdBQU0sQ0FDN0I2RyxHQUFXLEVBQ1gsTUFHRixNQUFNSSxFQUFlMUcsRUFDbkJDLEVBQ0FDLEVBQ0ErQixFQUFTbkYsRUFDVG1GLEVBQVNsRixTQUdMbUYsRUFBYXdFLEVBQWNsRixNQUFPK0UsSUFDdEMsTUFBTUMsRUFBdUJySCxFQUMzQjhDLEVBQ0EvQixFQUFNcUcsSUFJTnRFLEVBQVNqRSxLQUFPd0ksRUFBdUJ0RyxFQUFNcUcsR0FBWXZJLGFBR25EMkQsRUFBc0I0RSxFQUFZekQsR0FFeEM1QyxFQUFNcUcsR0FBWXZJLEtBQU9pRSxFQUFTakUsS0FBT3dJLEVBQ3pDdEcsRUFBTXFHLEdBQVlySSxVQUFZb0IsRUFDNUIyQyxFQUNBL0IsRUFBTXFHLElBRVJyRyxFQUFNcUcsR0FBWW5JLGtCQUFvQm1CLEVBQ3BDVyxFQUFNcUcsR0FDTjlHLEdBRUZTLEVBQU1xRyxHQUFZdEksT0FBU2dFLEVBQVNsSixNQVN0Q3VOLEdBQ0YxRSxFQUFjQyxFQUFjQyxFQUFPckMsRUFBS3FELE9MN0N0Q2dFIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzKTtcbiIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzPz9yZWYtLTQtMSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVzb2x2ZS11cmwtbG9hZGVyL2luZGV4LmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS00LTQhLi9tYWluLnNjc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cbnZhciBleHBvcnRlZCA9IGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB7fTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0ZWQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiBidG9hKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiZXhwb3J0IGNvbnN0IGNyZWF0ZUJsb2NrID0gKHBhcmVudCwgYmxvY2tTaXplLCB4LCB5KSA9PiB7XG4gIGNvbnN0IGJsb2NrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuXG4gIGJsb2NrLmlkID0gYCR7eH0tJHt5fWA7XG4gIGJsb2NrLmNsYXNzTGlzdC5hZGQoXCJ1bnZpc2l0ZWRcIik7XG4gIGJsb2NrLnN0eWxlLndpZHRoID0gYCR7YmxvY2tTaXplfXB4YDtcbiAgYmxvY2suc3R5bGUuaGVpZ2h0ID0gYCR7YmxvY2tTaXplfXB4YDtcblxuICBibG9jay5kYXRhc2V0LnggPSB4O1xuICBibG9jay5kYXRhc2V0LnkgPSB5O1xuXG4gIHBhcmVudC5hcHBlbmRDaGlsZChibG9jayk7XG59O1xuIiwiZXhwb3J0IGNvbnN0IGdldFJhbmRvbU51bSA9IChtaW4sIG1heCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbWF4KSArIG1pbjtcbiIsImltcG9ydCB7IGdldFJhbmRvbU51bSB9IGZyb20gXCIuL2dldFJhbmRvbU51bVwiO1xuXG5leHBvcnQgY29uc3QgZ2V0RGlmZmVyZW50UmFuZG9tTnVtID0gKG1pbiwgbWF4LCBkaWZmZXJlbnRGcm9tKSA9PiB7XG4gIGxldCByYW5kO1xuICBkbyB7XG4gICAgcmFuZCA9IGdldFJhbmRvbU51bShtaW4sIG1heCk7XG4gIH0gd2hpbGUgKHJhbmQgPT09IGRpZmZlcmVudEZyb20pO1xuXG4gIHJldHVybiByYW5kO1xufTtcbiIsImNsYXNzIE5vZGUge1xuICBjb25zdHJ1Y3RvcihzdGF0dXMsIHgsIHksIGRpc3QsIHByZXZJZCwgZGlyZWN0aW9uKSB7XG4gICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgdGhpcy5pZCA9IGAke3h9LSR7eX1gO1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLmRpc3QgPSBkaXN0O1xuICAgIHRoaXMucHJldklkID0gcHJldklkO1xuICAgIHRoaXMuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgIHRoaXMuaGV1cmlzdGljRGlzdGFuY2UgPSBudWxsO1xuXG4gICAgdGhpcy51cGRhdGUgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgdXBkYXRlKHZhbHVlcykge1xuICAgIGZvciAobGV0IGZpZWxkS2V5IG9mIE9iamVjdC5rZXlzKHRoaXMpKSB7XG4gICAgICBmb3IgKGxldCB2YWxLZXkgb2YgT2JqZWN0LmtleXModmFsdWVzKSkge1xuICAgICAgICBpZiAoZmllbGRLZXkgPT09IHZhbEtleSkge1xuICAgICAgICAgIHRoaXNbZmllbGRLZXldID0gdmFsdWVzW3ZhbEtleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTm9kZTtcbiIsIi8qKlxuICogUG9zc2libGUgZGlyZWN0aW9ucyBvZiBub2RlXG4gKi9cbmV4cG9ydCBjb25zdCBkaXJlY3Rpb25zID0ge1xuICBub3J0aDogMCxcbiAgZWFzdDogMSxcbiAgc291dGg6IDIsXG4gIHdlc3Q6IDMsXG59O1xuXG5jb25zdCBkaXJlY3Rpb25zTmFtZSA9IFtcIm5vcnRoXCIsIFwiZWFzdFwiLCBcInNvdXRoXCIsIFwid2VzdFwiXTtcblxuLyoqXG4gKiBHZXQgZGlyZWN0aW9uIG5hbWUgYnkgcHJvdmlkZWQgaW5kZXhcbiAqL1xuZXhwb3J0IGNvbnN0IGdldERpcmVjdGlvbk5hbWUgPSAoaW5kZXgpID0+IGRpcmVjdGlvbnNOYW1lW2luZGV4XTtcblxuLyoqXG4gKiB3ZWlnaHRzIG9mIHR1cm5zIGNhbGMgYnkgZGVncmVlc1xuICovXG5leHBvcnQgY29uc3Qgd2VpZ2h0VHVybl85MCA9IDE7XG5leHBvcnQgY29uc3Qgd2VpZ2h0VHVybl8xODAgPSAyO1xuXG4vKipcbiAqIHdlaWdodCBvZiBtb3ZlXG4gKi9cbmV4cG9ydCBjb25zdCBtb3ZlV2VpZ2h0ID0gMTtcblxuLyoqXG4gKiBOb2RlIGNhbiBiZSBkaXJlY3RlZCBpbnRvIDQgZGlyZWN0aW9ucyAtIG5vcnRoLCBlYXN0LCBzb3V0aCBhbmQgd2VzdFxuICogVGhlIGFycmF5IHJlcHJlc2VudHMgdGhlIHdlaWdodCBvZiBjaG9vc2luZyB0aGUgbmV4dCBkaXJlY3Rpb25cbiAqIDkwIGRlZ3JlZSB0dXJuIGNvc3RzIDEgcG9pbnRzXG4gKiBbMF0gLSBnbyBub3J0aCB3ZWlnaHRcbiAqIFsxXSAtIGdvIGVhc3Qgd2VpZ2h0XG4gKiBbMl0gLSBnbyBzb3V0aCB3ZWlnaHRcbiAqIFszXSAtIGdvIHdlc3Qgd2VpZ2h0XG4gKi9cbmV4cG9ydCBjb25zdCBub3J0aERpcmVjdGlvbldlaWdodHMgPSBbXG4gIDAsXG4gIHdlaWdodFR1cm5fOTAsXG4gIHdlaWdodFR1cm5fMTgwLFxuICB3ZWlnaHRUdXJuXzkwLFxuXTtcbmV4cG9ydCBjb25zdCBlYXN0RGlyZWN0aW9uV2VpZ2h0cyA9IFtcbiAgd2VpZ2h0VHVybl85MCxcbiAgMCxcbiAgd2VpZ2h0VHVybl85MCxcbiAgd2VpZ2h0VHVybl8xODAsXG5dO1xuZXhwb3J0IGNvbnN0IHNvdXRoRGlyZWN0aW9uV2VpZ2h0cyA9IFtcbiAgd2VpZ2h0VHVybl8xODAsXG4gIHdlaWdodFR1cm5fOTAsXG4gIDAsXG4gIHdlaWdodFR1cm5fOTAsXG5dO1xuZXhwb3J0IGNvbnN0IHdlc3REaXJlY3Rpb25XZWlnaHRzID0gW1xuICB3ZWlnaHRUdXJuXzkwLFxuICB3ZWlnaHRUdXJuXzE4MCxcbiAgd2VpZ2h0VHVybl85MCxcbiAgMCxcbl07XG5cbmV4cG9ydCBjb25zdCBnZXREaXJlY3Rpb25XZWlnaHRzQmFzZWRPbkN1cnJEaXJlY3Rpb24gPSAoY3VyckRpcmVjdGlvbikgPT4ge1xuICBpZiAoY3VyckRpcmVjdGlvbiA9PT0gMCkge1xuICAgIHJldHVybiBub3J0aERpcmVjdGlvbldlaWdodHM7XG4gIH0gZWxzZSBpZiAoY3VyckRpcmVjdGlvbiA9PT0gMSkge1xuICAgIHJldHVybiBlYXN0RGlyZWN0aW9uV2VpZ2h0cztcbiAgfSBlbHNlIGlmIChjdXJyRGlyZWN0aW9uID09PSAyKSB7XG4gICAgcmV0dXJuIHNvdXRoRGlyZWN0aW9uV2VpZ2h0cztcbiAgfSBlbHNlIGlmIChjdXJyRGlyZWN0aW9uID09PSAzKSB7XG4gICAgcmV0dXJuIHdlc3REaXJlY3Rpb25XZWlnaHRzO1xuICB9XG59O1xuXG4vKipcbiAqIEdldCBkaXN0YW5jZSBiZXR3ZWVuIHR3byBub2RlcyBiYXNlZCBvbiB0aGUgd2VpZ2h0XG4gKi9cbmV4cG9ydCBjb25zdCBnZXREaXN0YW5jZUJldHdlZW5Ob2RlcyA9IChub2RlXzEsIG5vZGVfMikgPT4ge1xuICAvLyBub2RlXzIgaXMgdXBcbiAgaWYgKG5vZGVfMS55IDwgbm9kZV8yLnkgJiYgbm9kZV8xLnggPT09IG5vZGVfMi54KSB7XG4gICAgcmV0dXJuIG5vcnRoRGlyZWN0aW9uV2VpZ2h0c1tub2RlXzEuZGlyZWN0aW9uXSArIG1vdmVXZWlnaHQ7XG4gIH1cbiAgLy8gbm9kZV8yIGlzIHJpZ2h0XG4gIGVsc2UgaWYgKG5vZGVfMS54IDwgbm9kZV8yLnggJiYgbm9kZV8xLnkgPT09IG5vZGVfMi55KSB7XG4gICAgcmV0dXJuIGVhc3REaXJlY3Rpb25XZWlnaHRzW25vZGVfMS5kaXJlY3Rpb25dICsgbW92ZVdlaWdodDtcbiAgfVxuICAvLyBub2RlXzIgaXMgYm90dG9tXG4gIGVsc2UgaWYgKG5vZGVfMS55ID4gbm9kZV8yLnkgJiYgbm9kZV8xLnggPT09IG5vZGVfMi54KSB7XG4gICAgcmV0dXJuIHNvdXRoRGlyZWN0aW9uV2VpZ2h0c1tub2RlXzEuZGlyZWN0aW9uXSArIG1vdmVXZWlnaHQ7XG4gIH1cbiAgLy8gbm9kZV8yIGlzIGxlZnRcbiAgZWxzZSBpZiAobm9kZV8xLnggPiBub2RlXzIueCAmJiBub2RlXzEueSA9PT0gbm9kZV8yLnkpIHtcbiAgICByZXR1cm4gd2VzdERpcmVjdGlvbldlaWdodHNbbm9kZV8xLmRpcmVjdGlvbl0gKyBtb3ZlV2VpZ2h0O1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hlbiBzZXR0aW5nIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIG5vZGVzLlwiXG4gICAgKTtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm4gZGlyZWN0aW9uIG9mIG5vZGVfMiBiYXNlZCBvbiB0aGVpciBwb3NpdGlvbnNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldE5vZGVEaXJlY3Rpb24gPSAobm9kZV8xLCBub2RlXzIpID0+IHtcbiAgaWYgKG5vZGVfMS55IDwgbm9kZV8yLnkgJiYgbm9kZV8xLnggPT09IG5vZGVfMi54KSB7XG4gICAgcmV0dXJuIGRpcmVjdGlvbnNbXCJub3J0aFwiXTtcbiAgfSBlbHNlIGlmIChub2RlXzEueCA8IG5vZGVfMi54ICYmIG5vZGVfMS55ID09PSBub2RlXzIueSkge1xuICAgIHJldHVybiBkaXJlY3Rpb25zW1wiZWFzdFwiXTtcbiAgfSBlbHNlIGlmIChub2RlXzEueSA+IG5vZGVfMi55ICYmIG5vZGVfMS54ID09PSBub2RlXzIueCkge1xuICAgIHJldHVybiBkaXJlY3Rpb25zW1wic291dGhcIl07XG4gIH0gZWxzZSBpZiAobm9kZV8xLnggPiBub2RlXzIueCAmJiBub2RlXzEueSA9PT0gbm9kZV8yLnkpIHtcbiAgICByZXR1cm4gZGlyZWN0aW9uc1tcIndlc3RcIl07XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hlbiBzZXR0aW5nIHRoZSBkaXJlY3Rpb24gb2Ygbm9kZS5cIik7XG4gIH1cbn07XG5cbi8qKlxuICogUmV0dXJuIG1hbmhhdHRhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwcm92aWRlZCBub2RlcyB3aXRoIGFkZGl0aW9uYWxcbiAqIGhldXJpc3RpYyB3ZWlnaHRcbiAqXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRXZWlnaHRlZE1hbmhhdHRhbkRpc3RhbmNlID0gKG5vZGUsIGVuZCkgPT4ge1xuICBjb25zdCB4RGlmZiA9IE1hdGguYWJzKG5vZGUueCAtIGVuZC54KTtcbiAgY29uc3QgeURpZmYgPSBNYXRoLmFicyhub2RlLnkgLSBlbmQueSk7XG4gIGxldCBhZGRpdGlvbmFsV2VpZ2h0ID0gMDtcbiAgY29uc3Qgd2VpZ2h0cyA9IGdldERpcmVjdGlvbldlaWdodHNCYXNlZE9uQ3VyckRpcmVjdGlvbihub2RlLmRpcmVjdGlvbik7XG5cbiAgaWYgKG5vZGUueSA8IGVuZC55KSB7XG4gICAgYWRkaXRpb25hbFdlaWdodCArPSB3ZWlnaHRzWzBdO1xuICAgIGlmIChub2RlLnggPCBlbmQueCkge1xuICAgICAgYWRkaXRpb25hbFdlaWdodCArPSB3ZWlnaHRzWzFdO1xuICAgIH0gZWxzZSBpZiAobm9kZS54ID4gZW5kLngpIHtcbiAgICAgIGFkZGl0aW9uYWxXZWlnaHQgKz0gd2VpZ2h0c1szXTtcbiAgICB9XG4gIH0gZWxzZSBpZiAobm9kZS55ID4gZW5kLnkpIHtcbiAgICBhZGRpdGlvbmFsV2VpZ2h0ICs9IHdlaWdodHNbMl07XG4gICAgaWYgKG5vZGUueCA8IGVuZC54KSB7XG4gICAgICBhZGRpdGlvbmFsV2VpZ2h0ICs9IHdlaWdodHNbMV07XG4gICAgfSBlbHNlIGlmIChub2RlLnggPiBlbmQueCkge1xuICAgICAgYWRkaXRpb25hbFdlaWdodCArPSB3ZWlnaHRzWzNdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB4RGlmZiArIHlEaWZmICsgYWRkaXRpb25hbFdlaWdodDtcbn07XG4iLCIvKipcbiAqIEdldCBub2RlIG5laWdoYm9ycydzIGlkc1xuICovXG5leHBvcnQgY29uc3QgZ2V0TmVpZ2hib3JzSWRzID0gKHVudmlzaXRlZE5vZGVzSWRzLCBub2RlcywgeCwgeSkgPT4ge1xuICBsZXQgYXJyID0gW107XG4gIGlmIChcbiAgICBub2Rlc1tgJHt4fS0ke3kgKyAxfWBdICYmXG4gICAgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3h9LSR7eSArIDF9YCkuY2xhc3NMaXN0LmNvbnRhaW5zKFwid2FsbFwiKVxuICApIHtcbiAgICBhcnIucHVzaChgJHt4fS0ke3kgKyAxfWApO1xuICB9XG4gIGlmIChcbiAgICBub2Rlc1tgJHt4ICsgMX0tJHt5fWBdICYmXG4gICAgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3ggKyAxfS0ke3l9YCkuY2xhc3NMaXN0LmNvbnRhaW5zKFwid2FsbFwiKVxuICApIHtcbiAgICBhcnIucHVzaChgJHt4ICsgMX0tJHt5fWApO1xuICB9XG4gIGlmIChcbiAgICBub2Rlc1tgJHt4fS0ke3kgLSAxfWBdICYmXG4gICAgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3h9LSR7eSAtIDF9YCkuY2xhc3NMaXN0LmNvbnRhaW5zKFwid2FsbFwiKVxuICApIHtcbiAgICBhcnIucHVzaChgJHt4fS0ke3kgLSAxfWApO1xuICB9XG4gIGlmIChcbiAgICBub2Rlc1tgJHt4IC0gMX0tJHt5fWBdICYmXG4gICAgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3ggLSAxfS0ke3l9YCkuY2xhc3NMaXN0LmNvbnRhaW5zKFwid2FsbFwiKVxuICApIHtcbiAgICBhcnIucHVzaChgJHt4IC0gMX0tJHt5fWApO1xuICB9XG5cbiAgcmV0dXJuIGFyci5maWx0ZXIoKHBvdGVudGlhbE5laWdoYm9ySWQpID0+XG4gICAgdW52aXNpdGVkTm9kZXNJZHMuZmluZCgobm9kZUlkKSA9PiBwb3RlbnRpYWxOZWlnaGJvcklkID09PSBub2RlSWQpXG4gICk7XG59O1xuIiwiLyoqXG4gKiBHZXQgdGhlIGNsb3Nlc3Qgbm9kZVxuICovXG5leHBvcnQgY29uc3QgZ2V0Q2xvc2VzdE5vZGUgPSAodW52aXNpdGVkSWRzLCBub2RlcykgPT4ge1xuICBsZXQgbWluID0gSW5maW5pdHk7XG4gIGxldCBtaW5EaXN0Tm9kZUlkID0gMDtcbiAgbGV0IGluZGV4ID0gMDtcblxuICB1bnZpc2l0ZWRJZHMuZm9yRWFjaCgoaWQsIGkpID0+IHtcbiAgICBpZiAobm9kZXNbaWRdKSB7XG4gICAgICBpZiAobm9kZXNbaWRdLmRpc3QgPCBtaW4pIHtcbiAgICAgICAgbWluID0gbm9kZXNbaWRdLmRpc3Q7XG4gICAgICAgIG1pbkRpc3ROb2RlSWQgPSBpZDtcbiAgICAgICAgaW5kZXggPSBpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgdW52aXNpdGVkSWRzLnNwbGljZShpbmRleCwgMSk7XG5cbiAgcmV0dXJuIG5vZGVzW21pbkRpc3ROb2RlSWRdO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIGNsb3Nlc3Qgbm9kZSBiYXNlZCBvbiBkaXN0YW5jZSBmcm9tIHN0YXJ0IGFuZCBoZXVyaXN0aWMgZGlzdGFuY2VcbiAqIGZyb20gY3VycmVudCBwb3NpdGlvbiB0byBlbmQgcG9zaXRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGdldENsb3Nlc3ROb2RlV2l0aEhldXJpc3RpY0Rpc3QgPSAodW52aXNpdGVkSWRzLCBub2RlcykgPT4ge1xuICBsZXQgbWluID0gSW5maW5pdHk7XG4gIGxldCBtaW5IZXVyaXN0aWNEaXN0Tm9kZUlkID0gMDtcbiAgbGV0IGluZGV4ID0gMDtcblxuICB1bnZpc2l0ZWRJZHMuZm9yRWFjaCgoaWQsIGkpID0+IHtcbiAgICBpZiAobm9kZXNbaWRdICYmIG5vZGVzW2lkXS5kaXN0ICE9PSBJbmZpbml0eSkge1xuICAgICAgY29uc3Qgbm9kZVNjb3JlID0gbm9kZXNbaWRdLmRpc3QgKyBub2Rlc1tpZF0uaGV1cmlzdGljRGlzdGFuY2U7XG4gICAgICBpZiAobm9kZVNjb3JlIDwgbWluKSB7XG4gICAgICAgIG1pbiA9IG5vZGVTY29yZTtcbiAgICAgICAgbWluSGV1cmlzdGljRGlzdE5vZGVJZCA9IGlkO1xuICAgICAgICBpbmRleCA9IGk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICB1bnZpc2l0ZWRJZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgcmV0dXJuIG5vZGVzW21pbkhldXJpc3RpY0Rpc3ROb2RlSWRdO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgbm9kZXMgYXJlIGF0IHRoZSBzYW1lIHBvc2l0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBpc1NhbWVOb2RlID0gKG4xLCBuMikgPT4gbjEueCA9PT0gbjIueCAmJiBuMS55ID09PSBuMi55O1xuIiwiZXhwb3J0IGRlZmF1bHQgKG1zKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xufTtcbiIsImltcG9ydCBhc3luY0RlbGF5IGZyb20gXCIuL2FzeW5jRGVsYXlcIjtcblxuZXhwb3J0IGNvbnN0IHZpc3VhbGl6ZVZpc2l0ZWROb2RlID0gYXN5bmMgKGlkLCBkZWxheSkgPT4ge1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuY2xhc3NMaXN0LnJlbW92ZShcInVudmlzaXRlZFwiKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLmNsYXNzTGlzdC5yZW1vdmUoXCJuZWlnaGJvclwiKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLmNsYXNzTGlzdC5hZGQoXCJ2aXNpdGVkXCIpO1xuICBhd2FpdCBhc3luY0RlbGF5KGRlbGF5IC8gNSk7XG59O1xuXG5leHBvcnQgY29uc3QgdmlzdWFsaXplTmVpZ2hib3JOb2RlID0gYXN5bmMgKGlkLCBkZWxheSkgPT4ge1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuY2xhc3NMaXN0LmFkZChcIm5laWdoYm9yXCIpO1xuICBhd2FpdCBhc3luY0RlbGF5KGRlbGF5IC8gNSk7XG59O1xuXG5leHBvcnQgY29uc3QgdmlzdWFsaXplUGF0aCA9IGFzeW5jICh2aXNpdGVkTm9kZXMsIHN0YXJ0LCBlbmQsIGRlbGF5KSA9PiB7XG4gIGxldCBwYXRoSWRzID0gW107XG4gIGxldCBmb3VuZFN0YXJ0ID0gZmFsc2U7XG4gIGxldCBjdXJyTm9kZSA9IHZpc2l0ZWROb2Rlc1tgJHtlbmQueH0tJHtlbmQueX1gXTtcbiAgcGF0aElkcy5wdXNoKGN1cnJOb2RlLmlkKTtcblxuICB3aGlsZSAoIWZvdW5kU3RhcnQpIHtcbiAgICBpZiAoY3Vyck5vZGUueCA9PT0gc3RhcnQueCAmJiBjdXJyTm9kZS55ID09PSBzdGFydC55KSB7XG4gICAgICBmb3VuZFN0YXJ0ID0gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBwYXRoSWRzLnB1c2goY3Vyck5vZGUucHJldklkKTtcbiAgICBjdXJyTm9kZSA9IHZpc2l0ZWROb2Rlc1tjdXJyTm9kZS5wcmV2SWRdO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IHBhdGhJZHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwYXRoSWRzW2ldKS5jbGFzc0xpc3QuYWRkKFwicGF0aFwiKTtcbiAgICBhd2FpdCBhc3luY0RlbGF5KGRlbGF5KTtcbiAgfVxufTtcbiIsImV4cG9ydCBjb25zdCBhc3luY0ZvckVhY2ggPSBhc3luYyAoYXJyLCBjYWxsYmFjaykgPT4ge1xuICBjb25zdCBsZW4gPSBhcnIubGVuZ3RoO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYXdhaXQgY2FsbGJhY2soYXJyW2ldLCBpLCBhcnIpO1xuICB9XG59O1xuIiwiaW1wb3J0IFwiLi9hc3NldHMvc2Fzcy9tYWluLnNjc3NcIjtcbmltcG9ydCBCb2FyZCBmcm9tIFwiLi9tb2R1bGVzL0JvYXJkXCI7XG5pbXBvcnQgeyBkaWprc3RyYSB9IGZyb20gXCIuL21vZHVsZXMvYWxnb3JpdGhtcy9kaWprc3RyYVwiO1xuaW1wb3J0IHsgYnJlYWR0aEZpcnN0IH0gZnJvbSBcIi4vbW9kdWxlcy9hbGdvcml0aG1zL2JyZWFkdGhGaXJzdFwiO1xuaW1wb3J0IHsgZGVwdGhGaXJzdCB9IGZyb20gXCIuL21vZHVsZXMvYWxnb3JpdGhtcy9kZXB0aEZpcnN0XCI7XG5pbXBvcnQgeyBhc3RhciB9IGZyb20gXCIuL21vZHVsZXMvYWxnb3JpdGhtcy9hc3RhclwiO1xuXG5jb25zdCBwYXRoZmluZGluZ0FsZ29yaXRobXMgPSB7XG4gIGRpamtzdHJhOiB7XG4gICAgbmFtZTogXCJEaWprc3RyYVwiLFxuICAgIGZ1bmM6IGRpamtzdHJhLFxuICB9LFxuICBiZnM6IHtcbiAgICBuYW1lOiBcIkJyZWFkdGgtRmlyc3QgU2VhcmNoXCIsXG4gICAgZnVuYzogYnJlYWR0aEZpcnN0LFxuICB9LFxuICBkZnM6IHtcbiAgICBuYW1lOiBcIkRlcHRoLUZpcnN0IFNlYXJjaFwiLFxuICAgIGZ1bmM6IGRlcHRoRmlyc3QsXG4gIH0sXG4gIGFzdGFyOiB7XG4gICAgbmFtZTogXCJBKiBTZWFyY2hcIixcbiAgICBmdW5jOiBhc3RhcixcbiAgfSxcbn07XG5cbmNvbnN0IGJvYXJkID0gbmV3IEJvYXJkKFwiYm9hcmRcIiwgMjUsIHBhdGhmaW5kaW5nQWxnb3JpdGhtcyk7XG5ib2FyZC5pbml0aWFsaXplKCk7XG4iLCJpbXBvcnQgeyBjcmVhdGVCbG9jayB9IGZyb20gXCIuL2hlbHBlcnMvYmxvY2tcIjtcbmltcG9ydCB7IGdldFJhbmRvbU51bSB9IGZyb20gXCIuL2hlbHBlcnMvZ2V0UmFuZG9tTnVtXCI7XG5pbXBvcnQgeyBnZXREaWZmZXJlbnRSYW5kb21OdW0gfSBmcm9tIFwiLi9oZWxwZXJzL2dldERpZmZlcmVudFJhbmRvbU51bVwiO1xuaW1wb3J0IE5vZGUgZnJvbSBcIi4vTm9kZVwiO1xuaW1wb3J0IHsgZGlyZWN0aW9ucywgZ2V0RGlyZWN0aW9uTmFtZSB9IGZyb20gXCIuL2FsZ29yaXRobXMvaGVscGVycy93ZWlnaHRlZFwiO1xuXG5jbGFzcyBCb2FyZCB7XG4gIGNvbnN0cnVjdG9yKGJvYXJkSWQsIGJsb2NrU2l6ZSwgYWxnb3JpdGhtcykge1xuICAgIHRoaXMuYm9hcmRJZCA9IGJvYXJkSWQ7XG4gICAgdGhpcy5ibG9ja1NpemUgPSBibG9ja1NpemU7XG4gICAgdGhpcy53aWR0aCA9IG51bGw7XG4gICAgdGhpcy5oZWlnaHQgPSBudWxsO1xuICAgIHRoaXMubm9kZXMgPSB7fTtcbiAgICB0aGlzLnN0YXJ0Tm9kZSA9IG51bGw7XG4gICAgdGhpcy5zdGFydEluaXRpYWxEaXJlY3Rpb24gPSBcIm5vcnRoXCI7XG4gICAgdGhpcy5lbmROb2RlID0gbnVsbDtcbiAgICB0aGlzLmlzTWFraW5nV2FsbHMgPSBmYWxzZTtcbiAgICB0aGlzLmlzTm9kZURyYWdnZWQgPSBmYWxzZTtcbiAgICB0aGlzLmRyYWdnZWROb2RlQ2xhc3NMaXN0ID0gbnVsbDtcbiAgICB0aGlzLmFsZ29yaXRobXMgPSBhbGdvcml0aG1zO1xuICAgIHRoaXMuY3VycmVudEFsZ29yaXRobSA9IG51bGw7XG4gICAgdGhpcy5zcGVlZCA9IDQwO1xuICAgIHRoaXMuaXNTZWFyY2hpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmlzUHJlcGFyZWQgPSBmYWxzZTtcbiAgfVxuXG4gIGluaXRpYWxpemUoKSB7XG4gICAgdGhpcy5jcmVhdGVOYXYoKTtcbiAgICB0aGlzLmNhbGN1bGF0ZUJvYXJkU2l6ZSgpO1xuICAgIHRoaXMuY3JlYXRlQm9hcmQoKTtcbiAgICB0aGlzLnNldFN0YXJ0Tm9kZSgpO1xuICAgIHRoaXMuc2V0RW5kTm9kZSgpO1xuXG4gICAgdGhpcy5zZXRDdXJyZW50QWxnb3JpdGhtKFwiZGlqa3N0cmFcIik7XG5cbiAgICB0aGlzLmFkZE5hdkFsZ29FbGVtc0V2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5hZGRCbG9ja3NFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuYWRkQnRuc0V2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICBjb25zb2xlLmxvZyh0aGlzKTtcbiAgICB0aGlzLmlzUHJlcGFyZWQgPSB0cnVlO1xuICB9XG5cbiAgY2FsY3VsYXRlQm9hcmRTaXplKCkge1xuICAgIGNvbnN0IGJvYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5ib2FyZElkKTtcbiAgICBjb25zdCBweFdpZHRoID0gYm9hcmQuY2xpZW50V2lkdGg7XG4gICAgY29uc3QgcHhIZWlnaHQgPSBib2FyZC5jbGllbnRIZWlnaHQ7XG5cbiAgICB0aGlzLndpZHRoID0gTWF0aC5mbG9vcihweFdpZHRoIC8gdGhpcy5ibG9ja1NpemUpO1xuICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5mbG9vcihweEhlaWdodCAvIHRoaXMuYmxvY2tTaXplKTtcbiAgfVxuXG4gIGNyZWF0ZUJvYXJkKCkge1xuICAgIGNvbnN0IGJvYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5ib2FyZElkKTtcbiAgICBjb25zdCB0Ym9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKTtcblxuICAgIGZvciAobGV0IHkgPSB0aGlzLmhlaWdodCAtIDE7IHkgPj0gMDsgeS0tKSB7XG4gICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMud2lkdGg7IHgrKykge1xuICAgICAgICBjcmVhdGVCbG9jayhyb3csIHRoaXMuYmxvY2tTaXplLCB4LCB5KTtcblxuICAgICAgICBjb25zdCBuZXdOb2RlID0gbmV3IE5vZGUoXCJibG9ja1wiLCB4LCB5LCBJbmZpbml0eSwgbnVsbCwgbnVsbCk7XG4gICAgICAgIHRoaXMubm9kZXNbbmV3Tm9kZS5pZF0gPSBuZXdOb2RlO1xuICAgICAgfVxuICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQocm93KTtcbiAgICB9XG5cbiAgICBib2FyZC5hcHBlbmRDaGlsZCh0Ym9keSk7XG4gIH1cblxuICBjcmVhdGVOYXYoKSB7XG4gICAgY29uc3QgbmF2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXZcIik7XG4gICAgZm9yIChsZXQgW2tleSwgYWxnb10gb2YgT2JqZWN0LmVudHJpZXModGhpcy5hbGdvcml0aG1zKSkge1xuICAgICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoXCJuYXYtYWxnb3JpdGhtLWpzXCIpO1xuICAgICAgZWxlbS5pbm5lclRleHQgPSBhbGdvLm5hbWU7XG4gICAgICBlbGVtLmRhdGFzZXQuYWxnb3JpdGhtS2V5ID0ga2V5O1xuICAgICAgbmF2LmFwcGVuZENoaWxkKGVsZW0pO1xuICAgIH1cbiAgfVxuXG4gIHNldEN1cnJlbnRBbGdvcml0aG0oYWxnbykge1xuICAgIHRoaXMuY3VycmVudEFsZ29yaXRobSA9IHRoaXMuYWxnb3JpdGhtc1thbGdvXS5mdW5jO1xuICAgIGNvbnN0IGVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXYtYWxnb3JpdGhtLWpzXCIpO1xuICAgIGVsZW1zWzBdLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gIH1cblxuICBzZXRTdGFydE5vZGUoKSB7XG4gICAgY29uc3QgcmFuZFggPSBnZXRSYW5kb21OdW0oMCwgdGhpcy53aWR0aCAtIDEpO1xuICAgIGNvbnN0IHJhbmRZID0gZ2V0UmFuZG9tTnVtKDAsIHRoaXMuaGVpZ2h0IC0gMSk7XG4gICAgY29uc3QgaWQgPSBgJHtyYW5kWH0tJHtyYW5kWX1gO1xuXG4gICAgdGhpcy5zZXROb2RlQXNTdGFydChpZCk7XG4gICAgZG9jdW1lbnRcbiAgICAgIC5nZXRFbGVtZW50QnlJZCh0aGlzLnN0YXJ0Tm9kZS5pZClcbiAgICAgIC5jbGFzc0xpc3QuYWRkKFwic3RhcnRcIiwgdGhpcy5zdGFydEluaXRpYWxEaXJlY3Rpb24pO1xuICB9XG5cbiAgc2V0RW5kTm9kZSgpIHtcbiAgICBjb25zdCByYW5kWCA9IGdldERpZmZlcmVudFJhbmRvbU51bSgwLCB0aGlzLndpZHRoIC0gMSwgdGhpcy5zdGFydE5vZGUueCk7XG4gICAgY29uc3QgcmFuZFkgPSBnZXREaWZmZXJlbnRSYW5kb21OdW0oMCwgdGhpcy5oZWlnaHQgLSAxLCB0aGlzLnN0YXJ0Tm9kZS55KTtcbiAgICBjb25zdCBpZCA9IGAke3JhbmRYfS0ke3JhbmRZfWA7XG5cbiAgICB0aGlzLnNldE5vZGVBc0VuZChpZCk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5lbmROb2RlLmlkKS5jbGFzc0xpc3QuYWRkKFwiZW5kXCIpO1xuICB9XG5cbiAgYWRkTmF2QWxnb0VsZW1zRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdi1hbGdvcml0aG0tanNcIik7XG5cbiAgICBlbGVtcy5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICBjb25zdCBpc0Jsb2NrZWQgPSBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJibG9ja2VkXCIpO1xuICAgICAgICBpZiAoaXNCbG9ja2VkKSByZXR1cm47XG5cbiAgICAgICAgZWxlbXMuZm9yRWFjaCgoZWxlbSkgPT4gZWxlbS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpKTtcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICAgICAgdGhpcy5jdXJyZW50QWxnb3JpdGhtID0gdGhpcy5hbGdvcml0aG1zW1xuICAgICAgICAgIGUudGFyZ2V0LmRhdGFzZXQuYWxnb3JpdGhtS2V5XG4gICAgICAgIF0uZnVuYztcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkQnRuc0V2ZW50TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IHN0YXJ0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdGFydEJ0blwiKTtcbiAgICBjb25zdCBjbGVhckJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2xlYXJCdG5cIik7XG5cbiAgICBzdGFydEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKGUpID0+IHtcbiAgICAgIGlmICh0aGlzLmlzUHJlcGFyZWQpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVJc1NlYXJjaGluZ1N0YXRlKHRydWUpO1xuICAgICAgICB0aGlzLmhhbmRsZUlzUHJlcGFyZWRTdGF0ZShmYWxzZSk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5jdXJyZW50QWxnb3JpdGhtKFxuICAgICAgICAgIHRoaXMubm9kZXMsXG4gICAgICAgICAgdGhpcy5zdGFydE5vZGUsXG4gICAgICAgICAgdGhpcy5lbmROb2RlLFxuICAgICAgICAgIHRoaXMuc3BlZWRcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5oYW5kbGVJc1NlYXJjaGluZ1N0YXRlKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNsZWFyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgaWYgKCF0aGlzLmlzU2VhcmNoaW5nKSB7XG4gICAgICAgIHRoaXMuY2xlYXJCb2FyZCgpO1xuICAgICAgICB0aGlzLmhhbmRsZUlzUHJlcGFyZWRTdGF0ZSh0cnVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGFkZEJsb2Nrc0V2ZW50TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGJsb2NrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudW52aXNpdGVkXCIpO1xuXG4gICAgYmxvY2tzLmZvckVhY2goKGJsb2NrKSA9PiB7XG4gICAgICBibG9jay5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5oYW5kbGVNb3VzZURvd24oYmxvY2spO1xuICAgICAgfSk7XG5cbiAgICAgIGJsb2NrLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5oYW5kbGVNb3VzZUVudGVyKGJsb2NrKTtcbiAgICAgIH0pO1xuXG4gICAgICBibG9jay5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuaGFuZGxlTW91c2VVcChibG9jayk7XG4gICAgICB9KTtcblxuICAgICAgYmxvY2suYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmhhbmRsZU1vdXNlTGVhdmUoYmxvY2spO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVNb3VzZURvd24oYmxvY2spIHtcbiAgICBjb25zdCBpZCA9IGJsb2NrLmlkO1xuICAgIGlmICghdGhpcy5pc05vZGVCbG9jayhpZCkpIHtcbiAgICAgIHRoaXMuZHJhZ2dlZE5vZGVJZCA9IGlkO1xuICAgICAgdGhpcy5pc05vZGVEcmFnZ2VkID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmlzTm9kZURyYWdnZWQpIHtcbiAgICAgIHRoaXMuY3JlYXRlV2FsbChibG9jayk7XG4gICAgICB0aGlzLnNldE1ha2luZ1dhbGxzU3RhdGUodHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlTW91c2VFbnRlcihibG9jaykge1xuICAgIGlmICh0aGlzLmlzTm9kZURyYWdnZWQgJiYgIXRoaXMuaXNCbG9ja1dhbGwoYmxvY2spKSB7XG4gICAgICBjb25zdCBkcmFnZ2VkTm9kZSA9IHRoaXMubm9kZXNbdGhpcy5kcmFnZ2VkTm9kZUlkXTtcbiAgICAgIGlmIChkcmFnZ2VkTm9kZS5zdGF0dXMgPT09IFwic3RhcnRcIiAmJiAhYmxvY2suY2xhc3NMaXN0LmNvbnRhaW5zKFwiZW5kXCIpKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbk5hbWUgPSBnZXREaXJlY3Rpb25OYW1lKGRyYWdnZWROb2RlLmRpcmVjdGlvbik7XG4gICAgICAgIGJsb2NrLmNsYXNzTGlzdC5hZGQoXCJzdGFydFwiLCBkaXJlY3Rpb25OYW1lKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIGRyYWdnZWROb2RlLnN0YXR1cyA9PT0gXCJlbmRcIiAmJlxuICAgICAgICAhYmxvY2suY2xhc3NMaXN0LmNvbnRhaW5zKFwic3RhcnRcIilcbiAgICAgICkge1xuICAgICAgICBibG9jay5jbGFzc0xpc3QuYWRkKFwiZW5kXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5pc01ha2luZ1dhbGxzICYmIHRoaXMuaXNOb2RlQmxvY2soYmxvY2suaWQpKSB7XG4gICAgICB0aGlzLmNyZWF0ZVdhbGwoYmxvY2spO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZU1vdXNlVXAoYmxvY2spIHtcbiAgICBjb25zdCBpZCA9IGJsb2NrLmlkO1xuICAgIGlmIChcbiAgICAgIHRoaXMuaXNOb2RlRHJhZ2dlZCAmJlxuICAgICAgaWQgIT09IHRoaXMuZHJhZ2dlZE5vZGVJZCAmJlxuICAgICAgIXRoaXMuaXNCbG9ja1dhbGwoYmxvY2spXG4gICAgKSB7XG4gICAgICBpZiAodGhpcy5ub2Rlc1t0aGlzLmRyYWdnZWROb2RlSWRdLnN0YXR1cyA9PT0gXCJzdGFydFwiKSB7XG4gICAgICAgIHRoaXMuc2V0Tm9kZUFzU3RhcnQoaWQpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLm5vZGVzW3RoaXMuZHJhZ2dlZE5vZGVJZF0uc3RhdHVzID09PSBcImVuZFwiKSB7XG4gICAgICAgIHRoaXMuc2V0Tm9kZUFzRW5kKGlkKTtcbiAgICAgIH1cblxuICAgICAgLy8gdXBkYXRlIHRoZSBpbml0aWFsbHkgZHJhZ2dlZCBub2RlXG4gICAgICB0aGlzLnNldE5vZGVBc0Jsb2NrKHRoaXMuZHJhZ2dlZE5vZGVJZCk7XG5cbiAgICAgIHRoaXMuaXNOb2RlRHJhZ2dlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5kcmFnZ2VkTm9kZUlkID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRNYWtpbmdXYWxsc1N0YXRlKGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVNb3VzZUxlYXZlKGJsb2NrKSB7XG4gICAgaWYgKHRoaXMuaXNOb2RlRHJhZ2dlZCkge1xuICAgICAgY29uc3QgZHJhZ2dlZE5vZGUgPSB0aGlzLm5vZGVzW3RoaXMuZHJhZ2dlZE5vZGVJZF07XG4gICAgICBpZiAoZHJhZ2dlZE5vZGUuc3RhdHVzID09PSBcInN0YXJ0XCIpIHtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uTmFtZSA9IGdldERpcmVjdGlvbk5hbWUoZHJhZ2dlZE5vZGUuZGlyZWN0aW9uKTtcbiAgICAgICAgYmxvY2suY2xhc3NMaXN0LnJlbW92ZShcInN0YXJ0XCIsIGRpcmVjdGlvbk5hbWUpO1xuICAgICAgfSBlbHNlIGlmIChkcmFnZ2VkTm9kZS5zdGF0dXMgPT09IFwiZW5kXCIpIHtcbiAgICAgICAgYmxvY2suY2xhc3NMaXN0LnJlbW92ZShcImVuZFwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvL1xuICBpc05vZGVCbG9jayhpZCkge1xuICAgIHJldHVybiAhKFxuICAgICAgdGhpcy5ub2Rlc1tpZF0uc3RhdHVzID09PSBcInN0YXJ0XCIgfHwgdGhpcy5ub2Rlc1tpZF0uc3RhdHVzID09PSBcImVuZFwiXG4gICAgKTtcbiAgfVxuXG4gIC8vIFdBTExTXG4gIGNyZWF0ZVdhbGwoYmxvY2spIHtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IGJsb2NrLmNsYXNzTGlzdC5hZGQoXCJ3YWxsXCIpKTtcbiAgfVxuXG4gIGlzQmxvY2tXYWxsKGJsb2NrKSB7XG4gICAgcmV0dXJuIGJsb2NrLmNsYXNzTGlzdC5jb250YWlucyhcIndhbGxcIik7XG4gIH1cblxuICBzZXRNYWtpbmdXYWxsc1N0YXRlKGJvb2wpIHtcbiAgICB0aGlzLmlzTWFraW5nV2FsbHMgPSBib29sO1xuICB9XG5cbiAgaGFuZGxlSXNTZWFyY2hpbmdTdGF0ZShpc1NlYXJjaGluZykge1xuICAgIHRoaXMuaXNTZWFyY2hpbmcgPSBpc1NlYXJjaGluZztcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsZWFyQnRuXCIpLmRpc2FibGVkID0gaXNTZWFyY2hpbmc7XG4gIH1cblxuICBoYW5kbGVJc1ByZXBhcmVkU3RhdGUoaXNQcmVwYXJlZCkge1xuICAgIHRoaXMuaXNQcmVwYXJlZCA9IGlzUHJlcGFyZWQ7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdGFydEJ0blwiKS5kaXNhYmxlZCA9ICFpc1ByZXBhcmVkO1xuICB9XG5cbiAgY2xlYXJCb2FyZCgpIHtcbiAgICBmb3IgKGxldCB5ID0gdGhpcy5oZWlnaHQgLSAxOyB5ID49IDA7IHktLSkge1xuICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLndpZHRoOyB4KyspIHtcbiAgICAgICAgdGhpcy5ub2Rlc1tgJHt4fS0ke3l9YF0udXBkYXRlKHtcbiAgICAgICAgICBzdGF0dXM6IFwiYmxvY2tcIixcbiAgICAgICAgICBkaXN0OiBJbmZpbml0eSxcbiAgICAgICAgICBwcmV2SWQ6IG51bGwsXG4gICAgICAgICAgZGlyZWN0aW9uOiBudWxsLFxuICAgICAgICB9KTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7eH0tJHt5fWApLmNsYXNzTGlzdCA9IFtdO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHt4fS0ke3l9YCkuY2xhc3NMaXN0LmFkZChcInVudmlzaXRlZFwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5zZXRTdGFydE5vZGUoKTtcbiAgICB0aGlzLnNldEVuZE5vZGUoKTtcbiAgfVxuXG4gIHNldE5vZGVBc1N0YXJ0KG5vZGVJZCkge1xuICAgIHRoaXMubm9kZXNbbm9kZUlkXS51cGRhdGUoe1xuICAgICAgc3RhdHVzOiBcInN0YXJ0XCIsXG4gICAgICBkaXN0OiAwLFxuICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb25zW3RoaXMuc3RhcnRJbml0aWFsRGlyZWN0aW9uXSxcbiAgICB9KTtcbiAgICB0aGlzLnN0YXJ0Tm9kZSA9IHRoaXMubm9kZXNbbm9kZUlkXTtcbiAgfVxuXG4gIHNldE5vZGVBc0VuZChub2RlSWQpIHtcbiAgICB0aGlzLm5vZGVzW25vZGVJZF0udXBkYXRlKHtcbiAgICAgIHN0YXR1czogXCJlbmRcIixcbiAgICAgIGRpc3Q6IEluZmluaXR5LFxuICAgICAgZGlyZWN0aW9uOiBudWxsLFxuICAgIH0pO1xuICAgIHRoaXMuZW5kTm9kZSA9IHRoaXMubm9kZXNbbm9kZUlkXTtcbiAgfVxuXG4gIHNldE5vZGVBc0Jsb2NrKG5vZGVJZCkge1xuICAgIHRoaXMubm9kZXNbbm9kZUlkXS51cGRhdGUoe1xuICAgICAgc3RhdHVzOiBcImJsb2NrXCIsXG4gICAgICBkaXN0OiBJbmZpbml0eSxcbiAgICAgIGRpcmVjdGlvbjogbnVsbCxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCb2FyZDtcbiIsImltcG9ydCB7IGdldERpc3RhbmNlQmV0d2Vlbk5vZGVzLCBnZXROb2RlRGlyZWN0aW9uIH0gZnJvbSBcIi4vaGVscGVycy93ZWlnaHRlZFwiO1xuaW1wb3J0IHsgZ2V0TmVpZ2hib3JzSWRzIH0gZnJvbSBcIi4vaGVscGVycy9uZWlnaGJvcnNcIjtcbmltcG9ydCB7IGdldENsb3Nlc3ROb2RlLCBpc1NhbWVOb2RlIH0gZnJvbSBcIi4vaGVscGVycy9ub2Rlc1wiO1xuaW1wb3J0IHtcbiAgdmlzdWFsaXplTmVpZ2hib3JOb2RlLFxuICB2aXN1YWxpemVWaXNpdGVkTm9kZSxcbiAgdmlzdWFsaXplUGF0aCxcbn0gZnJvbSBcIi4uL2hlbHBlcnMvdmlzdWFsaXplclwiO1xuXG5leHBvcnQgY29uc3QgZGlqa3N0cmEgPSBhc3luYyAobm9kZXMsIHN0YXJ0LCBlbmQsIHNwZWVkKSA9PiB7XG4gIGxldCB1bnZpc2l0ZWROb2Rlc0lkcyA9IE9iamVjdC5rZXlzKG5vZGVzKTtcbiAgbGV0IHZpc2l0ZWROb2RlcyA9IHt9O1xuICBsZXQgZm91bmRFbmQgPSBmYWxzZTtcblxuICB3aGlsZSAodW52aXNpdGVkTm9kZXNJZHMubGVuZ3RoKSB7XG4gICAgY29uc3QgY3Vyck5vZGUgPSBnZXRDbG9zZXN0Tm9kZSh1bnZpc2l0ZWROb2Rlc0lkcywgbm9kZXMpO1xuICAgIGlmICghY3Vyck5vZGUpIGJyZWFrO1xuICAgIGF3YWl0IHZpc3VhbGl6ZVZpc2l0ZWROb2RlKGN1cnJOb2RlLmlkLCBzcGVlZCk7XG5cbiAgICB2aXNpdGVkTm9kZXNbY3Vyck5vZGUuaWRdID0gY3Vyck5vZGU7XG5cbiAgICBpZiAoaXNTYW1lTm9kZShjdXJyTm9kZSwgZW5kKSkge1xuICAgICAgZm91bmRFbmQgPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY29uc3QgbmVpZ2hib3JzSWRzID0gZ2V0TmVpZ2hib3JzSWRzKFxuICAgICAgdW52aXNpdGVkTm9kZXNJZHMsXG4gICAgICBub2RlcyxcbiAgICAgIGN1cnJOb2RlLngsXG4gICAgICBjdXJyTm9kZS55XG4gICAgKTtcblxuICAgIG5laWdoYm9yc0lkcy5mb3JFYWNoKChuZWlnaGJvcklkKSA9PiB7XG4gICAgICBjb25zdCBkaXN0YW5jZUJldHdlZW5Ob2RlcyA9IGdldERpc3RhbmNlQmV0d2Vlbk5vZGVzKFxuICAgICAgICBjdXJyTm9kZSxcbiAgICAgICAgbm9kZXNbbmVpZ2hib3JJZF1cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGlzTmVpZ2hib3JGdXJ0aGVyRnJvbVN0YXJ0ID1cbiAgICAgICAgY3Vyck5vZGUuZGlzdCArIGRpc3RhbmNlQmV0d2Vlbk5vZGVzIDwgbm9kZXNbbmVpZ2hib3JJZF0uZGlzdDtcblxuICAgICAgaWYgKGlzTmVpZ2hib3JGdXJ0aGVyRnJvbVN0YXJ0KSB7XG4gICAgICAgIHZpc3VhbGl6ZU5laWdoYm9yTm9kZShuZWlnaGJvcklkKTtcbiAgICAgICAgbm9kZXNbbmVpZ2hib3JJZF0uZGlzdCA9IGN1cnJOb2RlLmRpc3QgKyBkaXN0YW5jZUJldHdlZW5Ob2RlcztcbiAgICAgICAgbm9kZXNbbmVpZ2hib3JJZF0ucHJldklkID0gY3Vyck5vZGUuaWQ7XG4gICAgICAgIG5vZGVzW25laWdoYm9ySWRdLmRpcmVjdGlvbiA9IGdldE5vZGVEaXJlY3Rpb24oXG4gICAgICAgICAgY3Vyck5vZGUsXG4gICAgICAgICAgbm9kZXNbbmVpZ2hib3JJZF1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmIChmb3VuZEVuZCkge1xuICAgIHZpc3VhbGl6ZVBhdGgodmlzaXRlZE5vZGVzLCBzdGFydCwgZW5kLCBzcGVlZCk7XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBnZXROZWlnaGJvcnNJZHMgfSBmcm9tIFwiLi9oZWxwZXJzL25laWdoYm9yc1wiO1xuaW1wb3J0IHtcbiAgdmlzdWFsaXplUGF0aCxcbiAgdmlzdWFsaXplVmlzaXRlZE5vZGUsXG4gIHZpc3VhbGl6ZU5laWdoYm9yTm9kZSxcbn0gZnJvbSBcIi4uL2hlbHBlcnMvdmlzdWFsaXplclwiO1xuaW1wb3J0IHsgZ2V0Q2xvc2VzdE5vZGUsIGlzU2FtZU5vZGUgfSBmcm9tIFwiLi9oZWxwZXJzL25vZGVzXCI7XG5pbXBvcnQgeyBhc3luY0ZvckVhY2ggfSBmcm9tIFwiLi4vaGVscGVycy9hc3luY0ZvckVhY2hcIjtcblxuZXhwb3J0IGNvbnN0IGJyZWFkdGhGaXJzdCA9IGFzeW5jIChub2Rlcywgc3RhcnQsIGVuZCwgc3BlZWQpID0+IHtcbiAgbGV0IHVudmlzaXRlZE5vZGVzSWRzID0gT2JqZWN0LmtleXMobm9kZXMpO1xuICBsZXQgdmlzaXRlZE5vZGVzID0ge307XG4gIGxldCBmb3VuZEVuZCA9IGZhbHNlO1xuXG4gIHdoaWxlICh1bnZpc2l0ZWROb2Rlc0lkcy5sZW5ndGgpIHtcbiAgICBjb25zdCBjdXJyTm9kZSA9IGdldENsb3Nlc3ROb2RlKHVudmlzaXRlZE5vZGVzSWRzLCBub2Rlcyk7XG4gICAgaWYgKCFjdXJyTm9kZSkgYnJlYWs7XG5cbiAgICBhd2FpdCB2aXN1YWxpemVWaXNpdGVkTm9kZShjdXJyTm9kZS5pZCwgc3BlZWQpO1xuXG4gICAgdmlzaXRlZE5vZGVzW2N1cnJOb2RlLmlkXSA9IGN1cnJOb2RlO1xuXG4gICAgaWYgKGlzU2FtZU5vZGUoY3Vyck5vZGUsIGVuZCkpIHtcbiAgICAgIGZvdW5kRW5kID0gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGNvbnN0IG5laWdoYm9yc0lkcyA9IGdldE5laWdoYm9yc0lkcyhcbiAgICAgIHVudmlzaXRlZE5vZGVzSWRzLFxuICAgICAgbm9kZXMsXG4gICAgICBjdXJyTm9kZS54LFxuICAgICAgY3Vyck5vZGUueVxuICAgICk7XG5cbiAgICBhd2FpdCBhc3luY0ZvckVhY2gobmVpZ2hib3JzSWRzLCAobmVpZ2hib3JJZCkgPT4ge1xuICAgICAgY29uc3QgaXNOZWlnaGJvckZ1cnRoZXJGcm9tU3RhcnQgPSBjdXJyTm9kZS5kaXN0IDwgbm9kZXNbbmVpZ2hib3JJZF0uZGlzdDtcblxuICAgICAgaWYgKGlzTmVpZ2hib3JGdXJ0aGVyRnJvbVN0YXJ0KSB7XG4gICAgICAgIHZpc3VhbGl6ZU5laWdoYm9yTm9kZShuZWlnaGJvcklkLCBzcGVlZCk7XG5cbiAgICAgICAgbm9kZXNbbmVpZ2hib3JJZF0uZGlzdCA9IGN1cnJOb2RlLmRpc3QgKyAxO1xuICAgICAgICBub2Rlc1tuZWlnaGJvcklkXS5wcmV2SWQgPSBjdXJyTm9kZS5pZDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmIChmb3VuZEVuZCkge1xuICAgIHZpc3VhbGl6ZVBhdGgodmlzaXRlZE5vZGVzLCBzdGFydCwgZW5kLCBzcGVlZCk7XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBnZXROZWlnaGJvcnNJZHMgfSBmcm9tIFwiLi9oZWxwZXJzL25laWdoYm9yc1wiO1xuaW1wb3J0IHsgdmlzdWFsaXplUGF0aCwgdmlzdWFsaXplVmlzaXRlZE5vZGUgfSBmcm9tIFwiLi4vaGVscGVycy92aXN1YWxpemVyXCI7XG5pbXBvcnQgeyBpc1NhbWVOb2RlIH0gZnJvbSBcIi4vaGVscGVycy9ub2Rlc1wiO1xuaW1wb3J0IHsgYXN5bmNGb3JFYWNoIH0gZnJvbSBcIi4uL2hlbHBlcnMvYXN5bmNGb3JFYWNoXCI7XG5cbmV4cG9ydCBjb25zdCBkZXB0aEZpcnN0ID0gYXN5bmMgKG5vZGVzLCBzdGFydCwgZW5kLCBzcGVlZCkgPT4ge1xuICBsZXQgdW52aXNpdGVkTm9kZXNJZHMgPSBPYmplY3Qua2V5cyhub2Rlcyk7XG4gIGxldCB2aXNpdGVkTm9kZXMgPSB7fTtcbiAgbGV0IGZvdW5kRW5kID0gZmFsc2U7XG5cbiAgY29uc3Qgc2VhcmNoID0gYXN5bmMgKGN1cnJOb2RlLCBwcmV2SWQpID0+IHtcbiAgICBpZiAoIWN1cnJOb2RlKSByZXR1cm47XG4gICAgaWYgKGZvdW5kRW5kKSByZXR1cm47XG4gICAgYXdhaXQgdmlzdWFsaXplVmlzaXRlZE5vZGUoY3Vyck5vZGUuaWQpO1xuXG4gICAgY3Vyck5vZGUucHJldklkID0gcHJldklkO1xuICAgIHZpc2l0ZWROb2Rlc1tjdXJyTm9kZS5pZF0gPSBjdXJyTm9kZTtcbiAgICB1bnZpc2l0ZWROb2Rlc0lkcyA9IHVudmlzaXRlZE5vZGVzSWRzLmZpbHRlcigoaWQpID0+IGlkICE9PSBjdXJyTm9kZS5pZCk7XG5cbiAgICBpZiAoaXNTYW1lTm9kZShjdXJyTm9kZSwgZW5kKSkge1xuICAgICAgZm91bmRFbmQgPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG5laWdoYm9yc0lkcyA9IGdldE5laWdoYm9yc0lkcyhcbiAgICAgIHVudmlzaXRlZE5vZGVzSWRzLFxuICAgICAgbm9kZXMsXG4gICAgICBjdXJyTm9kZS54LFxuICAgICAgY3Vyck5vZGUueVxuICAgICk7XG5cbiAgICBhd2FpdCBhc3luY0ZvckVhY2gobmVpZ2hib3JzSWRzLCAoaWQpID0+IHNlYXJjaChub2Rlc1tpZF0sIGN1cnJOb2RlLmlkKSk7XG4gIH07XG5cbiAgYXdhaXQgc2VhcmNoKG5vZGVzW2Ake3N0YXJ0Lnh9LSR7c3RhcnQueX1gXSk7XG5cbiAgaWYgKGZvdW5kRW5kKSB7XG4gICAgdmlzdWFsaXplUGF0aCh2aXNpdGVkTm9kZXMsIHN0YXJ0LCBlbmQsIHNwZWVkKTtcbiAgfVxufTtcbiIsImltcG9ydCB7XG4gIGdldERpc3RhbmNlQmV0d2Vlbk5vZGVzLFxuICBnZXROb2RlRGlyZWN0aW9uLFxuICBnZXRXZWlnaHRlZE1hbmhhdHRhbkRpc3RhbmNlLFxufSBmcm9tIFwiLi9oZWxwZXJzL3dlaWdodGVkXCI7XG5pbXBvcnQgeyBnZXROZWlnaGJvcnNJZHMgfSBmcm9tIFwiLi9oZWxwZXJzL25laWdoYm9yc1wiO1xuaW1wb3J0IHsgZ2V0Q2xvc2VzdE5vZGVXaXRoSGV1cmlzdGljRGlzdCwgaXNTYW1lTm9kZSB9IGZyb20gXCIuL2hlbHBlcnMvbm9kZXNcIjtcbmltcG9ydCB7XG4gIHZpc3VhbGl6ZVZpc2l0ZWROb2RlLFxuICB2aXN1YWxpemVQYXRoLFxuICB2aXN1YWxpemVOZWlnaGJvck5vZGUsXG59IGZyb20gXCIuLi9oZWxwZXJzL3Zpc3VhbGl6ZXJcIjtcbmltcG9ydCB7IGFzeW5jRm9yRWFjaCB9IGZyb20gXCIuLi9oZWxwZXJzL2FzeW5jRm9yRWFjaFwiO1xuXG5leHBvcnQgY29uc3QgYXN0YXIgPSBhc3luYyAobm9kZXMsIHN0YXJ0LCBlbmQsIHNwZWVkKSA9PiB7XG4gIGxldCB1bnZpc2l0ZWROb2Rlc0lkcyA9IE9iamVjdC5rZXlzKG5vZGVzKTtcbiAgbGV0IHZpc2l0ZWROb2RlcyA9IHt9O1xuICBsZXQgZm91bmRFbmQgPSBmYWxzZTtcblxuICBub2Rlc1tzdGFydC5pZF0uaGV1cmlzdGljRGlzdGFuY2UgPSBnZXRXZWlnaHRlZE1hbmhhdHRhbkRpc3RhbmNlKHN0YXJ0LCBlbmQpO1xuXG4gIHdoaWxlICh1bnZpc2l0ZWROb2Rlc0lkcy5sZW5ndGgpIHtcbiAgICBjb25zdCBjdXJyTm9kZSA9IGdldENsb3Nlc3ROb2RlV2l0aEhldXJpc3RpY0Rpc3QodW52aXNpdGVkTm9kZXNJZHMsIG5vZGVzKTtcbiAgICBpZiAoIWN1cnJOb2RlKSBicmVhaztcblxuICAgIGF3YWl0IHZpc3VhbGl6ZVZpc2l0ZWROb2RlKGN1cnJOb2RlLmlkLCBzcGVlZCk7XG5cbiAgICB2aXNpdGVkTm9kZXNbY3Vyck5vZGUuaWRdID0gY3Vyck5vZGU7XG5cbiAgICBpZiAoaXNTYW1lTm9kZShjdXJyTm9kZSwgZW5kKSkge1xuICAgICAgZm91bmRFbmQgPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY29uc3QgbmVpZ2hib3JzSWRzID0gZ2V0TmVpZ2hib3JzSWRzKFxuICAgICAgdW52aXNpdGVkTm9kZXNJZHMsXG4gICAgICBub2RlcyxcbiAgICAgIGN1cnJOb2RlLngsXG4gICAgICBjdXJyTm9kZS55XG4gICAgKTtcblxuICAgIGF3YWl0IGFzeW5jRm9yRWFjaChuZWlnaGJvcnNJZHMsIGFzeW5jIChuZWlnaGJvcklkKSA9PiB7XG4gICAgICBjb25zdCBkaXN0YW5jZUJldHdlZW5Ob2RlcyA9IGdldERpc3RhbmNlQmV0d2Vlbk5vZGVzKFxuICAgICAgICBjdXJyTm9kZSxcbiAgICAgICAgbm9kZXNbbmVpZ2hib3JJZF1cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGlzTmVpZ2hib3JGdXJ0aGVyRnJvbVN0YXJ0ID1cbiAgICAgICAgY3Vyck5vZGUuZGlzdCArIGRpc3RhbmNlQmV0d2Vlbk5vZGVzIDwgbm9kZXNbbmVpZ2hib3JJZF0uZGlzdDtcblxuICAgICAgaWYgKGlzTmVpZ2hib3JGdXJ0aGVyRnJvbVN0YXJ0KSB7XG4gICAgICAgIGF3YWl0IHZpc3VhbGl6ZU5laWdoYm9yTm9kZShuZWlnaGJvcklkLCBzcGVlZCk7XG5cbiAgICAgICAgbm9kZXNbbmVpZ2hib3JJZF0uZGlzdCA9IGN1cnJOb2RlLmRpc3QgKyBkaXN0YW5jZUJldHdlZW5Ob2RlcztcbiAgICAgICAgbm9kZXNbbmVpZ2hib3JJZF0uZGlyZWN0aW9uID0gZ2V0Tm9kZURpcmVjdGlvbihcbiAgICAgICAgICBjdXJyTm9kZSxcbiAgICAgICAgICBub2Rlc1tuZWlnaGJvcklkXVxuICAgICAgICApO1xuICAgICAgICBub2Rlc1tuZWlnaGJvcklkXS5oZXVyaXN0aWNEaXN0YW5jZSA9IGdldFdlaWdodGVkTWFuaGF0dGFuRGlzdGFuY2UoXG4gICAgICAgICAgbm9kZXNbbmVpZ2hib3JJZF0sXG4gICAgICAgICAgZW5kXG4gICAgICAgICk7XG4gICAgICAgIG5vZGVzW25laWdoYm9ySWRdLnByZXZJZCA9IGN1cnJOb2RlLmlkO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gbmVpZ2hib3JzSWRzLmZvckVhY2goKG5laWdoYm9ySWQpID0+IHtcblxuICAgIC8vIH0pO1xuICB9XG5cbiAgaWYgKGZvdW5kRW5kKSB7XG4gICAgdmlzdWFsaXplUGF0aCh2aXNpdGVkTm9kZXMsIHN0YXJ0LCBlbmQsIHNwZWVkKTtcbiAgfVxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=