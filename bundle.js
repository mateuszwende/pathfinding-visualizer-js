!function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=3)}([function(t,e,s){var i=s(1),n=s(2);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[t.i,n,""]]);var r={insert:"head",singleton:!1},a=(i(n,r),n.locals?n.locals:{});t.exports=a},function(t,e,s){"use strict";var i,n=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},r=function(){var t={};return function(e){if(void 0===t[e]){var s=document.querySelector(e);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(t){s=null}t[e]=s}return t[e]}}(),a=[];function d(t){for(var e=-1,s=0;s<a.length;s++)if(a[s].identifier===t){e=s;break}return e}function o(t,e){for(var s={},i=[],n=0;n<t.length;n++){var r=t[n],o=e.base?r[0]+e.base:r[0],l=s[o]||0,c="".concat(o," ").concat(l);s[o]=l+1;var h=d(c),u={css:r[1],media:r[2],sourceMap:r[3]};-1!==h?(a[h].references++,a[h].updater(u)):a.push({identifier:c,updater:v(u,e),references:1}),i.push(c)}return i}function l(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var n=s.nc;n&&(i.nonce=n)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var a=r(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var c,h=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function u(t,e,s,i){var n=s?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=h(e,n);else{var r=document.createTextNode(n),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function f(t,e,s){var i=s.css,n=s.media,r=s.sourceMap;if(n?t.setAttribute("media",n):t.removeAttribute("media"),r&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var g=null,m=0;function v(t,e){var s,i,n;if(e.singleton){var r=m++;s=g||(g=l(e)),i=u.bind(null,s,r,!1),n=u.bind(null,s,r,!0)}else s=l(e),i=f.bind(null,s,e),n=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(s)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else n()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=n());var s=o(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<s.length;i++){var n=d(s[i]);a[n].references--}for(var r=o(t,e),l=0;l<s.length;l++){var c=d(s[l]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}s=r}}}},function(t,e,s){},function(t,e,s){"use strict";s.r(e);s(0);const i=(t,e,s,i)=>{const n=document.createElement("td");n.id=`${s}-${i}`,n.classList.add("unvisited"),n.style.width=e+"px",n.style.height=e+"px",n.dataset.x=s,n.dataset.y=i,t.appendChild(n)},n=(t,e)=>Math.floor(Math.random()*e)+t,r=(t,e,s)=>{let i;do{i=n(t,e)}while(i===s);return i},a={north:0,east:1,south:2,west:3},d=[0,1,2,1],o=[1,0,1,2],l=[2,1,0,1],c=[1,2,1,0],h=(t,e)=>{if(t.y<e.y&&t.x===e.x)return d[t.direction]+1;if(t.x<e.x&&t.y===e.y)return o[t.direction]+1;if(t.y>e.y&&t.x===e.x)return l[t.direction]+1;if(t.x>e.x&&t.y===e.y)return c[t.direction]+1;throw new Error("Something went wrong when setting the distance between nodes.")},u=(t,e)=>{if(t.y<e.y&&t.x===e.x)return a.north;if(t.x<e.x&&t.y===e.y)return a.east;if(t.y>e.y&&t.x===e.x)return a.south;if(t.x>e.x&&t.y===e.y)return a.west;throw new Error("Something went wrong when setting the direction of node.")},f=(t,e)=>{const s=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y);let n=0;const r=0===(a=t.direction)?d:1===a?o:2===a?l:3===a?c:void 0;var a;return t.y<e.y?(n+=r[0],t.x<e.x?n+=r[1]:t.x>e.x&&(n+=r[3])):t.y>e.y&&(n+=r[2],t.x<e.x?n+=r[1]:t.x>e.x&&(n+=r[3])),s+i+n};var g=(t,e)=>{for(let s of Object.keys(t))for(let i of Object.keys(e))s===i&&(t[s]=e[i])};var m=class{constructor({status:t,x:e,y:s,prevId:i,dist:n}){this.status=t,this.id=`${e}-${s}`,this.x=e,this.y=s,this.prevId=i,this.dist=n}};var v=class extends m{constructor({direction:t,...e}){super(e),this.direction=t}};var y=class extends v{constructor({heuristicDistance:t,...e}){super(e),this.heuristicDistance=t}};const p="NORMAL",E="WEIGHTED",b="HEURISTIC",N="block",w="start",I="end",x="wall";var S=class{static createNode(t,e){switch(t){case p:return new m(e);case E:return new v(e);case b:return new y(e);default:return new m(e)}}};const L=(t,e,s)=>S.createNode(s.node.type,{x:t,y:e,...s.node.initialValues}),k=t=>t.status===N,$=t=>t.status===w,B="nav-algorithm-js",D="blocked",M="active",A="wall",O="unvisited",C="nav",j="startBtn",T="clearBtn",P=(t,...e)=>t.classList.contains(e),z=(t,...e)=>t.classList.remove(e),W=(t,...e)=>t.classList.add(e);function _(){}(_=t=>document.querySelector(t)).all=t=>document.querySelectorAll(t);var q=class{static addNavEventListeners(t){_.all("."+B).forEach(e=>{e.addEventListener("click",e=>{t(e)})})}static addStartBtnEventListener(t){_("#"+j).addEventListener("click",async e=>{t(e)})}static addClearBtnEventListener(t){_("#"+T).addEventListener("click",e=>{t(e)})}static addBlocksEventListeners(t){_.all("."+O).forEach(e=>{e.addEventListener("mousedown",e=>{e.preventDefault(),t.handleMouseDownOnBlock(e.target)}),e.addEventListener("mouseenter",e=>{e.preventDefault(),t.handleMouseEnterOnBlock(e.target)}),e.addEventListener("mouseup",e=>{e.preventDefault(),t.handleMouseUpOnBlock(e.target)}),e.addEventListener("mouseleave",e=>{e.preventDefault(),t.handleMouseLeaveOnBlock(e.target)})})}};var U=class{constructor({boardId:t,blockSize:e,speed:s,algorithms:i,initialAlgorithm:n}){this.boardId=t,this.blockSize=e,this.width=null,this.height=null,this.nodes={},this.startNode=null,this.startDirection="east",this.endNode=null,this.isNodeDragged=!1,this.isSearching=!1,this.isPrepared=!1,this.isMakingWalls=!1,this.isNodeDragged=!1,this.draggedNodeId=null,this.speed=s||10,this.algorithms=i||null,this.currentAlgorithm=n||null}initialize(){this.createNav(),this.calculateBoardSize(),this.createBoard(),this.createStartNode(),this.createEndNode(),this.setInitialActiveNavAlgorithm(),this.addNavAlgoElemsEventListeners(),this.addBlocksEventListeners(),this.addBtnsEventListeners(),q.addNavEventListeners(this.handleNavItemOnClick.bind(this)),console.log(this),this.isPrepared=!0}handleNavItemOnClick(t){const e=t.target;P(e,D)||(_.all("."+B).forEach(t=>z(t,M)),W(e,M),this.setCurrentAlgorithm(e.dataset.algorithmKey),this.resetNodes())}calculateBoardSize(){const t=document.getElementById(this.boardId),e=t.clientWidth,s=t.clientHeight;this.width=Math.floor(e/this.blockSize),this.height=Math.floor(s/this.blockSize)}createBoard(){const t=document.getElementById(this.boardId),e=document.createElement("tbody");for(let t=this.height-1;t>=0;t--){const s=document.createElement("tr");for(let e=0;e<this.width;e++)i(s,this.blockSize,e,t),this.nodes[`${e}-${t}`]=L(e,t,this.currentAlgorithm);e.appendChild(s)}t.appendChild(e)}createNav(){const t=document.getElementById(C);for(let[e,s]of Object.entries(this.algorithms)){const i=document.createElement("div");W(i,B),i.innerText=s.name,i.dataset.algorithmKey=e,t.appendChild(i)}}setInitialActiveNavAlgorithm(){document.querySelectorAll("."+B)[0].classList.add(M)}createStartNode(){const t=`${n(0,this.width-1)}-${n(0,this.height-1)}`;this.setStartNode(t);const e=document.getElementById(this.startNode.id);W(e,w),this.startDirection&&W(e,this.startDirection)}createEndNode(){const t=`${r(0,this.width-1,this.startNode.x)}-${r(0,this.height-1,this.startNode.y)}`;this.setEndNode(t);const e=document.getElementById(this.endNode.id);W(e,I)}setStartNode(t){g(this.nodes[t],{status:w,dist:0,direction:this.startDirection?a[this.startDirection]:null}),this.startNode=this.nodes[t]}setEndNode(t){g(this.nodes[t],{status:I,dist:1/0}),this.endNode=this.nodes[t]}resetNodeToInitial(t){g(this.nodes[t],this.currentAlgorithm.node.initialValues)}addNavAlgoElemsEventListeners(){const t=document.querySelectorAll("."+B);t.forEach(e=>{e.addEventListener("click",e=>{P(e.target,D)||(t.forEach(t=>t.classList.remove(M)),e.target.classList.add(M),this.setCurrentAlgorithm(e.target.dataset.algorithmKey),this.resetNodes())})})}addBtnsEventListeners(){const t=document.getElementById(j),e=document.getElementById(T);t.addEventListener("click",t=>this.handleStart(t)),e.addEventListener("click",t=>this.handleClear(t))}addBlocksEventListeners(){document.querySelectorAll("."+O).forEach(t=>{t.addEventListener("mousedown",e=>{e.preventDefault(),this.handleMouseDown(t)}),t.addEventListener("mouseenter",e=>{e.preventDefault(),this.handleMouseEnter(t)}),t.addEventListener("mouseup",e=>{e.preventDefault(),this.handleMouseUp(t)}),t.addEventListener("mouseleave",e=>{e.preventDefault(),this.handleMouseLeave(t)})})}async handleStart(t){this.isPrepared&&(this.handleIsSearchingState(!0),this.handleIsPreparedState(!1),await this.currentAlgorithm.func(this.nodes,this.startNode,this.endNode,this.speed),this.handleIsSearchingState(!1))}handleClear(t){this.isSearching||(this.clearBoard(),this.handleIsPreparedState(!0))}handleMouseDown(t){const e=t.id;k(this.nodes[e])?!this.isNodeDragged&&k(this.nodes[e])&&(this.createWall(t),this.isMakingWalls=!0):(this.draggedNodeId=e,this.isNodeDragged=!0)}handleMouseEnter(t){const e=t.id;if(this.isNodeDragged&&k(this.nodes[e])){const e=this.nodes[this.draggedNodeId],s=e.status;if(W(t,s),$(e)){const e=this.startDirection?this.startDirection:"";W(t,e)}}else this.isMakingWalls&&k(this.nodes[e])&&this.createWall(t)}handleMouseUp(t){const e=t.id;if(this.isNodeDragged&&this.nodes[e].status!==x&&this.draggedNodeId!==e){const t=this.nodes[this.draggedNodeId];$(t)?this.setStartNode(e):(t=>t.status===I)(t)&&this.setEndNode(e),this.resetNodeToInitial(this.draggedNodeId),this.isNodeDragged=!1,this.draggedNodeId=null}else this.isMakingWalls=!1}handleMouseLeave(t){if(this.isNodeDragged){const e=this.nodes[this.draggedNodeId];if(z(t,e.status),$(e)){const e=this.startDirection?this.startDirection:"";z(t,e)}}}createWall(t){W(t,A)}setCurrentAlgorithm(t){this.currentAlgorithm=t?this.algorithms[t]:null}handleIsSearchingState(t){this.isSearching=t,document.getElementById(T).disabled=t}handleIsPreparedState(t){this.isPrepared=t,document.getElementById(j).disabled=!t}clearBoard(){for(let t=this.height-1;t>=0;t--)for(let e=0;e<this.width;e++){const s=`${e}-${t}`;this.resetNodeToInitial(s),document.getElementById(`${e}-${t}`).classList=[],document.getElementById(`${e}-${t}`).classList.add(O)}this.createStartNode(),this.createEndNode()}resetNodes(){const t=this.startNode.id,e=this.endNode.id;this.nodes={};for(let t=this.height-1;t>=0;t--)for(let e=0;e<this.width;e++){const s=`${e}-${t}`;this.nodes[s]=L(e,t,this.currentAlgorithm)}this.setStartNode(t),this.setEndNode(e)}};const V=(t,e,s,i)=>{let n=[];return e[`${s}-${i+1}`]&&!document.getElementById(`${s}-${i+1}`).classList.contains("wall")&&n.push(`${s}-${i+1}`),e[`${s+1}-${i}`]&&!document.getElementById(`${s+1}-${i}`).classList.contains("wall")&&n.push(`${s+1}-${i}`),e[`${s}-${i-1}`]&&!document.getElementById(`${s}-${i-1}`).classList.contains("wall")&&n.push(`${s}-${i-1}`),e[`${s-1}-${i}`]&&!document.getElementById(`${s-1}-${i}`).classList.contains("wall")&&n.push(`${s-1}-${i}`),n.filter(e=>t.find(t=>e===t))};var H=t=>new Promise(e=>setTimeout(e,t));const F=async(t,e)=>{document.getElementById(t).classList.remove("unvisited"),document.getElementById(t).classList.remove("neighbor"),document.getElementById(t).classList.add("visited"),await H(e/5)},R=async(t,e)=>{document.getElementById(t).classList.add("neighbor"),await H(e/5)},K=async(t,e,s,i)=>{let n=[],r=!1,a=t[`${s.x}-${s.y}`];for(n.push(a.id);!r;){if(a.x===e.x&&a.y===e.y){r=!0;break}n.push(a.prevId),a=t[a.prevId]}for(let t=n.length-1;t>=0;t--)document.getElementById(n[t]).classList.add("path"),await H(i)},G=(t,e)=>{let s=1/0,i=0,n=0;return t.forEach((t,r)=>{e[t]&&e[t].dist<s&&(s=e[t].dist,i=t,n=r)}),t.splice(n,1),e[i]},J=(t,e)=>{let s=1/0,i=0,n=0;return t.forEach((t,r)=>{if(e[t]&&e[t].dist!==1/0){const a=e[t].dist+e[t].heuristicDistance;a<s&&(s=a,i=t,n=r)}}),t.splice(n,1),e[i]},Q=(t,e)=>t.x===e.x&&t.y===e.y,X=async(t,e)=>{const s=t.length;for(let i=0;i<s;i++)await e(t[i],i,t)},Y={bfs:{name:"Breadth-First Search",func:async(t,e,s,i)=>{let n=Object.keys(t),r={},a=!1;for(;n.length;){const e=G(n,t);if(!e)break;if(await F(e.id,i),r[e.id]=e,Q(e,s)){a=!0;break}const d=V(n,t,e.x,e.y);await X(d,s=>{e.dist<t[s].dist&&(R(s,i),t[s].dist=e.dist+1,t[s].prevId=e.id)})}a&&K(r,e,s,i)},node:{type:p,initialValues:{status:"block",prevId:null,dist:1/0}}},dfs:{name:"Depth-First Search",func:async(t,e,s,i)=>{let n=Object.keys(t),r={},a=!1;const d=async(e,i)=>{if(!e)return;if(a)return;if(await F(e.id),e.prevId=i,r[e.id]=e,n=n.filter(t=>t!==e.id),Q(e,s))return void(a=!0);const o=V(n,t,e.x,e.y);await X(o,s=>d(t[s],e.id))};await d(t[e.id]),a&&K(r,e,s,i)},node:{type:p,initialValues:{status:"block",prevId:null,dist:1/0}}},dijkstra:{name:"Dijkstra",func:async(t,e,s,i)=>{let n=Object.keys(t),r={},a=!1;for(;n.length;){const e=G(n,t);if(!e)break;if(await F(e.id,i),r[e.id]=e,Q(e,s)){a=!0;break}V(n,t,e.x,e.y).forEach(s=>{const i=h(e,t[s]);e.dist+i<t[s].dist&&(R(s),t[s].dist=e.dist+i,t[s].prevId=e.id,t[s].direction=u(e,t[s]))})}a&&K(r,e,s,i)},node:{type:E,initialValues:{status:"block",prevId:null,dist:1/0,direction:null}}},astar:{name:"A* Search",func:async(t,e,s,i)=>{let n=Object.keys(t),r={},a=!1;for(t[e.id].heuristicDistance=f(e,s);n.length;){const e=J(n,t);if(!e)break;if(await F(e.id,i),r[e.id]=e,Q(e,s)){a=!0;break}const d=V(n,t,e.x,e.y);await X(d,async n=>{const r=h(e,t[n]);e.dist+r<t[n].dist&&(await R(n,i),t[n].dist=e.dist+r,t[n].direction=u(e,t[n]),t[n].heuristicDistance=f(t[n],s),t[n].prevId=e.id)})}a&&K(r,e,s,i)},node:{type:b,initialValues:{status:"block",prevId:null,dist:1/0,direction:null,heuristicDistance:null}}}};new U({boardId:"board",blockSize:25,speed:40,algorithms:Y,initialAlgorithm:Y.bfs}).initialize()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9zYXNzL21haW4uc2NzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvaGVscGVycy9ibG9jay5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9oZWxwZXJzL2dldFJhbmRvbU51bS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9oZWxwZXJzL2dldERpZmZlcmVudFJhbmRvbU51bS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9hbGdvcml0aG1zL2hlbHBlcnMvd2VpZ2h0ZWQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvaGVscGVycy91cGRhdGVPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvbm9kZS9Ob2RlLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL25vZGUvTm9kZVdlaWdodGVkLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL25vZGUvTm9kZUhldXJpc3RpYy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9ub2RlL3R5cGVzLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL25vZGUvTm9kZUZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvbm9kZS9vcGVyYXRpb25zLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL2NvbnN0YW50cy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9oZWxwZXJzL2RvbS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9ldmVudHMtaGFuZGxlci9FdmVudHNIYW5kbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL0JvYXJkLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL2FsZ29yaXRobXMvaGVscGVycy9uZWlnaGJvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvaGVscGVycy9hc3luY0RlbGF5LmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL2hlbHBlcnMvdmlzdWFsaXplci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9hbGdvcml0aG1zL2hlbHBlcnMvbm9kZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvaGVscGVycy9hc3luY0ZvckVhY2guanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvYWxnb3JpdGhtcy90eXBlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9hbGdvcml0aG1zL2JyZWFkdGhGaXJzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9hbGdvcml0aG1zL2RlcHRoRmlyc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvYWxnb3JpdGhtcy9kaWprc3RyYS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9hbGdvcml0aG1zL2FzdGFyLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImFwaSIsImNvbnRlbnQiLCJkZWZhdWx0Iiwib3B0aW9ucyIsImV4cG9ydGVkIiwibG9jYWxzIiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwid2luZG93IiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibGVuZ3RoIiwibW9kdWxlc1RvRG9tIiwibGlzdCIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsIml0ZW0iLCJpZCIsImJhc2UiLCJjb3VudCIsImNvbmNhdCIsImluZGV4Iiwib2JqIiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsInB1c2giLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImtleXMiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJqb2luIiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsInJlbW92ZSIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiYXBwbHlUb1RhZyIsInJlbW92ZUF0dHJpYnV0ZSIsImJ0b2EiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmaXJzdENoaWxkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInVwZGF0ZSIsInN0eWxlSW5kZXgiLCJwYXJlbnROb2RlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwibmV3T2JqIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsInRvU3RyaW5nIiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2kiLCJfaW5kZXgiLCJzcGxpY2UiLCJjcmVhdGVCbG9jayIsInBhcmVudCIsImJsb2NrU2l6ZSIsIngiLCJ5IiwiYmxvY2siLCJjbGFzc0xpc3QiLCJhZGQiLCJ3aWR0aCIsImhlaWdodCIsImRhdGFzZXQiLCJnZXRSYW5kb21OdW0iLCJtaW4iLCJtYXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJnZXREaWZmZXJlbnRSYW5kb21OdW0iLCJkaWZmZXJlbnRGcm9tIiwicmFuZCIsImRpcmVjdGlvbnMiLCJub3J0aCIsImVhc3QiLCJzb3V0aCIsIndlc3QiLCJub3J0aERpcmVjdGlvbldlaWdodHMiLCJlYXN0RGlyZWN0aW9uV2VpZ2h0cyIsInNvdXRoRGlyZWN0aW9uV2VpZ2h0cyIsIndlc3REaXJlY3Rpb25XZWlnaHRzIiwiZ2V0RGlzdGFuY2VCZXR3ZWVuTm9kZXMiLCJub2RlXzEiLCJub2RlXzIiLCJkaXJlY3Rpb24iLCJnZXROb2RlRGlyZWN0aW9uIiwiZ2V0V2VpZ2h0ZWRNYW5oYXR0YW5EaXN0YW5jZSIsIm5vZGUiLCJlbmQiLCJ4RGlmZiIsImFicyIsInlEaWZmIiwiYWRkaXRpb25hbFdlaWdodCIsIndlaWdodHMiLCJjdXJyRGlyZWN0aW9uIiwiZmllbGRLZXkiLCJ2YWxLZXkiLCJ2YWx1ZXMiLCJzdGF0dXMiLCJwcmV2SWQiLCJkaXN0IiwidGhpcyIsInByb3BzIiwic3VwZXIiLCJoZXVyaXN0aWNEaXN0YW5jZSIsIk5PREVfVFlQRSIsIk5PREVfU1RBVFVTIiwidHlwZSIsImNyZWF0ZU5vZGUiLCJhbGdvcml0aG0iLCJpbml0aWFsVmFsdWVzIiwiaXNOb2RlQmxvY2siLCJpc05vZGVTdGFydCIsIkNTU19DTEFTUyIsIkNTU19JRCIsImhhc0NsYXNzIiwiZWxlbSIsImNsIiwiY29udGFpbnMiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiJCIsImlkZW50aWZlciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjYWxsYmFjayIsImFkZEV2ZW50TGlzdGVuZXIiLCJhc3luYyIsImNhbGxiYWNrcyIsInByZXZlbnREZWZhdWx0IiwiaGFuZGxlTW91c2VEb3duT25CbG9jayIsImhhbmRsZU1vdXNlRW50ZXJPbkJsb2NrIiwiaGFuZGxlTW91c2VVcE9uQmxvY2siLCJoYW5kbGVNb3VzZUxlYXZlT25CbG9jayIsImJvYXJkSWQiLCJzcGVlZCIsImFsZ29yaXRobXMiLCJpbml0aWFsQWxnb3JpdGhtIiwibm9kZXMiLCJzdGFydE5vZGUiLCJzdGFydERpcmVjdGlvbiIsImVuZE5vZGUiLCJpc05vZGVEcmFnZ2VkIiwiaXNTZWFyY2hpbmciLCJpc1ByZXBhcmVkIiwiaXNNYWtpbmdXYWxscyIsImRyYWdnZWROb2RlSWQiLCJjdXJyZW50QWxnb3JpdGhtIiwiY3JlYXRlTmF2IiwiY2FsY3VsYXRlQm9hcmRTaXplIiwiY3JlYXRlQm9hcmQiLCJjcmVhdGVTdGFydE5vZGUiLCJjcmVhdGVFbmROb2RlIiwic2V0SW5pdGlhbEFjdGl2ZU5hdkFsZ29yaXRobSIsImFkZE5hdkFsZ29FbGVtc0V2ZW50TGlzdGVuZXJzIiwiYWRkQmxvY2tzRXZlbnRMaXN0ZW5lcnMiLCJhZGRCdG5zRXZlbnRMaXN0ZW5lcnMiLCJhZGROYXZFdmVudExpc3RlbmVycyIsImhhbmRsZU5hdkl0ZW1PbkNsaWNrIiwiY29uc29sZSIsImxvZyIsInNldEN1cnJlbnRBbGdvcml0aG0iLCJhbGdvcml0aG1LZXkiLCJyZXNldE5vZGVzIiwiYm9hcmQiLCJnZXRFbGVtZW50QnlJZCIsInB4V2lkdGgiLCJjbGllbnRXaWR0aCIsInB4SGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwidGJvZHkiLCJyb3ciLCJuYXYiLCJhbGdvIiwiZW50cmllcyIsImlubmVyVGV4dCIsInNldFN0YXJ0Tm9kZSIsInNldEVuZE5vZGUiLCJub2RlSWQiLCJ1cGRhdGVPYmplY3QiLCJJbmZpbml0eSIsImVsZW1zIiwic3RhcnRCdG4iLCJjbGVhckJ0biIsImhhbmRsZVN0YXJ0IiwiaGFuZGxlQ2xlYXIiLCJoYW5kbGVNb3VzZURvd24iLCJoYW5kbGVNb3VzZUVudGVyIiwiaGFuZGxlTW91c2VVcCIsImhhbmRsZU1vdXNlTGVhdmUiLCJoYW5kbGVJc1NlYXJjaGluZ1N0YXRlIiwiaGFuZGxlSXNQcmVwYXJlZFN0YXRlIiwiZnVuYyIsImNsZWFyQm9hcmQiLCJjcmVhdGVXYWxsIiwiZHJhZ2dlZE5vZGUiLCJpc05vZGVFbmQiLCJyZXNldE5vZGVUb0luaXRpYWwiLCJhbGdvS2V5IiwiZGlzYWJsZWQiLCJjdXJyU3RhcnROb2RlSWQiLCJjdXJyRW5kTm9kZUlkIiwiZ2V0TmVpZ2hib3JzSWRzIiwidW52aXNpdGVkTm9kZXNJZHMiLCJhcnIiLCJwb3RlbnRpYWxOZWlnaGJvcklkIiwiZmluZCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsIm1zIiwidmlzdWFsaXplVmlzaXRlZE5vZGUiLCJkZWxheSIsImFzeW5jRGVsYXkiLCJ2aXN1YWxpemVOZWlnaGJvck5vZGUiLCJ2aXN1YWxpemVQYXRoIiwidmlzaXRlZE5vZGVzIiwic3RhcnQiLCJwYXRoSWRzIiwiZm91bmRTdGFydCIsImN1cnJOb2RlIiwiZ2V0Q2xvc2VzdE5vZGUiLCJ1bnZpc2l0ZWRJZHMiLCJtaW5EaXN0Tm9kZUlkIiwiZ2V0Q2xvc2VzdE5vZGVXaXRoSGV1cmlzdGljRGlzdCIsIm1pbkhldXJpc3RpY0Rpc3ROb2RlSWQiLCJub2RlU2NvcmUiLCJpc1NhbWVOb2RlIiwibjEiLCJuMiIsImFzeW5jRm9yRWFjaCIsImxlbiIsImJmcyIsImZvdW5kRW5kIiwibmVpZ2hib3JzSWRzIiwibmVpZ2hib3JJZCIsImRmcyIsInNlYXJjaCIsImRpamtzdHJhIiwiZGlzdGFuY2VCZXR3ZWVuTm9kZXMiLCJhc3RhciIsImluaXRpYWxpemUiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUs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QUFRLFFBQ1JDLE9BQVEsS0FDUkMsS0FBTStFLElBQ04vRixVQUFXLEtBQ1hvQixrQkFBbUIsU0tsRGIsSUFBSSxFQUFNLENBQ3RCNkIsUUFBUyxRQUNUL0UsVUFBVyxHQUNYZ0YsTUFBTyxHQUNQQyxhQUNBQyxpQkFBa0JELEVBQWdCLE1BRTlCeUciLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuIiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanM/P3JlZi0tNC0xIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZXNvbHZlLXVybC1sb2FkZXIvaW5kZXguanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTQtNCEuL21haW4uc2Nzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxudmFyIGV4cG9ydGVkID0gY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHt9O1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRlZDsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIGJ0b2EpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRvbVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5Eb21bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5Eb20uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJleHBvcnQgY29uc3QgY3JlYXRlQmxvY2sgPSAocGFyZW50LCBibG9ja1NpemUsIHgsIHkpID0+IHtcbiAgY29uc3QgYmxvY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG5cbiAgYmxvY2suaWQgPSBgJHt4fS0ke3l9YDtcbiAgYmxvY2suY2xhc3NMaXN0LmFkZChcInVudmlzaXRlZFwiKTtcbiAgYmxvY2suc3R5bGUud2lkdGggPSBgJHtibG9ja1NpemV9cHhgO1xuICBibG9jay5zdHlsZS5oZWlnaHQgPSBgJHtibG9ja1NpemV9cHhgO1xuXG4gIGJsb2NrLmRhdGFzZXQueCA9IHg7XG4gIGJsb2NrLmRhdGFzZXQueSA9IHk7XG5cbiAgcGFyZW50LmFwcGVuZENoaWxkKGJsb2NrKTtcbn07XG4iLCJleHBvcnQgY29uc3QgZ2V0UmFuZG9tTnVtID0gKG1pbiwgbWF4KSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtYXgpICsgbWluO1xuIiwiaW1wb3J0IHsgZ2V0UmFuZG9tTnVtIH0gZnJvbSBcIi4vZ2V0UmFuZG9tTnVtXCI7XG5cbmV4cG9ydCBjb25zdCBnZXREaWZmZXJlbnRSYW5kb21OdW0gPSAobWluLCBtYXgsIGRpZmZlcmVudEZyb20pID0+IHtcbiAgbGV0IHJhbmQ7XG4gIGRvIHtcbiAgICByYW5kID0gZ2V0UmFuZG9tTnVtKG1pbiwgbWF4KTtcbiAgfSB3aGlsZSAocmFuZCA9PT0gZGlmZmVyZW50RnJvbSk7XG5cbiAgcmV0dXJuIHJhbmQ7XG59O1xuIiwiLyoqXG4gKiBQb3NzaWJsZSBkaXJlY3Rpb25zIG9mIG5vZGVcbiAqL1xuZXhwb3J0IGNvbnN0IGRpcmVjdGlvbnMgPSB7XG4gIG5vcnRoOiAwLFxuICBlYXN0OiAxLFxuICBzb3V0aDogMixcbiAgd2VzdDogMyxcbn07XG5cbmNvbnN0IGRpcmVjdGlvbnNOYW1lID0gW1wibm9ydGhcIiwgXCJlYXN0XCIsIFwic291dGhcIiwgXCJ3ZXN0XCJdO1xuXG4vKipcbiAqIEdldCBkaXJlY3Rpb24gbmFtZSBieSBwcm92aWRlZCBpbmRleFxuICovXG5leHBvcnQgY29uc3QgZ2V0RGlyZWN0aW9uTmFtZSA9IChpbmRleCkgPT4gZGlyZWN0aW9uc05hbWVbaW5kZXhdO1xuXG4vKipcbiAqIHdlaWdodHMgb2YgdHVybnMgY2FsYyBieSBkZWdyZWVzXG4gKi9cbmV4cG9ydCBjb25zdCB3ZWlnaHRUdXJuXzkwID0gMTtcbmV4cG9ydCBjb25zdCB3ZWlnaHRUdXJuXzE4MCA9IDI7XG5cbi8qKlxuICogd2VpZ2h0IG9mIG1vdmVcbiAqL1xuZXhwb3J0IGNvbnN0IG1vdmVXZWlnaHQgPSAxO1xuXG4vKipcbiAqIE5vZGUgY2FuIGJlIGRpcmVjdGVkIGludG8gNCBkaXJlY3Rpb25zIC0gbm9ydGgsIGVhc3QsIHNvdXRoIGFuZCB3ZXN0XG4gKiBUaGUgYXJyYXkgcmVwcmVzZW50cyB0aGUgd2VpZ2h0IG9mIGNob29zaW5nIHRoZSBuZXh0IGRpcmVjdGlvblxuICogOTAgZGVncmVlIHR1cm4gY29zdHMgMSBwb2ludHNcbiAqIFswXSAtIGdvIG5vcnRoIHdlaWdodFxuICogWzFdIC0gZ28gZWFzdCB3ZWlnaHRcbiAqIFsyXSAtIGdvIHNvdXRoIHdlaWdodFxuICogWzNdIC0gZ28gd2VzdCB3ZWlnaHRcbiAqL1xuZXhwb3J0IGNvbnN0IG5vcnRoRGlyZWN0aW9uV2VpZ2h0cyA9IFtcbiAgMCxcbiAgd2VpZ2h0VHVybl85MCxcbiAgd2VpZ2h0VHVybl8xODAsXG4gIHdlaWdodFR1cm5fOTAsXG5dO1xuZXhwb3J0IGNvbnN0IGVhc3REaXJlY3Rpb25XZWlnaHRzID0gW1xuICB3ZWlnaHRUdXJuXzkwLFxuICAwLFxuICB3ZWlnaHRUdXJuXzkwLFxuICB3ZWlnaHRUdXJuXzE4MCxcbl07XG5leHBvcnQgY29uc3Qgc291dGhEaXJlY3Rpb25XZWlnaHRzID0gW1xuICB3ZWlnaHRUdXJuXzE4MCxcbiAgd2VpZ2h0VHVybl85MCxcbiAgMCxcbiAgd2VpZ2h0VHVybl85MCxcbl07XG5leHBvcnQgY29uc3Qgd2VzdERpcmVjdGlvbldlaWdodHMgPSBbXG4gIHdlaWdodFR1cm5fOTAsXG4gIHdlaWdodFR1cm5fMTgwLFxuICB3ZWlnaHRUdXJuXzkwLFxuICAwLFxuXTtcblxuZXhwb3J0IGNvbnN0IGdldERpcmVjdGlvbldlaWdodHNCYXNlZE9uQ3VyckRpcmVjdGlvbiA9IChjdXJyRGlyZWN0aW9uKSA9PiB7XG4gIGlmIChjdXJyRGlyZWN0aW9uID09PSAwKSB7XG4gICAgcmV0dXJuIG5vcnRoRGlyZWN0aW9uV2VpZ2h0cztcbiAgfSBlbHNlIGlmIChjdXJyRGlyZWN0aW9uID09PSAxKSB7XG4gICAgcmV0dXJuIGVhc3REaXJlY3Rpb25XZWlnaHRzO1xuICB9IGVsc2UgaWYgKGN1cnJEaXJlY3Rpb24gPT09IDIpIHtcbiAgICByZXR1cm4gc291dGhEaXJlY3Rpb25XZWlnaHRzO1xuICB9IGVsc2UgaWYgKGN1cnJEaXJlY3Rpb24gPT09IDMpIHtcbiAgICByZXR1cm4gd2VzdERpcmVjdGlvbldlaWdodHM7XG4gIH1cbn07XG5cbi8qKlxuICogR2V0IGRpc3RhbmNlIGJldHdlZW4gdHdvIG5vZGVzIGJhc2VkIG9uIHRoZSB3ZWlnaHRcbiAqL1xuZXhwb3J0IGNvbnN0IGdldERpc3RhbmNlQmV0d2Vlbk5vZGVzID0gKG5vZGVfMSwgbm9kZV8yKSA9PiB7XG4gIC8vIG5vZGVfMiBpcyB1cFxuICBpZiAobm9kZV8xLnkgPCBub2RlXzIueSAmJiBub2RlXzEueCA9PT0gbm9kZV8yLngpIHtcbiAgICByZXR1cm4gbm9ydGhEaXJlY3Rpb25XZWlnaHRzW25vZGVfMS5kaXJlY3Rpb25dICsgbW92ZVdlaWdodDtcbiAgfVxuICAvLyBub2RlXzIgaXMgcmlnaHRcbiAgZWxzZSBpZiAobm9kZV8xLnggPCBub2RlXzIueCAmJiBub2RlXzEueSA9PT0gbm9kZV8yLnkpIHtcbiAgICByZXR1cm4gZWFzdERpcmVjdGlvbldlaWdodHNbbm9kZV8xLmRpcmVjdGlvbl0gKyBtb3ZlV2VpZ2h0O1xuICB9XG4gIC8vIG5vZGVfMiBpcyBib3R0b21cbiAgZWxzZSBpZiAobm9kZV8xLnkgPiBub2RlXzIueSAmJiBub2RlXzEueCA9PT0gbm9kZV8yLngpIHtcbiAgICByZXR1cm4gc291dGhEaXJlY3Rpb25XZWlnaHRzW25vZGVfMS5kaXJlY3Rpb25dICsgbW92ZVdlaWdodDtcbiAgfVxuICAvLyBub2RlXzIgaXMgbGVmdFxuICBlbHNlIGlmIChub2RlXzEueCA+IG5vZGVfMi54ICYmIG5vZGVfMS55ID09PSBub2RlXzIueSkge1xuICAgIHJldHVybiB3ZXN0RGlyZWN0aW9uV2VpZ2h0c1tub2RlXzEuZGlyZWN0aW9uXSArIG1vdmVXZWlnaHQ7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJTb21ldGhpbmcgd2VudCB3cm9uZyB3aGVuIHNldHRpbmcgdGhlIGRpc3RhbmNlIGJldHdlZW4gbm9kZXMuXCJcbiAgICApO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybiBkaXJlY3Rpb24gb2Ygbm9kZV8yIGJhc2VkIG9uIHRoZWlyIHBvc2l0aW9uc1xuICovXG5leHBvcnQgY29uc3QgZ2V0Tm9kZURpcmVjdGlvbiA9IChub2RlXzEsIG5vZGVfMikgPT4ge1xuICBpZiAobm9kZV8xLnkgPCBub2RlXzIueSAmJiBub2RlXzEueCA9PT0gbm9kZV8yLngpIHtcbiAgICByZXR1cm4gZGlyZWN0aW9uc1tcIm5vcnRoXCJdO1xuICB9IGVsc2UgaWYgKG5vZGVfMS54IDwgbm9kZV8yLnggJiYgbm9kZV8xLnkgPT09IG5vZGVfMi55KSB7XG4gICAgcmV0dXJuIGRpcmVjdGlvbnNbXCJlYXN0XCJdO1xuICB9IGVsc2UgaWYgKG5vZGVfMS55ID4gbm9kZV8yLnkgJiYgbm9kZV8xLnggPT09IG5vZGVfMi54KSB7XG4gICAgcmV0dXJuIGRpcmVjdGlvbnNbXCJzb3V0aFwiXTtcbiAgfSBlbHNlIGlmIChub2RlXzEueCA+IG5vZGVfMi54ICYmIG5vZGVfMS55ID09PSBub2RlXzIueSkge1xuICAgIHJldHVybiBkaXJlY3Rpb25zW1wid2VzdFwiXTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJTb21ldGhpbmcgd2VudCB3cm9uZyB3aGVuIHNldHRpbmcgdGhlIGRpcmVjdGlvbiBvZiBub2RlLlwiKTtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm4gbWFuaGF0dGFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHByb3ZpZGVkIG5vZGVzIHdpdGggYWRkaXRpb25hbFxuICogaGV1cmlzdGljIHdlaWdodFxuICpcbiAqL1xuZXhwb3J0IGNvbnN0IGdldFdlaWdodGVkTWFuaGF0dGFuRGlzdGFuY2UgPSAobm9kZSwgZW5kKSA9PiB7XG4gIGNvbnN0IHhEaWZmID0gTWF0aC5hYnMobm9kZS54IC0gZW5kLngpO1xuICBjb25zdCB5RGlmZiA9IE1hdGguYWJzKG5vZGUueSAtIGVuZC55KTtcbiAgbGV0IGFkZGl0aW9uYWxXZWlnaHQgPSAwO1xuICBjb25zdCB3ZWlnaHRzID0gZ2V0RGlyZWN0aW9uV2VpZ2h0c0Jhc2VkT25DdXJyRGlyZWN0aW9uKG5vZGUuZGlyZWN0aW9uKTtcblxuICBpZiAobm9kZS55IDwgZW5kLnkpIHtcbiAgICBhZGRpdGlvbmFsV2VpZ2h0ICs9IHdlaWdodHNbMF07XG4gICAgaWYgKG5vZGUueCA8IGVuZC54KSB7XG4gICAgICBhZGRpdGlvbmFsV2VpZ2h0ICs9IHdlaWdodHNbMV07XG4gICAgfSBlbHNlIGlmIChub2RlLnggPiBlbmQueCkge1xuICAgICAgYWRkaXRpb25hbFdlaWdodCArPSB3ZWlnaHRzWzNdO1xuICAgIH1cbiAgfSBlbHNlIGlmIChub2RlLnkgPiBlbmQueSkge1xuICAgIGFkZGl0aW9uYWxXZWlnaHQgKz0gd2VpZ2h0c1syXTtcbiAgICBpZiAobm9kZS54IDwgZW5kLngpIHtcbiAgICAgIGFkZGl0aW9uYWxXZWlnaHQgKz0gd2VpZ2h0c1sxXTtcbiAgICB9IGVsc2UgaWYgKG5vZGUueCA+IGVuZC54KSB7XG4gICAgICBhZGRpdGlvbmFsV2VpZ2h0ICs9IHdlaWdodHNbM107XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHhEaWZmICsgeURpZmYgKyBhZGRpdGlvbmFsV2VpZ2h0O1xufTtcbiIsImV4cG9ydCBkZWZhdWx0IChvYmplY3QsIHZhbHVlcykgPT4ge1xuICBmb3IgKGxldCBmaWVsZEtleSBvZiBPYmplY3Qua2V5cyhvYmplY3QpKSB7XG4gICAgZm9yIChsZXQgdmFsS2V5IG9mIE9iamVjdC5rZXlzKHZhbHVlcykpIHtcbiAgICAgIGlmIChmaWVsZEtleSA9PT0gdmFsS2V5KSB7XG4gICAgICAgIG9iamVjdFtmaWVsZEtleV0gPSB2YWx1ZXNbdmFsS2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG4iLCJjbGFzcyBOb2RlIHtcbiAgY29uc3RydWN0b3IoeyBzdGF0dXMsIHgsIHksIHByZXZJZCwgZGlzdCB9KSB7XG4gICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgdGhpcy5pZCA9IGAke3h9LSR7eX1gO1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLnByZXZJZCA9IHByZXZJZDtcbiAgICB0aGlzLmRpc3QgPSBkaXN0O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE5vZGU7XG4iLCJpbXBvcnQgTm9kZSBmcm9tIFwiLi9Ob2RlXCI7XG5cbmNsYXNzIE5vZGVXZWlnaHRlZCBleHRlbmRzIE5vZGUge1xuICBjb25zdHJ1Y3Rvcih7IGRpcmVjdGlvbiwgLi4ucHJvcHMgfSkge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBOb2RlV2VpZ2h0ZWQ7XG4iLCJpbXBvcnQgTm9kZVdlaWdodGVkIGZyb20gXCIuL05vZGVXZWlnaHRlZFwiO1xuXG5jbGFzcyBOb2RlSGV1cmlzdGljIGV4dGVuZHMgTm9kZVdlaWdodGVkIHtcbiAgY29uc3RydWN0b3IoeyBoZXVyaXN0aWNEaXN0YW5jZSwgLi4ucHJvcHMgfSkge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmhldXJpc3RpY0Rpc3RhbmNlID0gaGV1cmlzdGljRGlzdGFuY2U7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTm9kZUhldXJpc3RpYztcbiIsImV4cG9ydCBjb25zdCBOT0RFX1RZUEUgPSB7XG4gIE5PUk1BTDogXCJOT1JNQUxcIixcbiAgV0VJR0hURUQ6IFwiV0VJR0hURURcIixcbiAgSEVVUklTVElDOiBcIkhFVVJJU1RJQ1wiLFxufTtcblxuZXhwb3J0IGNvbnN0IE5PREVfU1RBVFVTID0ge1xuICBCTE9DSzogXCJibG9ja1wiLFxuICBTVEFSVDogXCJzdGFydFwiLFxuICBFTkQ6IFwiZW5kXCIsXG4gIFdBTEw6IFwid2FsbFwiLFxufTtcbiIsImltcG9ydCBOb2RlIGZyb20gXCIuL05vZGVcIjtcbmltcG9ydCBOb2RlV2VpZ2h0ZWQgZnJvbSBcIi4vTm9kZVdlaWdodGVkXCI7XG5pbXBvcnQgTm9kZUhldXJpc3RpYyBmcm9tIFwiLi9Ob2RlSGV1cmlzdGljXCI7XG5pbXBvcnQgeyBOT0RFX1RZUEUgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5jbGFzcyBOb2RlRmFjdG9yeSB7XG4gIHN0YXRpYyBjcmVhdGVOb2RlKHR5cGUsIHByb3BzKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIE5PREVfVFlQRS5OT1JNQUw6XG4gICAgICAgIHJldHVybiBuZXcgTm9kZShwcm9wcyk7XG4gICAgICBjYXNlIE5PREVfVFlQRS5XRUlHSFRFRDpcbiAgICAgICAgcmV0dXJuIG5ldyBOb2RlV2VpZ2h0ZWQocHJvcHMpO1xuICAgICAgY2FzZSBOT0RFX1RZUEUuSEVVUklTVElDOlxuICAgICAgICByZXR1cm4gbmV3IE5vZGVIZXVyaXN0aWMocHJvcHMpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG5ldyBOb2RlKHByb3BzKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTm9kZUZhY3Rvcnk7XG4iLCJpbXBvcnQgTm9kZUZhY3RvcnkgZnJvbSBcIi4vTm9kZUZhY3RvcnlcIjtcbmltcG9ydCB7IE5PREVfU1RBVFVTIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZU5vZGUgPSAoeCwgeSwgYWxnb3JpdGhtKSA9PiB7XG4gIGNvbnN0IG5ld05vZGUgPSBOb2RlRmFjdG9yeS5jcmVhdGVOb2RlKGFsZ29yaXRobS5ub2RlLnR5cGUsIHtcbiAgICB4LFxuICAgIHksXG4gICAgLi4uYWxnb3JpdGhtLm5vZGUuaW5pdGlhbFZhbHVlcyxcbiAgfSk7XG4gIHJldHVybiBuZXdOb2RlO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzTm9kZUJsb2NrID0gKG5vZGUpID0+IG5vZGUuc3RhdHVzID09PSBOT0RFX1NUQVRVUy5CTE9DSztcbmV4cG9ydCBjb25zdCBpc05vZGVXYWxsID0gKG5vZGUpID0+IG5vZGUuc3RhdHVzID09PSBOT0RFX1NUQVRVUy5XQUxMO1xuZXhwb3J0IGNvbnN0IGlzTm9kZVN0YXJ0ID0gKG5vZGUpID0+IG5vZGUuc3RhdHVzID09PSBOT0RFX1NUQVRVUy5TVEFSVDtcbmV4cG9ydCBjb25zdCBpc05vZGVFbmQgPSAobm9kZSkgPT4gbm9kZS5zdGF0dXMgPT09IE5PREVfU1RBVFVTLkVORDtcbiIsImV4cG9ydCBjb25zdCBDU1NfQ0xBU1MgPSB7XG4gIE5BVklHQVRJT05fSVRFTTogXCJuYXYtYWxnb3JpdGhtLWpzXCIsXG4gIEJMT0NLRUQ6IFwiYmxvY2tlZFwiLFxuICBBQ1RJVkU6IFwiYWN0aXZlXCIsXG4gIFNUQVJUOiBcInN0YXJ0XCIsXG4gIEVORDogXCJlbmRcIixcbiAgV0FMTDogXCJ3YWxsXCIsXG4gIFZJU0lURUQ6IFwidmlzaXRlZFwiLFxuICBVTlZJU0lURUQ6IFwidW52aXNpdGVkXCIsXG59O1xuXG5leHBvcnQgY29uc3QgQ1NTX0lEID0ge1xuICBOQVZJR0FUSU9OOiBcIm5hdlwiLFxuICBTVEFSVF9CVE46IFwic3RhcnRCdG5cIixcbiAgQ0xFQVJfQlROOiBcImNsZWFyQnRuXCIsXG59O1xuIiwiZXhwb3J0IGNvbnN0IGhhc0NsYXNzID0gKGVsZW0sIC4uLmNsKSA9PiBlbGVtLmNsYXNzTGlzdC5jb250YWlucyhjbCk7XG5cbmV4cG9ydCBjb25zdCByZW1vdmVDbGFzcyA9IChlbGVtLCAuLi5jbCkgPT4gZWxlbS5jbGFzc0xpc3QucmVtb3ZlKGNsKTtcblxuZXhwb3J0IGNvbnN0IGFkZENsYXNzID0gKGVsZW0sIC4uLmNsKSA9PiBlbGVtLmNsYXNzTGlzdC5hZGQoY2wpO1xuXG5leHBvcnQgY29uc3QgcmVwbGFjZUNsYXNzID0gKGVsZW0sIGNsMSwgY2wyKSA9PlxuICBlbGVtLmNsYXNzTGlzdC5yZXBsYWNlKGNsMSwgY2wyKTtcblxuZXhwb3J0IGZ1bmN0aW9uICQoKSB7fVxuXG4kID0gKGlkZW50aWZlcikgPT4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpZGVudGlmZXIpO1xuJC5hbGwgPSAoaWRlbnRpZmVyKSA9PiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGlkZW50aWZlcik7XG4iLCJpbXBvcnQgeyBDU1NfQ0xBU1MsIENTU19JRCB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7ICQgfSBmcm9tIFwiLi4vaGVscGVycy9kb21cIjtcblxuY2xhc3MgRXZlbnRzSGFuZGxlciB7XG4gIHN0YXRpYyBhZGROYXZFdmVudExpc3RlbmVycyhjYWxsYmFjaykge1xuICAgICQuYWxsKGAuJHtDU1NfQ0xBU1MuTkFWSUdBVElPTl9JVEVNfWApLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBzdGF0aWMgYWRkU3RhcnRCdG5FdmVudExpc3RlbmVyKGNhbGxiYWNrKSB7XG4gICAgJChgIyR7Q1NTX0lELlNUQVJUX0JUTn1gKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKGUpID0+IHtcbiAgICAgIGNhbGxiYWNrKGUpO1xuICAgIH0pO1xuICB9XG5cbiAgc3RhdGljIGFkZENsZWFyQnRuRXZlbnRMaXN0ZW5lcihjYWxsYmFjaykge1xuICAgICQoYCMke0NTU19JRC5DTEVBUl9CVE59YCkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICBjYWxsYmFjayhlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyBhZGRCbG9ja3NFdmVudExpc3RlbmVycyhjYWxsYmFja3MpIHtcbiAgICAkLmFsbChgLiR7Q1NTX0NMQVNTLlVOVklTSVRFRH1gKS5mb3JFYWNoKChibG9jaykgPT4ge1xuICAgICAgYmxvY2suYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNhbGxiYWNrcy5oYW5kbGVNb3VzZURvd25PbkJsb2NrKGUudGFyZ2V0KTtcbiAgICAgIH0pO1xuXG4gICAgICBibG9jay5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNhbGxiYWNrcy5oYW5kbGVNb3VzZUVudGVyT25CbG9jayhlLnRhcmdldCk7XG4gICAgICB9KTtcblxuICAgICAgYmxvY2suYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjYWxsYmFja3MuaGFuZGxlTW91c2VVcE9uQmxvY2soZS50YXJnZXQpO1xuICAgICAgfSk7XG5cbiAgICAgIGJsb2NrLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY2FsbGJhY2tzLmhhbmRsZU1vdXNlTGVhdmVPbkJsb2NrKGUudGFyZ2V0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEV2ZW50c0hhbmRsZXI7XG4iLCJpbXBvcnQgeyBjcmVhdGVCbG9jayB9IGZyb20gXCIuL2hlbHBlcnMvYmxvY2tcIjtcbmltcG9ydCB7IGdldFJhbmRvbU51bSB9IGZyb20gXCIuL2hlbHBlcnMvZ2V0UmFuZG9tTnVtXCI7XG5pbXBvcnQgeyBnZXREaWZmZXJlbnRSYW5kb21OdW0gfSBmcm9tIFwiLi9oZWxwZXJzL2dldERpZmZlcmVudFJhbmRvbU51bVwiO1xuaW1wb3J0IHsgZGlyZWN0aW9ucyB9IGZyb20gXCIuL2FsZ29yaXRobXMvaGVscGVycy93ZWlnaHRlZFwiO1xuaW1wb3J0IHVwZGF0ZU9iamVjdCBmcm9tIFwiLi9oZWxwZXJzL3VwZGF0ZU9iamVjdFwiO1xuaW1wb3J0IHtcbiAgY3JlYXRlTm9kZSxcbiAgaXNOb2RlQmxvY2ssXG4gIGlzTm9kZVdhbGwsXG4gIGlzTm9kZVN0YXJ0LFxuICBpc05vZGVFbmQsXG59IGZyb20gXCIuL25vZGUvb3BlcmF0aW9uc1wiO1xuaW1wb3J0IEV2ZW50c0hhbmRsZXIgZnJvbSBcIi4vZXZlbnRzLWhhbmRsZXIvRXZlbnRzSGFuZGxlclwiO1xuaW1wb3J0IHsgaGFzQ2xhc3MsIHJlbW92ZUNsYXNzLCAkLCBhZGRDbGFzcyB9IGZyb20gXCIuL2hlbHBlcnMvZG9tXCI7XG5pbXBvcnQgeyBDU1NfQ0xBU1MsIENTU19JRCB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgTk9ERV9TVEFUVVMgfSBmcm9tIFwiLi9ub2RlL3R5cGVzXCI7XG5cbmNsYXNzIEJvYXJkIHtcbiAgY29uc3RydWN0b3IoeyBib2FyZElkLCBibG9ja1NpemUsIHNwZWVkLCBhbGdvcml0aG1zLCBpbml0aWFsQWxnb3JpdGhtIH0pIHtcbiAgICB0aGlzLmJvYXJkSWQgPSBib2FyZElkO1xuICAgIHRoaXMuYmxvY2tTaXplID0gYmxvY2tTaXplO1xuICAgIHRoaXMud2lkdGggPSBudWxsO1xuICAgIHRoaXMuaGVpZ2h0ID0gbnVsbDtcbiAgICB0aGlzLm5vZGVzID0ge307XG4gICAgdGhpcy5zdGFydE5vZGUgPSBudWxsO1xuICAgIHRoaXMuc3RhcnREaXJlY3Rpb24gPSBcImVhc3RcIjtcbiAgICB0aGlzLmVuZE5vZGUgPSBudWxsO1xuICAgIHRoaXMuaXNOb2RlRHJhZ2dlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5pc1NlYXJjaGluZyA9IGZhbHNlO1xuICAgIHRoaXMuaXNQcmVwYXJlZCA9IGZhbHNlO1xuICAgIHRoaXMuaXNNYWtpbmdXYWxscyA9IGZhbHNlO1xuICAgIHRoaXMuaXNOb2RlRHJhZ2dlZCA9IGZhbHNlO1xuICAgIHRoaXMuZHJhZ2dlZE5vZGVJZCA9IG51bGw7XG4gICAgdGhpcy5zcGVlZCA9IHNwZWVkIHx8IDEwO1xuICAgIHRoaXMuYWxnb3JpdGhtcyA9IGFsZ29yaXRobXMgfHwgbnVsbDtcbiAgICB0aGlzLmN1cnJlbnRBbGdvcml0aG0gPSBpbml0aWFsQWxnb3JpdGhtIHx8IG51bGw7XG4gIH1cblxuICBpbml0aWFsaXplKCkge1xuICAgIHRoaXMuY3JlYXRlTmF2KCk7XG4gICAgdGhpcy5jYWxjdWxhdGVCb2FyZFNpemUoKTtcbiAgICB0aGlzLmNyZWF0ZUJvYXJkKCk7XG4gICAgdGhpcy5jcmVhdGVTdGFydE5vZGUoKTtcbiAgICB0aGlzLmNyZWF0ZUVuZE5vZGUoKTtcblxuICAgIHRoaXMuc2V0SW5pdGlhbEFjdGl2ZU5hdkFsZ29yaXRobSgpO1xuICAgIHRoaXMuYWRkTmF2QWxnb0VsZW1zRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLmFkZEJsb2Nrc0V2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5hZGRCdG5zRXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIEV2ZW50c0hhbmRsZXIuYWRkTmF2RXZlbnRMaXN0ZW5lcnModGhpcy5oYW5kbGVOYXZJdGVtT25DbGljay5iaW5kKHRoaXMpKTtcblxuICAgIGNvbnNvbGUubG9nKHRoaXMpO1xuICAgIHRoaXMuaXNQcmVwYXJlZCA9IHRydWU7XG4gIH1cblxuICBoYW5kbGVOYXZJdGVtT25DbGljayhlKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgaWYgKGhhc0NsYXNzKHRhcmdldCwgQ1NTX0NMQVNTLkJMT0NLRUQpKSByZXR1cm47XG5cbiAgICAkLmFsbChgLiR7Q1NTX0NMQVNTLk5BVklHQVRJT05fSVRFTX1gKS5mb3JFYWNoKChpdGVtKSA9PlxuICAgICAgcmVtb3ZlQ2xhc3MoaXRlbSwgQ1NTX0NMQVNTLkFDVElWRSlcbiAgICApO1xuICAgIGFkZENsYXNzKHRhcmdldCwgQ1NTX0NMQVNTLkFDVElWRSk7XG5cbiAgICB0aGlzLnNldEN1cnJlbnRBbGdvcml0aG0odGFyZ2V0LmRhdGFzZXQuYWxnb3JpdGhtS2V5KTtcbiAgICB0aGlzLnJlc2V0Tm9kZXMoKTtcbiAgfVxuXG4gIGNhbGN1bGF0ZUJvYXJkU2l6ZSgpIHtcbiAgICBjb25zdCBib2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuYm9hcmRJZCk7XG4gICAgY29uc3QgcHhXaWR0aCA9IGJvYXJkLmNsaWVudFdpZHRoO1xuICAgIGNvbnN0IHB4SGVpZ2h0ID0gYm9hcmQuY2xpZW50SGVpZ2h0O1xuXG4gICAgdGhpcy53aWR0aCA9IE1hdGguZmxvb3IocHhXaWR0aCAvIHRoaXMuYmxvY2tTaXplKTtcbiAgICB0aGlzLmhlaWdodCA9IE1hdGguZmxvb3IocHhIZWlnaHQgLyB0aGlzLmJsb2NrU2l6ZSk7XG4gIH1cblxuICBjcmVhdGVCb2FyZCgpIHtcbiAgICBjb25zdCBib2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuYm9hcmRJZCk7XG4gICAgY29uc3QgdGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGJvZHlcIik7XG5cbiAgICBmb3IgKGxldCB5ID0gdGhpcy5oZWlnaHQgLSAxOyB5ID49IDA7IHktLSkge1xuICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLndpZHRoOyB4KyspIHtcbiAgICAgICAgY3JlYXRlQmxvY2socm93LCB0aGlzLmJsb2NrU2l6ZSwgeCwgeSk7XG4gICAgICAgIHRoaXMubm9kZXNbYCR7eH0tJHt5fWBdID0gY3JlYXRlTm9kZSh4LCB5LCB0aGlzLmN1cnJlbnRBbGdvcml0aG0pO1xuICAgICAgfVxuICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQocm93KTtcbiAgICB9XG4gICAgYm9hcmQuYXBwZW5kQ2hpbGQodGJvZHkpO1xuICB9XG5cbiAgY3JlYXRlTmF2KCkge1xuICAgIGNvbnN0IG5hdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKENTU19JRC5OQVZJR0FUSU9OKTtcbiAgICBmb3IgKGxldCBba2V5LCBhbGdvXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmFsZ29yaXRobXMpKSB7XG4gICAgICBjb25zdCBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGFkZENsYXNzKGVsZW0sIENTU19DTEFTUy5OQVZJR0FUSU9OX0lURU0pO1xuICAgICAgZWxlbS5pbm5lclRleHQgPSBhbGdvLm5hbWU7XG4gICAgICBlbGVtLmRhdGFzZXQuYWxnb3JpdGhtS2V5ID0ga2V5O1xuICAgICAgbmF2LmFwcGVuZENoaWxkKGVsZW0pO1xuICAgIH1cbiAgfVxuXG4gIHNldEluaXRpYWxBY3RpdmVOYXZBbGdvcml0aG0oKSB7XG4gICAgY29uc3QgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuJHtDU1NfQ0xBU1MuTkFWSUdBVElPTl9JVEVNfWApO1xuICAgIGVsZW1zWzBdLmNsYXNzTGlzdC5hZGQoQ1NTX0NMQVNTLkFDVElWRSk7XG4gIH1cblxuICBjcmVhdGVTdGFydE5vZGUoKSB7XG4gICAgY29uc3QgcmFuZFggPSBnZXRSYW5kb21OdW0oMCwgdGhpcy53aWR0aCAtIDEpO1xuICAgIGNvbnN0IHJhbmRZID0gZ2V0UmFuZG9tTnVtKDAsIHRoaXMuaGVpZ2h0IC0gMSk7XG4gICAgY29uc3QgaWQgPSBgJHtyYW5kWH0tJHtyYW5kWX1gO1xuXG4gICAgdGhpcy5zZXRTdGFydE5vZGUoaWQpO1xuICAgIGNvbnN0IGJsb2NrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zdGFydE5vZGUuaWQpO1xuICAgIGFkZENsYXNzKGJsb2NrLCBOT0RFX1NUQVRVUy5TVEFSVCk7XG4gICAgaWYgKHRoaXMuc3RhcnREaXJlY3Rpb24pIHtcbiAgICAgIGFkZENsYXNzKGJsb2NrLCB0aGlzLnN0YXJ0RGlyZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBjcmVhdGVFbmROb2RlKCkge1xuICAgIGNvbnN0IHJhbmRYID0gZ2V0RGlmZmVyZW50UmFuZG9tTnVtKDAsIHRoaXMud2lkdGggLSAxLCB0aGlzLnN0YXJ0Tm9kZS54KTtcbiAgICBjb25zdCByYW5kWSA9IGdldERpZmZlcmVudFJhbmRvbU51bSgwLCB0aGlzLmhlaWdodCAtIDEsIHRoaXMuc3RhcnROb2RlLnkpO1xuICAgIGNvbnN0IGlkID0gYCR7cmFuZFh9LSR7cmFuZFl9YDtcblxuICAgIHRoaXMuc2V0RW5kTm9kZShpZCk7XG4gICAgY29uc3QgYmxvY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmVuZE5vZGUuaWQpO1xuICAgIGFkZENsYXNzKGJsb2NrLCBOT0RFX1NUQVRVUy5FTkQpO1xuICB9XG5cbiAgc2V0U3RhcnROb2RlKG5vZGVJZCkge1xuICAgIHVwZGF0ZU9iamVjdCh0aGlzLm5vZGVzW25vZGVJZF0sIHtcbiAgICAgIHN0YXR1czogTk9ERV9TVEFUVVMuU1RBUlQsXG4gICAgICBkaXN0OiAwLFxuICAgICAgZGlyZWN0aW9uOiB0aGlzLnN0YXJ0RGlyZWN0aW9uID8gZGlyZWN0aW9uc1t0aGlzLnN0YXJ0RGlyZWN0aW9uXSA6IG51bGwsXG4gICAgfSk7XG4gICAgdGhpcy5zdGFydE5vZGUgPSB0aGlzLm5vZGVzW25vZGVJZF07XG4gIH1cblxuICBzZXRFbmROb2RlKG5vZGVJZCkge1xuICAgIHVwZGF0ZU9iamVjdCh0aGlzLm5vZGVzW25vZGVJZF0sIHtcbiAgICAgIHN0YXR1czogTk9ERV9TVEFUVVMuRU5ELFxuICAgICAgZGlzdDogSW5maW5pdHksXG4gICAgfSk7XG4gICAgdGhpcy5lbmROb2RlID0gdGhpcy5ub2Rlc1tub2RlSWRdO1xuICB9XG5cbiAgcmVzZXROb2RlVG9Jbml0aWFsKG5vZGVJZCkge1xuICAgIHVwZGF0ZU9iamVjdCh0aGlzLm5vZGVzW25vZGVJZF0sIHRoaXMuY3VycmVudEFsZ29yaXRobS5ub2RlLmluaXRpYWxWYWx1ZXMpO1xuICB9XG5cbiAgYWRkTmF2QWxnb0VsZW1zRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuJHtDU1NfQ0xBU1MuTkFWSUdBVElPTl9JVEVNfWApO1xuXG4gICAgZWxlbXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgaWYgKGhhc0NsYXNzKGUudGFyZ2V0LCBDU1NfQ0xBU1MuQkxPQ0tFRCkpIHJldHVybjtcblxuICAgICAgICBlbGVtcy5mb3JFYWNoKChlbGVtKSA9PiBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoQ1NTX0NMQVNTLkFDVElWRSkpO1xuICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKENTU19DTEFTUy5BQ1RJVkUpO1xuXG4gICAgICAgIHRoaXMuc2V0Q3VycmVudEFsZ29yaXRobShlLnRhcmdldC5kYXRhc2V0LmFsZ29yaXRobUtleSk7XG4gICAgICAgIHRoaXMucmVzZXROb2RlcygpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRCdG5zRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3Qgc3RhcnRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChDU1NfSUQuU1RBUlRfQlROKTtcbiAgICBjb25zdCBjbGVhckJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKENTU19JRC5DTEVBUl9CVE4pO1xuXG4gICAgc3RhcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB0aGlzLmhhbmRsZVN0YXJ0KGUpKTtcbiAgICBjbGVhckJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHRoaXMuaGFuZGxlQ2xlYXIoZSkpO1xuICB9XG5cbiAgYWRkQmxvY2tzRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgYmxvY2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLiR7Q1NTX0NMQVNTLlVOVklTSVRFRH1gKTtcblxuICAgIGJsb2Nrcy5mb3JFYWNoKChibG9jaykgPT4ge1xuICAgICAgYmxvY2suYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuaGFuZGxlTW91c2VEb3duKGJsb2NrKTtcbiAgICAgIH0pO1xuXG4gICAgICBibG9jay5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuaGFuZGxlTW91c2VFbnRlcihibG9jayk7XG4gICAgICB9KTtcblxuICAgICAgYmxvY2suYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmhhbmRsZU1vdXNlVXAoYmxvY2spO1xuICAgICAgfSk7XG5cbiAgICAgIGJsb2NrLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5oYW5kbGVNb3VzZUxlYXZlKGJsb2NrKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgaGFuZGxlU3RhcnQoZSkge1xuICAgIGlmICh0aGlzLmlzUHJlcGFyZWQpIHtcbiAgICAgIHRoaXMuaGFuZGxlSXNTZWFyY2hpbmdTdGF0ZSh0cnVlKTtcbiAgICAgIHRoaXMuaGFuZGxlSXNQcmVwYXJlZFN0YXRlKGZhbHNlKTtcblxuICAgICAgYXdhaXQgdGhpcy5jdXJyZW50QWxnb3JpdGhtLmZ1bmMoXG4gICAgICAgIHRoaXMubm9kZXMsXG4gICAgICAgIHRoaXMuc3RhcnROb2RlLFxuICAgICAgICB0aGlzLmVuZE5vZGUsXG4gICAgICAgIHRoaXMuc3BlZWRcbiAgICAgICk7XG4gICAgICB0aGlzLmhhbmRsZUlzU2VhcmNoaW5nU3RhdGUoZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUNsZWFyKGUpIHtcbiAgICBpZiAoIXRoaXMuaXNTZWFyY2hpbmcpIHtcbiAgICAgIHRoaXMuY2xlYXJCb2FyZCgpO1xuICAgICAgdGhpcy5oYW5kbGVJc1ByZXBhcmVkU3RhdGUodHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlTW91c2VEb3duKGJsb2NrKSB7XG4gICAgY29uc3QgaWQgPSBibG9jay5pZDtcbiAgICBpZiAoIWlzTm9kZUJsb2NrKHRoaXMubm9kZXNbaWRdKSkge1xuICAgICAgdGhpcy5kcmFnZ2VkTm9kZUlkID0gaWQ7XG4gICAgICB0aGlzLmlzTm9kZURyYWdnZWQgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNOb2RlRHJhZ2dlZCAmJiBpc05vZGVCbG9jayh0aGlzLm5vZGVzW2lkXSkpIHtcbiAgICAgIHRoaXMuY3JlYXRlV2FsbChibG9jayk7XG4gICAgICB0aGlzLmlzTWFraW5nV2FsbHMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZU1vdXNlRW50ZXIoYmxvY2spIHtcbiAgICBjb25zdCBpZCA9IGJsb2NrLmlkO1xuICAgIGlmICh0aGlzLmlzTm9kZURyYWdnZWQgJiYgaXNOb2RlQmxvY2sodGhpcy5ub2Rlc1tpZF0pKSB7XG4gICAgICBjb25zdCBkcmFnZ2VkTm9kZSA9IHRoaXMubm9kZXNbdGhpcy5kcmFnZ2VkTm9kZUlkXTtcbiAgICAgIGNvbnN0IHN0YXR1cyA9IGRyYWdnZWROb2RlLnN0YXR1cztcbiAgICAgIGFkZENsYXNzKGJsb2NrLCBzdGF0dXMpO1xuXG4gICAgICBpZiAoaXNOb2RlU3RhcnQoZHJhZ2dlZE5vZGUpKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMuc3RhcnREaXJlY3Rpb24gPyB0aGlzLnN0YXJ0RGlyZWN0aW9uIDogXCJcIjtcbiAgICAgICAgYWRkQ2xhc3MoYmxvY2ssIGRpcmVjdGlvbik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLmlzTWFraW5nV2FsbHMgJiYgaXNOb2RlQmxvY2sodGhpcy5ub2Rlc1tpZF0pKSB7XG4gICAgICB0aGlzLmNyZWF0ZVdhbGwoYmxvY2spO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZU1vdXNlVXAoYmxvY2spIHtcbiAgICBjb25zdCBpZCA9IGJsb2NrLmlkO1xuICAgIGlmIChcbiAgICAgIHRoaXMuaXNOb2RlRHJhZ2dlZCAmJlxuICAgICAgIWlzTm9kZVdhbGwodGhpcy5ub2Rlc1tpZF0pICYmXG4gICAgICB0aGlzLmRyYWdnZWROb2RlSWQgIT09IGlkXG4gICAgKSB7XG4gICAgICBjb25zdCBkcmFnZ2VkTm9kZSA9IHRoaXMubm9kZXNbdGhpcy5kcmFnZ2VkTm9kZUlkXTtcbiAgICAgIGlmIChpc05vZGVTdGFydChkcmFnZ2VkTm9kZSkpIHtcbiAgICAgICAgdGhpcy5zZXRTdGFydE5vZGUoaWQpO1xuICAgICAgfSBlbHNlIGlmIChpc05vZGVFbmQoZHJhZ2dlZE5vZGUpKSB7XG4gICAgICAgIHRoaXMuc2V0RW5kTm9kZShpZCk7XG4gICAgICB9XG4gICAgICB0aGlzLnJlc2V0Tm9kZVRvSW5pdGlhbCh0aGlzLmRyYWdnZWROb2RlSWQpO1xuXG4gICAgICB0aGlzLmlzTm9kZURyYWdnZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuZHJhZ2dlZE5vZGVJZCA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaXNNYWtpbmdXYWxscyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZU1vdXNlTGVhdmUoYmxvY2spIHtcbiAgICBpZiAodGhpcy5pc05vZGVEcmFnZ2VkKSB7XG4gICAgICBjb25zdCBkcmFnZ2VkTm9kZSA9IHRoaXMubm9kZXNbdGhpcy5kcmFnZ2VkTm9kZUlkXTtcbiAgICAgIHJlbW92ZUNsYXNzKGJsb2NrLCBkcmFnZ2VkTm9kZS5zdGF0dXMpO1xuXG4gICAgICBpZiAoaXNOb2RlU3RhcnQoZHJhZ2dlZE5vZGUpKSB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMuc3RhcnREaXJlY3Rpb24gPyB0aGlzLnN0YXJ0RGlyZWN0aW9uIDogXCJcIjtcbiAgICAgICAgcmVtb3ZlQ2xhc3MoYmxvY2ssIGRpcmVjdGlvbik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY3JlYXRlV2FsbChibG9jaykge1xuICAgIGFkZENsYXNzKGJsb2NrLCBDU1NfQ0xBU1MuV0FMTCk7XG4gIH1cblxuICBzZXRDdXJyZW50QWxnb3JpdGhtKGFsZ29LZXkpIHtcbiAgICB0aGlzLmN1cnJlbnRBbGdvcml0aG0gPSBhbGdvS2V5ID8gdGhpcy5hbGdvcml0aG1zW2FsZ29LZXldIDogbnVsbDtcbiAgfVxuXG4gIGhhbmRsZUlzU2VhcmNoaW5nU3RhdGUoaXNTZWFyY2hpbmcpIHtcbiAgICB0aGlzLmlzU2VhcmNoaW5nID0gaXNTZWFyY2hpbmc7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoQ1NTX0lELkNMRUFSX0JUTikuZGlzYWJsZWQgPSBpc1NlYXJjaGluZztcbiAgfVxuXG4gIGhhbmRsZUlzUHJlcGFyZWRTdGF0ZShpc1ByZXBhcmVkKSB7XG4gICAgdGhpcy5pc1ByZXBhcmVkID0gaXNQcmVwYXJlZDtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChDU1NfSUQuU1RBUlRfQlROKS5kaXNhYmxlZCA9ICFpc1ByZXBhcmVkO1xuICB9XG5cbiAgY2xlYXJCb2FyZCgpIHtcbiAgICBmb3IgKGxldCB5ID0gdGhpcy5oZWlnaHQgLSAxOyB5ID49IDA7IHktLSkge1xuICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLndpZHRoOyB4KyspIHtcbiAgICAgICAgY29uc3QgaWQgPSBgJHt4fS0ke3l9YDtcbiAgICAgICAgdGhpcy5yZXNldE5vZGVUb0luaXRpYWwoaWQpO1xuXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3h9LSR7eX1gKS5jbGFzc0xpc3QgPSBbXTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7eH0tJHt5fWApLmNsYXNzTGlzdC5hZGQoQ1NTX0NMQVNTLlVOVklTSVRFRCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuY3JlYXRlU3RhcnROb2RlKCk7XG4gICAgdGhpcy5jcmVhdGVFbmROb2RlKCk7XG4gIH1cblxuICByZXNldE5vZGVzKCkge1xuICAgIGNvbnN0IGN1cnJTdGFydE5vZGVJZCA9IHRoaXMuc3RhcnROb2RlLmlkO1xuICAgIGNvbnN0IGN1cnJFbmROb2RlSWQgPSB0aGlzLmVuZE5vZGUuaWQ7XG4gICAgdGhpcy5ub2RlcyA9IHt9O1xuXG4gICAgZm9yIChsZXQgeSA9IHRoaXMuaGVpZ2h0IC0gMTsgeSA+PSAwOyB5LS0pIHtcbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy53aWR0aDsgeCsrKSB7XG4gICAgICAgIGNvbnN0IGlkID0gYCR7eH0tJHt5fWA7XG4gICAgICAgIHRoaXMubm9kZXNbaWRdID0gY3JlYXRlTm9kZSh4LCB5LCB0aGlzLmN1cnJlbnRBbGdvcml0aG0pO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnNldFN0YXJ0Tm9kZShjdXJyU3RhcnROb2RlSWQpO1xuICAgIHRoaXMuc2V0RW5kTm9kZShjdXJyRW5kTm9kZUlkKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCb2FyZDtcbiIsIi8qKlxuICogR2V0IG5vZGUgbmVpZ2hib3JzJ3MgaWRzXG4gKi9cbmV4cG9ydCBjb25zdCBnZXROZWlnaGJvcnNJZHMgPSAodW52aXNpdGVkTm9kZXNJZHMsIG5vZGVzLCB4LCB5KSA9PiB7XG4gIGxldCBhcnIgPSBbXTtcbiAgaWYgKFxuICAgIG5vZGVzW2Ake3h9LSR7eSArIDF9YF0gJiZcbiAgICAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7eH0tJHt5ICsgMX1gKS5jbGFzc0xpc3QuY29udGFpbnMoXCJ3YWxsXCIpXG4gICkge1xuICAgIGFyci5wdXNoKGAke3h9LSR7eSArIDF9YCk7XG4gIH1cbiAgaWYgKFxuICAgIG5vZGVzW2Ake3ggKyAxfS0ke3l9YF0gJiZcbiAgICAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7eCArIDF9LSR7eX1gKS5jbGFzc0xpc3QuY29udGFpbnMoXCJ3YWxsXCIpXG4gICkge1xuICAgIGFyci5wdXNoKGAke3ggKyAxfS0ke3l9YCk7XG4gIH1cbiAgaWYgKFxuICAgIG5vZGVzW2Ake3h9LSR7eSAtIDF9YF0gJiZcbiAgICAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7eH0tJHt5IC0gMX1gKS5jbGFzc0xpc3QuY29udGFpbnMoXCJ3YWxsXCIpXG4gICkge1xuICAgIGFyci5wdXNoKGAke3h9LSR7eSAtIDF9YCk7XG4gIH1cbiAgaWYgKFxuICAgIG5vZGVzW2Ake3ggLSAxfS0ke3l9YF0gJiZcbiAgICAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7eCAtIDF9LSR7eX1gKS5jbGFzc0xpc3QuY29udGFpbnMoXCJ3YWxsXCIpXG4gICkge1xuICAgIGFyci5wdXNoKGAke3ggLSAxfS0ke3l9YCk7XG4gIH1cblxuICByZXR1cm4gYXJyLmZpbHRlcigocG90ZW50aWFsTmVpZ2hib3JJZCkgPT5cbiAgICB1bnZpc2l0ZWROb2Rlc0lkcy5maW5kKChub2RlSWQpID0+IHBvdGVudGlhbE5laWdoYm9ySWQgPT09IG5vZGVJZClcbiAgKTtcbn07XG4iLCJleHBvcnQgZGVmYXVsdCAobXMpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG59O1xuIiwiaW1wb3J0IGFzeW5jRGVsYXkgZnJvbSBcIi4vYXN5bmNEZWxheVwiO1xuXG5leHBvcnQgY29uc3QgdmlzdWFsaXplVmlzaXRlZE5vZGUgPSBhc3luYyAoaWQsIGRlbGF5KSA9PiB7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5jbGFzc0xpc3QucmVtb3ZlKFwidW52aXNpdGVkXCIpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuY2xhc3NMaXN0LnJlbW92ZShcIm5laWdoYm9yXCIpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuY2xhc3NMaXN0LmFkZChcInZpc2l0ZWRcIik7XG4gIGF3YWl0IGFzeW5jRGVsYXkoZGVsYXkgLyA1KTtcbn07XG5cbmV4cG9ydCBjb25zdCB2aXN1YWxpemVOZWlnaGJvck5vZGUgPSBhc3luYyAoaWQsIGRlbGF5KSA9PiB7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5jbGFzc0xpc3QuYWRkKFwibmVpZ2hib3JcIik7XG4gIGF3YWl0IGFzeW5jRGVsYXkoZGVsYXkgLyA1KTtcbn07XG5cbmV4cG9ydCBjb25zdCB2aXN1YWxpemVQYXRoID0gYXN5bmMgKHZpc2l0ZWROb2Rlcywgc3RhcnQsIGVuZCwgZGVsYXkpID0+IHtcbiAgbGV0IHBhdGhJZHMgPSBbXTtcbiAgbGV0IGZvdW5kU3RhcnQgPSBmYWxzZTtcbiAgbGV0IGN1cnJOb2RlID0gdmlzaXRlZE5vZGVzW2Ake2VuZC54fS0ke2VuZC55fWBdO1xuICBwYXRoSWRzLnB1c2goY3Vyck5vZGUuaWQpO1xuXG4gIHdoaWxlICghZm91bmRTdGFydCkge1xuICAgIGlmIChjdXJyTm9kZS54ID09PSBzdGFydC54ICYmIGN1cnJOb2RlLnkgPT09IHN0YXJ0LnkpIHtcbiAgICAgIGZvdW5kU3RhcnQgPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHBhdGhJZHMucHVzaChjdXJyTm9kZS5wcmV2SWQpO1xuICAgIGN1cnJOb2RlID0gdmlzaXRlZE5vZGVzW2N1cnJOb2RlLnByZXZJZF07XG4gIH1cblxuICBmb3IgKGxldCBpID0gcGF0aElkcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBhdGhJZHNbaV0pLmNsYXNzTGlzdC5hZGQoXCJwYXRoXCIpO1xuICAgIGF3YWl0IGFzeW5jRGVsYXkoZGVsYXkpO1xuICB9XG59O1xuIiwiLyoqXG4gKiBHZXQgdGhlIGNsb3Nlc3Qgbm9kZVxuICovXG5leHBvcnQgY29uc3QgZ2V0Q2xvc2VzdE5vZGUgPSAodW52aXNpdGVkSWRzLCBub2RlcykgPT4ge1xuICBsZXQgbWluID0gSW5maW5pdHk7XG4gIGxldCBtaW5EaXN0Tm9kZUlkID0gMDtcbiAgbGV0IGluZGV4ID0gMDtcblxuICB1bnZpc2l0ZWRJZHMuZm9yRWFjaCgoaWQsIGkpID0+IHtcbiAgICBpZiAobm9kZXNbaWRdKSB7XG4gICAgICBpZiAobm9kZXNbaWRdLmRpc3QgPCBtaW4pIHtcbiAgICAgICAgbWluID0gbm9kZXNbaWRdLmRpc3Q7XG4gICAgICAgIG1pbkRpc3ROb2RlSWQgPSBpZDtcbiAgICAgICAgaW5kZXggPSBpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgdW52aXNpdGVkSWRzLnNwbGljZShpbmRleCwgMSk7XG5cbiAgcmV0dXJuIG5vZGVzW21pbkRpc3ROb2RlSWRdO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIGNsb3Nlc3Qgbm9kZSBiYXNlZCBvbiBkaXN0YW5jZSBmcm9tIHN0YXJ0IGFuZCBoZXVyaXN0aWMgZGlzdGFuY2VcbiAqIGZyb20gY3VycmVudCBwb3NpdGlvbiB0byBlbmQgcG9zaXRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGdldENsb3Nlc3ROb2RlV2l0aEhldXJpc3RpY0Rpc3QgPSAodW52aXNpdGVkSWRzLCBub2RlcykgPT4ge1xuICBsZXQgbWluID0gSW5maW5pdHk7XG4gIGxldCBtaW5IZXVyaXN0aWNEaXN0Tm9kZUlkID0gMDtcbiAgbGV0IGluZGV4ID0gMDtcblxuICB1bnZpc2l0ZWRJZHMuZm9yRWFjaCgoaWQsIGkpID0+IHtcbiAgICBpZiAobm9kZXNbaWRdICYmIG5vZGVzW2lkXS5kaXN0ICE9PSBJbmZpbml0eSkge1xuICAgICAgY29uc3Qgbm9kZVNjb3JlID0gbm9kZXNbaWRdLmRpc3QgKyBub2Rlc1tpZF0uaGV1cmlzdGljRGlzdGFuY2U7XG4gICAgICBpZiAobm9kZVNjb3JlIDwgbWluKSB7XG4gICAgICAgIG1pbiA9IG5vZGVTY29yZTtcbiAgICAgICAgbWluSGV1cmlzdGljRGlzdE5vZGVJZCA9IGlkO1xuICAgICAgICBpbmRleCA9IGk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICB1bnZpc2l0ZWRJZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgcmV0dXJuIG5vZGVzW21pbkhldXJpc3RpY0Rpc3ROb2RlSWRdO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgbm9kZXMgYXJlIGF0IHRoZSBzYW1lIHBvc2l0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBpc1NhbWVOb2RlID0gKG4xLCBuMikgPT4gbjEueCA9PT0gbjIueCAmJiBuMS55ID09PSBuMi55O1xuIiwiZXhwb3J0IGNvbnN0IGFzeW5jRm9yRWFjaCA9IGFzeW5jIChhcnIsIGNhbGxiYWNrKSA9PiB7XG4gIGNvbnN0IGxlbiA9IGFyci5sZW5ndGg7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBhd2FpdCBjYWxsYmFjayhhcnJbaV0sIGksIGFycik7XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBOT0RFX1RZUEUgfSBmcm9tIFwiLi4vbm9kZS90eXBlc1wiO1xuaW1wb3J0IHsgYnJlYWR0aEZpcnN0IH0gZnJvbSBcIi4vYnJlYWR0aEZpcnN0XCI7XG5pbXBvcnQgeyBkZXB0aEZpcnN0IH0gZnJvbSBcIi4vZGVwdGhGaXJzdFwiO1xuaW1wb3J0IHsgZGlqa3N0cmEgfSBmcm9tIFwiLi9kaWprc3RyYVwiO1xuaW1wb3J0IHsgYXN0YXIgfSBmcm9tIFwiLi9hc3RhclwiO1xuXG5leHBvcnQgY29uc3QgYWxnb3JpdGhtcyA9IHtcbiAgYmZzOiB7XG4gICAgbmFtZTogXCJCcmVhZHRoLUZpcnN0IFNlYXJjaFwiLFxuICAgIGZ1bmM6IGJyZWFkdGhGaXJzdCxcbiAgICBub2RlOiB7XG4gICAgICB0eXBlOiBOT0RFX1RZUEUuTk9STUFMLFxuICAgICAgaW5pdGlhbFZhbHVlczoge1xuICAgICAgICBzdGF0dXM6IFwiYmxvY2tcIixcbiAgICAgICAgcHJldklkOiBudWxsLFxuICAgICAgICBkaXN0OiBJbmZpbml0eSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSxcbiAgZGZzOiB7XG4gICAgbmFtZTogXCJEZXB0aC1GaXJzdCBTZWFyY2hcIixcbiAgICBmdW5jOiBkZXB0aEZpcnN0LFxuICAgIG5vZGU6IHtcbiAgICAgIHR5cGU6IE5PREVfVFlQRS5OT1JNQUwsXG4gICAgICBpbml0aWFsVmFsdWVzOiB7XG4gICAgICAgIHN0YXR1czogXCJibG9ja1wiLFxuICAgICAgICBwcmV2SWQ6IG51bGwsXG4gICAgICAgIGRpc3Q6IEluZmluaXR5LFxuICAgICAgfSxcbiAgICB9LFxuICB9LFxuICBkaWprc3RyYToge1xuICAgIG5hbWU6IFwiRGlqa3N0cmFcIixcbiAgICBmdW5jOiBkaWprc3RyYSxcbiAgICBub2RlOiB7XG4gICAgICB0eXBlOiBOT0RFX1RZUEUuV0VJR0hURUQsXG4gICAgICBpbml0aWFsVmFsdWVzOiB7XG4gICAgICAgIHN0YXR1czogXCJibG9ja1wiLFxuICAgICAgICBwcmV2SWQ6IG51bGwsXG4gICAgICAgIGRpc3Q6IEluZmluaXR5LFxuICAgICAgICBkaXJlY3Rpb246IG51bGwsXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG4gIGFzdGFyOiB7XG4gICAgbmFtZTogXCJBKiBTZWFyY2hcIixcbiAgICBmdW5jOiBhc3RhcixcbiAgICBub2RlOiB7XG4gICAgICB0eXBlOiBOT0RFX1RZUEUuSEVVUklTVElDLFxuICAgICAgaW5pdGlhbFZhbHVlczoge1xuICAgICAgICBzdGF0dXM6IFwiYmxvY2tcIixcbiAgICAgICAgcHJldklkOiBudWxsLFxuICAgICAgICBkaXN0OiBJbmZpbml0eSxcbiAgICAgICAgZGlyZWN0aW9uOiBudWxsLFxuICAgICAgICBoZXVyaXN0aWNEaXN0YW5jZTogbnVsbCxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSxcbn07XG4iLCJpbXBvcnQgeyBnZXROZWlnaGJvcnNJZHMgfSBmcm9tIFwiLi9oZWxwZXJzL25laWdoYm9yc1wiO1xuaW1wb3J0IHtcbiAgdmlzdWFsaXplUGF0aCxcbiAgdmlzdWFsaXplVmlzaXRlZE5vZGUsXG4gIHZpc3VhbGl6ZU5laWdoYm9yTm9kZSxcbn0gZnJvbSBcIi4uL2hlbHBlcnMvdmlzdWFsaXplclwiO1xuaW1wb3J0IHsgZ2V0Q2xvc2VzdE5vZGUsIGlzU2FtZU5vZGUgfSBmcm9tIFwiLi9oZWxwZXJzL25vZGVzXCI7XG5pbXBvcnQgeyBhc3luY0ZvckVhY2ggfSBmcm9tIFwiLi4vaGVscGVycy9hc3luY0ZvckVhY2hcIjtcblxuZXhwb3J0IGNvbnN0IGJyZWFkdGhGaXJzdCA9IGFzeW5jIChub2Rlcywgc3RhcnQsIGVuZCwgc3BlZWQpID0+IHtcbiAgbGV0IHVudmlzaXRlZE5vZGVzSWRzID0gT2JqZWN0LmtleXMobm9kZXMpO1xuICBsZXQgdmlzaXRlZE5vZGVzID0ge307XG4gIGxldCBmb3VuZEVuZCA9IGZhbHNlO1xuXG4gIHdoaWxlICh1bnZpc2l0ZWROb2Rlc0lkcy5sZW5ndGgpIHtcbiAgICBjb25zdCBjdXJyTm9kZSA9IGdldENsb3Nlc3ROb2RlKHVudmlzaXRlZE5vZGVzSWRzLCBub2Rlcyk7XG4gICAgaWYgKCFjdXJyTm9kZSkgYnJlYWs7XG5cbiAgICBhd2FpdCB2aXN1YWxpemVWaXNpdGVkTm9kZShjdXJyTm9kZS5pZCwgc3BlZWQpO1xuXG4gICAgdmlzaXRlZE5vZGVzW2N1cnJOb2RlLmlkXSA9IGN1cnJOb2RlO1xuXG4gICAgaWYgKGlzU2FtZU5vZGUoY3Vyck5vZGUsIGVuZCkpIHtcbiAgICAgIGZvdW5kRW5kID0gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGNvbnN0IG5laWdoYm9yc0lkcyA9IGdldE5laWdoYm9yc0lkcyhcbiAgICAgIHVudmlzaXRlZE5vZGVzSWRzLFxuICAgICAgbm9kZXMsXG4gICAgICBjdXJyTm9kZS54LFxuICAgICAgY3Vyck5vZGUueVxuICAgICk7XG5cbiAgICBhd2FpdCBhc3luY0ZvckVhY2gobmVpZ2hib3JzSWRzLCAobmVpZ2hib3JJZCkgPT4ge1xuICAgICAgY29uc3QgaXNOZWlnaGJvckZ1cnRoZXJGcm9tU3RhcnQgPSBjdXJyTm9kZS5kaXN0IDwgbm9kZXNbbmVpZ2hib3JJZF0uZGlzdDtcblxuICAgICAgaWYgKGlzTmVpZ2hib3JGdXJ0aGVyRnJvbVN0YXJ0KSB7XG4gICAgICAgIHZpc3VhbGl6ZU5laWdoYm9yTm9kZShuZWlnaGJvcklkLCBzcGVlZCk7XG5cbiAgICAgICAgbm9kZXNbbmVpZ2hib3JJZF0uZGlzdCA9IGN1cnJOb2RlLmRpc3QgKyAxO1xuICAgICAgICBub2Rlc1tuZWlnaGJvcklkXS5wcmV2SWQgPSBjdXJyTm9kZS5pZDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmIChmb3VuZEVuZCkge1xuICAgIHZpc3VhbGl6ZVBhdGgodmlzaXRlZE5vZGVzLCBzdGFydCwgZW5kLCBzcGVlZCk7XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBnZXROZWlnaGJvcnNJZHMgfSBmcm9tIFwiLi9oZWxwZXJzL25laWdoYm9yc1wiO1xuaW1wb3J0IHsgdmlzdWFsaXplUGF0aCwgdmlzdWFsaXplVmlzaXRlZE5vZGUgfSBmcm9tIFwiLi4vaGVscGVycy92aXN1YWxpemVyXCI7XG5pbXBvcnQgeyBpc1NhbWVOb2RlIH0gZnJvbSBcIi4vaGVscGVycy9ub2Rlc1wiO1xuaW1wb3J0IHsgYXN5bmNGb3JFYWNoIH0gZnJvbSBcIi4uL2hlbHBlcnMvYXN5bmNGb3JFYWNoXCI7XG5cbmV4cG9ydCBjb25zdCBkZXB0aEZpcnN0ID0gYXN5bmMgKG5vZGVzLCBzdGFydCwgZW5kLCBzcGVlZCkgPT4ge1xuICBsZXQgdW52aXNpdGVkTm9kZXNJZHMgPSBPYmplY3Qua2V5cyhub2Rlcyk7XG4gIGxldCB2aXNpdGVkTm9kZXMgPSB7fTtcbiAgbGV0IGZvdW5kRW5kID0gZmFsc2U7XG5cbiAgY29uc3Qgc2VhcmNoID0gYXN5bmMgKGN1cnJOb2RlLCBwcmV2SWQpID0+IHtcbiAgICBpZiAoIWN1cnJOb2RlKSByZXR1cm47XG4gICAgaWYgKGZvdW5kRW5kKSByZXR1cm47XG4gICAgYXdhaXQgdmlzdWFsaXplVmlzaXRlZE5vZGUoY3Vyck5vZGUuaWQpO1xuXG4gICAgY3Vyck5vZGUucHJldklkID0gcHJldklkO1xuICAgIHZpc2l0ZWROb2Rlc1tjdXJyTm9kZS5pZF0gPSBjdXJyTm9kZTtcbiAgICB1bnZpc2l0ZWROb2Rlc0lkcyA9IHVudmlzaXRlZE5vZGVzSWRzLmZpbHRlcigoaWQpID0+IGlkICE9PSBjdXJyTm9kZS5pZCk7XG5cbiAgICBpZiAoaXNTYW1lTm9kZShjdXJyTm9kZSwgZW5kKSkge1xuICAgICAgZm91bmRFbmQgPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG5laWdoYm9yc0lkcyA9IGdldE5laWdoYm9yc0lkcyhcbiAgICAgIHVudmlzaXRlZE5vZGVzSWRzLFxuICAgICAgbm9kZXMsXG4gICAgICBjdXJyTm9kZS54LFxuICAgICAgY3Vyck5vZGUueVxuICAgICk7XG5cbiAgICBhd2FpdCBhc3luY0ZvckVhY2gobmVpZ2hib3JzSWRzLCAoaWQpID0+IHNlYXJjaChub2Rlc1tpZF0sIGN1cnJOb2RlLmlkKSk7XG4gIH07XG5cbiAgYXdhaXQgc2VhcmNoKG5vZGVzW3N0YXJ0LmlkXSk7XG5cbiAgaWYgKGZvdW5kRW5kKSB7XG4gICAgdmlzdWFsaXplUGF0aCh2aXNpdGVkTm9kZXMsIHN0YXJ0LCBlbmQsIHNwZWVkKTtcbiAgfVxufTtcbiIsImltcG9ydCB7IGdldERpc3RhbmNlQmV0d2Vlbk5vZGVzLCBnZXROb2RlRGlyZWN0aW9uIH0gZnJvbSBcIi4vaGVscGVycy93ZWlnaHRlZFwiO1xuaW1wb3J0IHsgZ2V0TmVpZ2hib3JzSWRzIH0gZnJvbSBcIi4vaGVscGVycy9uZWlnaGJvcnNcIjtcbmltcG9ydCB7IGdldENsb3Nlc3ROb2RlLCBpc1NhbWVOb2RlIH0gZnJvbSBcIi4vaGVscGVycy9ub2Rlc1wiO1xuaW1wb3J0IHtcbiAgdmlzdWFsaXplTmVpZ2hib3JOb2RlLFxuICB2aXN1YWxpemVWaXNpdGVkTm9kZSxcbiAgdmlzdWFsaXplUGF0aCxcbn0gZnJvbSBcIi4uL2hlbHBlcnMvdmlzdWFsaXplclwiO1xuXG5leHBvcnQgY29uc3QgZGlqa3N0cmEgPSBhc3luYyAobm9kZXMsIHN0YXJ0LCBlbmQsIHNwZWVkKSA9PiB7XG4gIGxldCB1bnZpc2l0ZWROb2Rlc0lkcyA9IE9iamVjdC5rZXlzKG5vZGVzKTtcbiAgbGV0IHZpc2l0ZWROb2RlcyA9IHt9O1xuICBsZXQgZm91bmRFbmQgPSBmYWxzZTtcblxuICB3aGlsZSAodW52aXNpdGVkTm9kZXNJZHMubGVuZ3RoKSB7XG4gICAgY29uc3QgY3Vyck5vZGUgPSBnZXRDbG9zZXN0Tm9kZSh1bnZpc2l0ZWROb2Rlc0lkcywgbm9kZXMpO1xuICAgIGlmICghY3Vyck5vZGUpIGJyZWFrO1xuICAgIGF3YWl0IHZpc3VhbGl6ZVZpc2l0ZWROb2RlKGN1cnJOb2RlLmlkLCBzcGVlZCk7XG5cbiAgICB2aXNpdGVkTm9kZXNbY3Vyck5vZGUuaWRdID0gY3Vyck5vZGU7XG5cbiAgICBpZiAoaXNTYW1lTm9kZShjdXJyTm9kZSwgZW5kKSkge1xuICAgICAgZm91bmRFbmQgPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY29uc3QgbmVpZ2hib3JzSWRzID0gZ2V0TmVpZ2hib3JzSWRzKFxuICAgICAgdW52aXNpdGVkTm9kZXNJZHMsXG4gICAgICBub2RlcyxcbiAgICAgIGN1cnJOb2RlLngsXG4gICAgICBjdXJyTm9kZS55XG4gICAgKTtcblxuICAgIG5laWdoYm9yc0lkcy5mb3JFYWNoKChuZWlnaGJvcklkKSA9PiB7XG4gICAgICBjb25zdCBkaXN0YW5jZUJldHdlZW5Ob2RlcyA9IGdldERpc3RhbmNlQmV0d2Vlbk5vZGVzKFxuICAgICAgICBjdXJyTm9kZSxcbiAgICAgICAgbm9kZXNbbmVpZ2hib3JJZF1cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGlzTmVpZ2hib3JGdXJ0aGVyRnJvbVN0YXJ0ID1cbiAgICAgICAgY3Vyck5vZGUuZGlzdCArIGRpc3RhbmNlQmV0d2Vlbk5vZGVzIDwgbm9kZXNbbmVpZ2hib3JJZF0uZGlzdDtcblxuICAgICAgaWYgKGlzTmVpZ2hib3JGdXJ0aGVyRnJvbVN0YXJ0KSB7XG4gICAgICAgIHZpc3VhbGl6ZU5laWdoYm9yTm9kZShuZWlnaGJvcklkKTtcbiAgICAgICAgbm9kZXNbbmVpZ2hib3JJZF0uZGlzdCA9IGN1cnJOb2RlLmRpc3QgKyBkaXN0YW5jZUJldHdlZW5Ob2RlcztcbiAgICAgICAgbm9kZXNbbmVpZ2hib3JJZF0ucHJldklkID0gY3Vyck5vZGUuaWQ7XG4gICAgICAgIG5vZGVzW25laWdoYm9ySWRdLmRpcmVjdGlvbiA9IGdldE5vZGVEaXJlY3Rpb24oXG4gICAgICAgICAgY3Vyck5vZGUsXG4gICAgICAgICAgbm9kZXNbbmVpZ2hib3JJZF1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmIChmb3VuZEVuZCkge1xuICAgIHZpc3VhbGl6ZVBhdGgodmlzaXRlZE5vZGVzLCBzdGFydCwgZW5kLCBzcGVlZCk7XG4gIH1cbn07XG4iLCJpbXBvcnQge1xuICBnZXREaXN0YW5jZUJldHdlZW5Ob2RlcyxcbiAgZ2V0Tm9kZURpcmVjdGlvbixcbiAgZ2V0V2VpZ2h0ZWRNYW5oYXR0YW5EaXN0YW5jZSxcbn0gZnJvbSBcIi4vaGVscGVycy93ZWlnaHRlZFwiO1xuaW1wb3J0IHsgZ2V0TmVpZ2hib3JzSWRzIH0gZnJvbSBcIi4vaGVscGVycy9uZWlnaGJvcnNcIjtcbmltcG9ydCB7IGdldENsb3Nlc3ROb2RlV2l0aEhldXJpc3RpY0Rpc3QsIGlzU2FtZU5vZGUgfSBmcm9tIFwiLi9oZWxwZXJzL25vZGVzXCI7XG5pbXBvcnQge1xuICB2aXN1YWxpemVWaXNpdGVkTm9kZSxcbiAgdmlzdWFsaXplUGF0aCxcbiAgdmlzdWFsaXplTmVpZ2hib3JOb2RlLFxufSBmcm9tIFwiLi4vaGVscGVycy92aXN1YWxpemVyXCI7XG5pbXBvcnQgeyBhc3luY0ZvckVhY2ggfSBmcm9tIFwiLi4vaGVscGVycy9hc3luY0ZvckVhY2hcIjtcblxuZXhwb3J0IGNvbnN0IGFzdGFyID0gYXN5bmMgKG5vZGVzLCBzdGFydCwgZW5kLCBzcGVlZCkgPT4ge1xuICBsZXQgdW52aXNpdGVkTm9kZXNJZHMgPSBPYmplY3Qua2V5cyhub2Rlcyk7XG4gIGxldCB2aXNpdGVkTm9kZXMgPSB7fTtcbiAgbGV0IGZvdW5kRW5kID0gZmFsc2U7XG5cbiAgbm9kZXNbc3RhcnQuaWRdLmhldXJpc3RpY0Rpc3RhbmNlID0gZ2V0V2VpZ2h0ZWRNYW5oYXR0YW5EaXN0YW5jZShzdGFydCwgZW5kKTtcblxuICB3aGlsZSAodW52aXNpdGVkTm9kZXNJZHMubGVuZ3RoKSB7XG4gICAgY29uc3QgY3Vyck5vZGUgPSBnZXRDbG9zZXN0Tm9kZVdpdGhIZXVyaXN0aWNEaXN0KHVudmlzaXRlZE5vZGVzSWRzLCBub2Rlcyk7XG4gICAgaWYgKCFjdXJyTm9kZSkgYnJlYWs7XG5cbiAgICBhd2FpdCB2aXN1YWxpemVWaXNpdGVkTm9kZShjdXJyTm9kZS5pZCwgc3BlZWQpO1xuXG4gICAgdmlzaXRlZE5vZGVzW2N1cnJOb2RlLmlkXSA9IGN1cnJOb2RlO1xuXG4gICAgaWYgKGlzU2FtZU5vZGUoY3Vyck5vZGUsIGVuZCkpIHtcbiAgICAgIGZvdW5kRW5kID0gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGNvbnN0IG5laWdoYm9yc0lkcyA9IGdldE5laWdoYm9yc0lkcyhcbiAgICAgIHVudmlzaXRlZE5vZGVzSWRzLFxuICAgICAgbm9kZXMsXG4gICAgICBjdXJyTm9kZS54LFxuICAgICAgY3Vyck5vZGUueVxuICAgICk7XG5cbiAgICBhd2FpdCBhc3luY0ZvckVhY2gobmVpZ2hib3JzSWRzLCBhc3luYyAobmVpZ2hib3JJZCkgPT4ge1xuICAgICAgY29uc3QgZGlzdGFuY2VCZXR3ZWVuTm9kZXMgPSBnZXREaXN0YW5jZUJldHdlZW5Ob2RlcyhcbiAgICAgICAgY3Vyck5vZGUsXG4gICAgICAgIG5vZGVzW25laWdoYm9ySWRdXG4gICAgICApO1xuXG4gICAgICBjb25zdCBpc05laWdoYm9yRnVydGhlckZyb21TdGFydCA9XG4gICAgICAgIGN1cnJOb2RlLmRpc3QgKyBkaXN0YW5jZUJldHdlZW5Ob2RlcyA8IG5vZGVzW25laWdoYm9ySWRdLmRpc3Q7XG5cbiAgICAgIGlmIChpc05laWdoYm9yRnVydGhlckZyb21TdGFydCkge1xuICAgICAgICBhd2FpdCB2aXN1YWxpemVOZWlnaGJvck5vZGUobmVpZ2hib3JJZCwgc3BlZWQpO1xuXG4gICAgICAgIG5vZGVzW25laWdoYm9ySWRdLmRpc3QgPSBjdXJyTm9kZS5kaXN0ICsgZGlzdGFuY2VCZXR3ZWVuTm9kZXM7XG4gICAgICAgIG5vZGVzW25laWdoYm9ySWRdLmRpcmVjdGlvbiA9IGdldE5vZGVEaXJlY3Rpb24oXG4gICAgICAgICAgY3Vyck5vZGUsXG4gICAgICAgICAgbm9kZXNbbmVpZ2hib3JJZF1cbiAgICAgICAgKTtcbiAgICAgICAgbm9kZXNbbmVpZ2hib3JJZF0uaGV1cmlzdGljRGlzdGFuY2UgPSBnZXRXZWlnaHRlZE1hbmhhdHRhbkRpc3RhbmNlKFxuICAgICAgICAgIG5vZGVzW25laWdoYm9ySWRdLFxuICAgICAgICAgIGVuZFxuICAgICAgICApO1xuICAgICAgICBub2Rlc1tuZWlnaGJvcklkXS5wcmV2SWQgPSBjdXJyTm9kZS5pZDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmIChmb3VuZEVuZCkge1xuICAgIHZpc3VhbGl6ZVBhdGgodmlzaXRlZE5vZGVzLCBzdGFydCwgZW5kLCBzcGVlZCk7XG4gIH1cbn07XG4iLCJpbXBvcnQgXCIuL2Fzc2V0cy9zYXNzL21haW4uc2Nzc1wiO1xuaW1wb3J0IEJvYXJkIGZyb20gXCIuL21vZHVsZXMvQm9hcmRcIjtcbmltcG9ydCB7IGFsZ29yaXRobXMgfSBmcm9tIFwiLi9tb2R1bGVzL2FsZ29yaXRobXMvdHlwZXNcIjtcblxuY29uc3QgYm9hcmQgPSBuZXcgQm9hcmQoe1xuICBib2FyZElkOiBcImJvYXJkXCIsXG4gIGJsb2NrU2l6ZTogMjUsXG4gIHNwZWVkOiA0MCxcbiAgYWxnb3JpdGhtcyxcbiAgaW5pdGlhbEFsZ29yaXRobTogYWxnb3JpdGhtc1tcImJmc1wiXSxcbn0pO1xuYm9hcmQuaW5pdGlhbGl6ZSgpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==