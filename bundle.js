!function(t){var e={};function s(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(i,a,function(e){return t[e]}.bind(null,a));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=3)}([function(t,e,s){var i=s(1),a=s(2);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var r={insert:"head",singleton:!1},n=(i(a,r),a.locals?a.locals:{});t.exports=n},function(t,e,s){"use strict";var i,a=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},r=function(){var t={};return function(e){if(void 0===t[e]){var s=document.querySelector(e);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(t){s=null}t[e]=s}return t[e]}}(),n=[];function d(t){for(var e=-1,s=0;s<n.length;s++)if(n[s].identifier===t){e=s;break}return e}function o(t,e){for(var s={},i=[],a=0;a<t.length;a++){var r=t[a],o=e.base?r[0]+e.base:r[0],l=s[o]||0,h="".concat(o," ").concat(l);s[o]=l+1;var c=d(h),u={css:r[1],media:r[2],sourceMap:r[3]};-1!==c?(n[c].references++,n[c].updater(u)):n.push({identifier:h,updater:g(u,e),references:1}),i.push(h)}return i}function l(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var a=s.nc;a&&(i.nonce=a)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var n=r(t.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(e)}return e}var h,c=(h=[],function(t,e){return h[t]=e,h.filter(Boolean).join("\n")});function u(t,e,s,i){var a=s?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=c(e,a);else{var r=document.createTextNode(a),n=t.childNodes;n[e]&&t.removeChild(n[e]),n.length?t.insertBefore(r,n[e]):t.appendChild(r)}}function f(t,e,s){var i=s.css,a=s.media,r=s.sourceMap;if(a?t.setAttribute("media",a):t.removeAttribute("media"),r&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var p=null,v=0;function g(t,e){var s,i,a;if(e.singleton){var r=v++;s=p||(p=l(e)),i=u.bind(null,s,r,!1),a=u.bind(null,s,r,!0)}else s=l(e),i=f.bind(null,s,e),a=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(s)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else a()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=a());var s=o(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<s.length;i++){var a=d(s[i]);n[a].references--}for(var r=o(t,e),l=0;l<s.length;l++){var h=d(s[l]);0===n[h].references&&(n[h].updater(),n.splice(h,1))}s=r}}}},function(t,e,s){},function(t,e,s){"use strict";s.r(e);s(0);const i="block",a="nav-algorithm-js",r="blocked",n="active",d="start",o="end",l="wall",h="visited",c="unvisited",u="neighbor",f="path",p="nav",v="startBtn",g="clearBtn",m="clearWallsBtn",y="speedVal",N="delayed",S="instant",E=(t,...e)=>t.classList.contains(e),b=(t,...e)=>t.classList.add(e);function x(){}(x=t=>document.querySelector(t)).all=t=>document.querySelectorAll(t),x.id=t=>document.getElementById(t);const w=(t,e,s,a)=>{const r=document.createElement("td");r.id=`${s}-${a}`,r.classList.add("unvisited"),r.className=`${i} ${c}`,r.style.width=e+"px",r.style.height=e+"px",r.dataset.x=s,r.dataset.y=a,t.appendChild(r)},L=t=>{x.id(t).className=`${i} ${c}`},I=(t,e)=>{const s=x.id(t);s.className=`${i} ${d}`,e&&s.classList.add(e)},D=t=>{x.id(t).className=`${i} ${o}`},$=(t,e)=>Math.floor(Math.random()*e)+t,k=(t,e,s)=>{let i;do{i=$(t,e)}while(i===s);return i};var B=(t,e)=>{for(let s of Object.keys(t))for(let i of Object.keys(e))s===i&&(t[s]=e[i])};var A=class{constructor({status:t,x:e,y:s,prevId:i,dist:a}){this.status=t,this.id=`${e}-${s}`,this.x=e,this.y=s,this.prevId=i,this.dist=a}};var M=class extends A{constructor({direction:t,...e}){super(e),this.direction=t}};var C=class extends M{constructor({heuristicDistance:t,...e}){super(e),this.heuristicDistance=t}};const O="NORMAL",T="WEIGHTED",j="HEURISTIC",W="start",P="end",z="wall",F="visited",q="unvisited",_="neighbor";var V=class{static createNode(t,e){switch(t){case O:return new A(e);case T:return new M(e);case j:return new C(e);default:return new A(e)}}};const U=(t,e,s)=>V.createNode(s.node.type,{x:t,y:e,...s.node.initialValues}),H=t=>t.status===q,R=t=>t.status===z,K={north:0,east:1,south:2,west:3},G=[0,1,2,1],J=[1,0,1,2],Q=[2,1,0,1],X=[1,2,1,0],Y=(t,e)=>{if(t.y<e.y&&t.x===e.x)return G[t.direction]+1;if(t.x<e.x&&t.y===e.y)return J[t.direction]+1;if(t.y>e.y&&t.x===e.x)return Q[t.direction]+1;if(t.x>e.x&&t.y===e.y)return X[t.direction]+1;throw new Error("Something went wrong when setting the distance between nodes.")},Z=(t,e)=>{if(t.y<e.y&&t.x===e.x)return K.north;if(t.x<e.x&&t.y===e.y)return K.east;if(t.y>e.y&&t.x===e.x)return K.south;if(t.x>e.x&&t.y===e.y)return K.west;throw new Error("Something went wrong when setting the direction of node.")},tt=(t,e)=>{const s=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y);let a=0;const r=0===(n=t.direction)?G:1===n?J:2===n?Q:3===n?X:void 0;var n;return t.y<e.y?(a+=r[0],t.x<e.x?a+=r[1]:t.x>e.x&&(a+=r[3])):t.y>e.y&&(a+=r[2],t.x<e.x?a+=r[1]:t.x>e.x&&(a+=r[3])),s+i+a};var et=class{static addNavEventListeners(t){x.all("."+a).forEach(e=>{e.addEventListener("click",e=>{t(e)})})}static addStartBtnEventListener(t){x("#"+v).addEventListener("click",async e=>{t(e)})}static addClearBtnEventListener(t){x("#"+g).addEventListener("click",e=>{t(e)})}static addBlocksEventListeners(t){x.all("."+c).forEach(e=>{e.addEventListener("mousedown",e=>{e.preventDefault(),t.handleMouseDownOnBlock(e.target)}),e.addEventListener("mouseenter",e=>{e.preventDefault(),t.handleMouseEnterOnBlock(e.target)}),e.addEventListener("mouseup",e=>{e.preventDefault(),t.handleMouseUpOnBlock(e.target)}),e.addEventListener("mouseleave",e=>{e.preventDefault(),t.handleMouseLeaveOnBlock(e.target)})})}};const st=async(t,e)=>{const s=t.length;for(let i=0;i<s;i++)await e(t[i],i,t)};var it=t=>new Promise(e=>setTimeout(e,t));var at=class{constructor(t){this.delay=t,this.minDelay=20,this.maxDelay=100,this.prepareSpeedInput()}async run(t,e,s){s===N?await this.runDelayed(t,e):s===S&&this.runInstant(t,e)}async runDelayed(t,e){await st(t,async t=>{const e=x.id(t.id);e.classList.remove(c),t.status===F?(e.classList.add(h),await it(this.delay/5)):t.status===_&&(e.classList.add(u),await it(this.delay/5))}),await st(e,async t=>{x.id(t.id).classList.add(f),await it(this.delay)})}runInstant(t,e){t.forEach(t=>{const e=x.id(t.id);e.classList.remove(c),t.status===F?e.classList.add("instant-"+h):t.status===_&&e.classList.add("instant-"+u)}),e.forEach(t=>{x.id(t.id).classList.add("instant-"+f)})}prepareSpeedInput(){const t=x.id(y);t.min=this.minDelay,t.max=this.maxDelay,t.value=this.delay,t.style.direction="rtl",t.addEventListener("change",t=>{this.delay=t.target.value})}};const rt=(t,e,s,i)=>{let a=[];return e[`${s}-${i+1}`]&&!R(e[`${s}-${i+1}`])&&a.push(`${s}-${i+1}`),e[`${s+1}-${i}`]&&!R(e[`${s+1}-${i}`])&&a.push(`${s+1}-${i}`),e[`${s}-${i-1}`]&&!R(e[`${s}-${i-1}`])&&a.push(`${s}-${i-1}`),e[`${s-1}-${i}`]&&!R(e[`${s-1}-${i}`])&&a.push(`${s-1}-${i}`),a.filter(e=>t.find(t=>e===t))},nt=(t,e)=>{let s=1/0,i=0,a=0;return t.forEach((t,r)=>{e[t]&&e[t].dist<s&&(s=e[t].dist,i=t,a=r)}),t.splice(a,1),e[i]},dt=(t,e)=>{let s=1/0,i=0,a=0;return t.forEach((t,r)=>{if(e[t]&&e[t].dist!==1/0){const n=e[t].dist+e[t].heuristicDistance;n<s&&(s=n,i=t,a=r)}}),t.splice(a,1),e[i]},ot=(t,e)=>t.x===e.x&&t.y===e.y,lt=(t,e,s,i)=>{let a=[];if(i){let i=!1,r=t[s.id];for(a.push(r);!i;){if(a.push(r),r.x===e.x&&r.y===e.y){i=!0;break}r.prevId&&(r=t[r.prevId])}}return a.reverse()},ht={bfs:{name:"Breadth-First Search",func:(t,e,s)=>{let i=Object.keys(t),a={},r=[],n=!1;for(;i.length;){const e=nt(i,t);if(!e)break;if(e.status=F,a[e.id]=e,r.push(e),ot(e,s)){n=!0;break}rt(i,t,e.x,e.y).forEach(s=>{a[s]=t[s],t[s].status=_,r.push(t[s]),e.dist<t[s].dist&&(t[s].dist=e.dist+1,t[s].prevId=e.id)})}return[r,lt(a,e,s,n)]},node:{type:O,initialValues:{status:q,prevId:null,dist:1/0}}},dfs:{name:"Depth-First Search",func:(t,e,s,i)=>{let a=Object.keys(t),r={},n=[],d=!1;const o=(e,i)=>{if(!e)return;if(d)return;if(e.prevId=i,e.status=F,r[e.id]=e,n.push(e),a=a.filter(t=>t!==e.id),ot(e,s))return void(d=!0);rt(a,t,e.x,e.y).forEach(s=>o(t[s],e.id))};return o(t[e.id]),[n,lt(r,e,s,d)]},node:{type:O,initialValues:{status:q,prevId:null,dist:1/0}}},dijkstra:{name:"Dijkstra",func:async(t,e,s,i)=>{let a=Object.keys(t),r={},n=[],d=!1;for(;a.length;){const e=nt(a,t);if(!e)break;if(e.status=F,r[e.id]=e,n.push(e),ot(e,s)){d=!0;break}rt(a,t,e.x,e.y).forEach(s=>{r[s]=t[s],t[s].status=_,n.push(t[s]);const i=Y(e,t[s]);e.dist+i<t[s].dist&&(t[s].dist=e.dist+i,t[s].prevId=e.id,t[s].direction=Z(e,t[s]))})}return[n,lt(r,e,s,d)]},node:{type:T,initialValues:{status:q,prevId:null,dist:1/0,direction:null}}},astar:{name:"A* Search",func:(t,e,s)=>{let i=Object.keys(t),a={},r=[],n=!1;for(t[e.id].heuristicDistance=tt(e,s);i.length;){const e=dt(i,t);if(!e)break;if(e.status=F,a[e.id]=e,r.push(e),ot(e,s)){n=!0;break}rt(i,t,e.x,e.y).forEach(i=>{a[i]=t[i],t[i].status=_,r.push(t[i]);const n=Y(e,t[i]);e.dist+n<t[i].dist&&(t[i].dist=e.dist+n,t[i].direction=Z(e,t[i]),t[i].heuristicDistance=tt(t[i],s),t[i].prevId=e.id)})}return[r,lt(a,e,s,n)]},node:{type:j,initialValues:{status:q,prevId:null,dist:1/0,direction:null,heuristicDistance:null}}}};new class{constructor({boardId:t,blockSize:e,delay:s,algorithms:i,initialAlgorithm:a,initialStartDirection:r}){this.boardId=t,this.blockSize=e,this.width=null,this.height=null,this.nodes={},this.startNode=null,this.startDirection=r,this.endNode=null,this.isSearching=!1,this.isPrepared=!1,this.isSearched=!1,this.isMakingWalls=!1,this.isNodeDragged=!1,this.draggedNodeId=null,this.isAlgorithmChanged=!1,this.algorithms=i||null,this.currentAlgorithm=a||null,this.visualizer=new at(s),this.animationType=N}initialize(){this.createNav(),this.calculateBoardSize(),this.createBoard(),this.createStartNode(),this.createEndNode(),this.setInitialActiveNavAlgorithm(),this.addNavAlgoElemsEventListeners(),this.addBlocksEventListeners(),this.addBtnsEventListeners(),et.addNavEventListeners(this.handleNavItemOnClick.bind(this)),this.isPrepared=!0}handleNavItemOnClick(t){const e=t.target;E(e,r)||(x.all("."+a).forEach(t=>((t,...e)=>t.classList.remove(e))(t,n)),b(e,n),this.setCurrentAlgorithm(e.dataset.algorithmKey),this.isAlgorithmChanged=!0,this.recreateNodes())}calculateBoardSize(){const t=x.id(this.boardId),e=t.clientWidth,s=t.clientHeight;this.width=Math.floor(e/this.blockSize),this.height=Math.floor(s/this.blockSize)}createBoard(){const t=x.id(this.boardId),e=document.createElement("tbody");for(let t=this.height-1;t>=0;t--){const s=document.createElement("tr");for(let e=0;e<this.width;e++)w(s,this.blockSize,e,t),this.nodes[`${e}-${t}`]=U(e,t,this.currentAlgorithm);e.appendChild(s)}t.appendChild(e)}createNav(){const t=x.id(p);for(let[e,s]of Object.entries(this.algorithms)){const i=document.createElement("div");b(i,a),i.innerText=s.name,i.dataset.algorithmKey=e,t.appendChild(i)}}setInitialActiveNavAlgorithm(){document.querySelectorAll("."+a)[0].classList.add(n)}createStartNode(){const t=`${$(0,this.width-1)}-${$(0,this.height-1)}`;this.setStartNode(t),I(t,this.startDirection)}createEndNode(){const t=`${k(0,this.width-1,this.startNode.x)}-${k(0,this.height-1,this.startNode.y)}`;this.setEndNode(t),D(t)}setStartNode(t){B(this.nodes[t],{status:W,dist:0,direction:this.startDirection?K[this.startDirection]:null}),this.startNode=this.nodes[t]}setEndNode(t){B(this.nodes[t],{status:P,dist:1/0}),this.endNode=this.nodes[t]}setNodeToInitial(t){B(this.nodes[t],this.currentAlgorithm.node.initialValues)}addNavAlgoElemsEventListeners(){const t=document.querySelectorAll("."+a);t.forEach(e=>{e.addEventListener("click",e=>{E(e.target,r)||(t.forEach(t=>t.classList.remove(n)),e.target.classList.add(n),this.setCurrentAlgorithm(e.target.dataset.algorithmKey),this.resetNodesExpectWalls(),this.setStartNode(this.startNode.id),this.setEndNode(this.endNode.id))})})}addBtnsEventListeners(){const t=x.id(v),e=x.id(g),s=x.id(m);t.addEventListener("click",t=>this.handleDelayedStart()),e.addEventListener("click",t=>this.handleClear()),s.addEventListener("click",t=>this.handleClearWalls())}addBlocksEventListeners(){document.querySelectorAll("."+i).forEach(t=>{t.addEventListener("mousedown",e=>{e.preventDefault(),1!==e.which||this.isSearching||this.handleMouseDown(t)}),t.addEventListener("mouseenter",e=>{e.preventDefault(),this.isSearching||this.handleMouseEnter(t)}),t.addEventListener("mouseup",e=>{e.preventDefault(),this.isSearching||this.handleMouseUp(t)}),t.addEventListener("mouseleave",e=>{e.preventDefault(),this.isSearching||this.handleMouseLeave(t)})})}handleDelayedStart(){this.prepareDelayedSearchStateStart(),this.animationType=N,this.handleStart()}handleInstantStart(){this.prepareInstantSearchStateStart(),this.animationType=S,this.handleStart()}async handleStart(){if(this.isPrepared){this.handleSearchStateStart();const[t,e]=await this.currentAlgorithm.func(this.nodes,this.startNode,this.endNode);await this.visualizer.run(t,e,this.animationType),this.handleSearchStateEnd()}}handleClear(t){this.isSearching||(this.resetNodesAll(),this.clearBoardAll(),this.createStartNode(),this.createEndNode(),this.isPrepared=!0,this.isSearched=!1,this.isSearching=!1)}handleClearWalls(){this.isSearching||(this.clearNodesFromWalls(),this.clearBoardFromWalls())}handleSearchStateStart(){this.isSearching=!0,this.isPrepared=!1,this.isSearched=!1,x.id(g).disabled=!0,x.id(m).disabled=!0,x.id(v).disabled=!0,document.querySelectorAll("."+a).forEach(t=>{t.classList.add(r)})}handleSearchStateEnd(){this.resetNodesExpectWalls(),this.setStartNode(this.startNode.id),this.setEndNode(this.endNode.id),this.isSearching=!1,this.isPrepared=!0,this.isSearched=!0,x.id(g).disabled=!1,x.id(m).disabled=!1,x.id(v).disabled=!1,document.querySelectorAll("."+a).forEach(t=>{t.classList.remove(r)})}prepareDelayedSearchStateStart(){this.clearBoardFromNodes(),I(this.startNode.id,this.startDirection),D(this.endNode.id),this.isPrepared=!0}prepareInstantSearchStateStart(){this.clearBoardFromNodes(),I(this.startNode.id),D(this.endNode.id),this.isPrepared=!0}handleMouseDown(t){const e=t.id;H(this.nodes[e])||R(this.nodes[e])||this.isSearching?!this.isNodeDragged&&H(this.nodes[e])&&(this.createWall(t),this.isMakingWalls=!0):(this.draggedNodeId=e,this.isNodeDragged=!0)}handleMouseEnter(t){const e=t.id;this.isNodeDragged&&H(this.nodes[e])?(this.nodes[this.draggedNodeId].status===W?(this.setStartNode(e),I(e,this.startDirection)):(t=>t.status===P)(this.nodes[this.draggedNodeId])&&(this.setEndNode(e),D(e)),this.setNodeToInitial(this.draggedNodeId),this.draggedNodeId=e,this.isSearched&&this.handleInstantStart()):this.isMakingWalls&&H(this.nodes[e])&&this.createWall(t)}handleMouseUp(t){const e=t.id;this.isNodeDragged&&!R(this.nodes[e])?(this.isNodeDragged=!1,this.draggedNodeId=null):this.isMakingWalls=!1}handleMouseLeave(t){this.isNodeDragged&&L(this.draggedNodeId)}createWall(t){var e;this.nodes[t.id].status=z,e=t.id,x.id(e).className=`${i} ${l}`}setCurrentAlgorithm(t){this.currentAlgorithm=t?this.algorithms[t]:null}clearBoardAll(){this.loopBoard(t=>L(t))}clearBoardFromNodes(){this.loopBoard(t=>{x.id(t).classList.contains(l)||L(t)})}clearBoardFromWalls(){this.loopBoard(t=>{x.id(t).classList.contains(l)&&L(t)})}resetNodesExpectWalls(){this.loopBoard(t=>{R(this.nodes[t])||this.setNodeToInitial(t)})}clearNodesFromWalls(){this.loopBoard((t,e,s)=>{R(this.nodes[t])&&this.setNodeToInitial(t)})}resetNodesAll(){this.setNodesToInitial()}setNodesToInitial(){this.loopBoard(t=>this.setNodeToInitial(t))}recreateNodes(){const t=this.startNode.id,e=this.endNode.id;this.loopBoard((t,e,s)=>{R(this.nodes[t])?(this.nodes[t]=U(e,s,this.currentAlgorithm),this.nodes[t].status=z):this.nodes[t]=U(e,s,this.currentAlgorithm)}),this.setStartNode(t),this.setEndNode(e)}loopBoard(t){for(let e=this.height-1;e>=0;e--)for(let s=0;s<this.width;s++)t(`${s}-${e}`,s,e)}}({boardId:"board",blockSize:25,delay:20,algorithms:ht,initialAlgorithm:ht.bfs,initialStartDirection:"east"}).initialize()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9zYXNzL21haW4uc2NzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvY29uc3RhbnRzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL2hlbHBlcnMvZG9tLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL2hlbHBlcnMvYmxvY2suanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvaGVscGVycy9nZXRSYW5kb21OdW0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvaGVscGVycy9nZXREaWZmZXJlbnRSYW5kb21OdW0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvaGVscGVycy91cGRhdGVPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvbm9kZS9Ob2RlLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL25vZGUvTm9kZVdlaWdodGVkLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL25vZGUvTm9kZUhldXJpc3RpYy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9ub2RlL3R5cGVzLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL25vZGUvTm9kZUZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvbm9kZS9vcGVyYXRpb25zLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL2FsZ29yaXRobXMvaGVscGVycy93ZWlnaHRlZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9ldmVudHMtaGFuZGxlci9FdmVudHNIYW5kbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL2hlbHBlcnMvYXN5bmNGb3JFYWNoLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL2hlbHBlcnMvYXN5bmNEZWxheS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9WaXN1YWxpemVyLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL2FsZ29yaXRobXMvaGVscGVycy9uZWlnaGJvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvYWxnb3JpdGhtcy9oZWxwZXJzL25vZGVzLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL2FsZ29yaXRobXMvaGVscGVycy9jcmVhdGVQYXRoLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL2FsZ29yaXRobXMvdHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvYWxnb3JpdGhtcy9icmVhZHRoRmlyc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvYWxnb3JpdGhtcy9kZXB0aEZpcnN0LmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL2FsZ29yaXRobXMvZGlqa3N0cmEuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvYWxnb3JpdGhtcy9hc3Rhci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvQm9hcmQuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJhcGkiLCJjb250ZW50IiwiZGVmYXVsdCIsIm9wdGlvbnMiLCJleHBvcnRlZCIsImxvY2FscyIsIm1lbW8iLCJpc09sZElFIiwiQm9vbGVhbiIsIndpbmRvdyIsImRvY3VtZW50IiwiYWxsIiwiYXRvYiIsImdldFRhcmdldCIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzdHlsZXNJbkRvbSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsImxlbmd0aCIsIm1vZHVsZXNUb0RvbSIsImxpc3QiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJpdGVtIiwiaWQiLCJiYXNlIiwiY291bnQiLCJjb25jYXQiLCJpbmRleCIsIm9iaiIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJwdXNoIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJrZXlzIiwiZm9yRWFjaCIsInNldEF0dHJpYnV0ZSIsImluc2VydCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiam9pbiIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJyZW1vdmUiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNzc05vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImNoaWxkTm9kZXMiLCJyZW1vdmVDaGlsZCIsImluc2VydEJlZm9yZSIsImFwcGx5VG9UYWciLCJyZW1vdmVBdHRyaWJ1dGUiLCJidG9hIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZmlyc3RDaGlsZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJ1cGRhdGUiLCJzdHlsZUluZGV4IiwicGFyZW50Tm9kZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJ0b1N0cmluZyIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4Iiwic3BsaWNlIiwiQ1NTX0NMQVNTIiwiQ1NTX0lEIiwiQU5JTUFUSU9OX1RZUEUiLCJoYXNDbGFzcyIsImVsZW0iLCJjbCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiYWRkQ2xhc3MiLCJhZGQiLCIkIiwiaWRlbnRpZmVyIiwicXVlcnlTZWxlY3RvckFsbCIsImdldEVsZW1lbnRCeUlkIiwiY3JlYXRlQmxvY2siLCJwYXJlbnQiLCJibG9ja1NpemUiLCJ4IiwieSIsImJsb2NrIiwiY2xhc3NOYW1lIiwid2lkdGgiLCJoZWlnaHQiLCJkYXRhc2V0IiwiY2xlYXJCbG9jayIsImFwcGx5U3RhcnRCbG9ja0NTUyIsImRpcmVjdGlvbiIsImFwcGx5RW5kQmxvY2tDU1MiLCJnZXRSYW5kb21OdW0iLCJtaW4iLCJtYXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJnZXREaWZmZXJlbnRSYW5kb21OdW0iLCJkaWZmZXJlbnRGcm9tIiwicmFuZCIsImZpZWxkS2V5IiwidmFsS2V5IiwidmFsdWVzIiwic3RhdHVzIiwicHJldklkIiwiZGlzdCIsInRoaXMiLCJwcm9wcyIsInN1cGVyIiwiaGV1cmlzdGljRGlzdGFuY2UiLCJOT0RFX1RZUEUiLCJOT0RFX1NUQVRVUyIsInR5cGUiLCJjcmVhdGVOb2RlIiwiYWxnb3JpdGhtIiwibm9kZSIsImluaXRpYWxWYWx1ZXMiLCJpc05vZGVVbnZpc2l0ZWQiLCJpc05vZGVXYWxsIiwiZGlyZWN0aW9ucyIsIm5vcnRoIiwiZWFzdCIsInNvdXRoIiwid2VzdCIsIm5vcnRoRGlyZWN0aW9uV2VpZ2h0cyIsImVhc3REaXJlY3Rpb25XZWlnaHRzIiwic291dGhEaXJlY3Rpb25XZWlnaHRzIiwid2VzdERpcmVjdGlvbldlaWdodHMiLCJnZXREaXN0YW5jZUJldHdlZW5Ob2RlcyIsIm5vZGVfMSIsIm5vZGVfMiIsImdldE5vZGVEaXJlY3Rpb24iLCJnZXRXZWlnaHRlZE1hbmhhdHRhbkRpc3RhbmNlIiwiZW5kIiwieERpZmYiLCJhYnMiLCJ5RGlmZiIsImFkZGl0aW9uYWxXZWlnaHQiLCJ3ZWlnaHRzIiwiY3VyckRpcmVjdGlvbiIsImNhbGxiYWNrIiwiYWRkRXZlbnRMaXN0ZW5lciIsImFzeW5jIiwiY2FsbGJhY2tzIiwicHJldmVudERlZmF1bHQiLCJoYW5kbGVNb3VzZURvd25PbkJsb2NrIiwiaGFuZGxlTW91c2VFbnRlck9uQmxvY2siLCJoYW5kbGVNb3VzZVVwT25CbG9jayIsImhhbmRsZU1vdXNlTGVhdmVPbkJsb2NrIiwiYXN5bmNGb3JFYWNoIiwiYXJyIiwibGVuIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwibXMiLCJkZWxheSIsIm1pbkRlbGF5IiwibWF4RGVsYXkiLCJwcmVwYXJlU3BlZWRJbnB1dCIsIm5vZGVzVG9BbmltYXRlIiwicGF0aCIsImFuaW1hdGlvblR5cGUiLCJydW5EZWxheWVkIiwicnVuSW5zdGFudCIsImFzeW5jRGVsYXkiLCJpbnB1dCIsImdldE5laWdoYm9yc0lkcyIsInVudmlzaXRlZE5vZGVzSWRzIiwibm9kZXMiLCJwb3RlbnRpYWxOZWlnaGJvcklkIiwiZmluZCIsIm5vZGVJZCIsImdldENsb3Nlc3ROb2RlIiwidW52aXNpdGVkSWRzIiwiSW5maW5pdHkiLCJtaW5EaXN0Tm9kZUlkIiwiZ2V0Q2xvc2VzdE5vZGVXaXRoSGV1cmlzdGljRGlzdCIsIm1pbkhldXJpc3RpY0Rpc3ROb2RlSWQiLCJub2RlU2NvcmUiLCJpc1NhbWVOb2RlIiwibjEiLCJuMiIsImNyZWF0ZVBhdGgiLCJ2aXNpdGVkTm9kZXMiLCJzdGFydCIsImZvdW5kRW5kIiwiZm91bmRTdGFydCIsImN1cnJOb2RlIiwicmV2ZXJzZSIsImJmcyIsImZ1bmMiLCJuZWlnaGJvcklkIiwiZGZzIiwic3BlZWQiLCJzZWFyY2giLCJkaWprc3RyYSIsImRpc3RhbmNlQmV0d2Vlbk5vZGVzIiwiYXN0YXIiLCJib2FyZElkIiwiYWxnb3JpdGhtcyIsImluaXRpYWxBbGdvcml0aG0iLCJpbml0aWFsU3RhcnREaXJlY3Rpb24iLCJzdGFydE5vZGUiLCJzdGFydERpcmVjdGlvbiIsImVuZE5vZGUiLCJpc1NlYXJjaGluZyIsImlzUHJlcGFyZWQiLCJpc1NlYXJjaGVkIiwiaXNNYWtpbmdXYWxscyIsImlzTm9kZURyYWdnZWQiLCJkcmFnZ2VkTm9kZUlkIiwiaXNBbGdvcml0aG1DaGFuZ2VkIiwiY3VycmVudEFsZ29yaXRobSIsInZpc3VhbGl6ZXIiLCJjcmVhdGVOYXYiLCJjYWxjdWxhdGVCb2FyZFNpemUiLCJjcmVhdGVCb2FyZCIsImNyZWF0ZVN0YXJ0Tm9kZSIsImNyZWF0ZUVuZE5vZGUiLCJzZXRJbml0aWFsQWN0aXZlTmF2QWxnb3JpdGhtIiwiYWRkTmF2QWxnb0VsZW1zRXZlbnRMaXN0ZW5lcnMiLCJhZGRCbG9ja3NFdmVudExpc3RlbmVycyIsImFkZEJ0bnNFdmVudExpc3RlbmVycyIsImFkZE5hdkV2ZW50TGlzdGVuZXJzIiwiaGFuZGxlTmF2SXRlbU9uQ2xpY2siLCJyZW1vdmVDbGFzcyIsInNldEN1cnJlbnRBbGdvcml0aG0iLCJhbGdvcml0aG1LZXkiLCJyZWNyZWF0ZU5vZGVzIiwiYm9hcmQiLCJweFdpZHRoIiwiY2xpZW50V2lkdGgiLCJweEhlaWdodCIsImNsaWVudEhlaWdodCIsInRib2R5Iiwicm93IiwibmF2IiwiYWxnbyIsImVudHJpZXMiLCJpbm5lclRleHQiLCJzZXRTdGFydE5vZGUiLCJzZXRFbmROb2RlIiwidXBkYXRlT2JqZWN0IiwiZWxlbXMiLCJyZXNldE5vZGVzRXhwZWN0V2FsbHMiLCJzdGFydEJ0biIsImNsZWFyQnRuIiwiY2xlYXJXYWxsc0J0biIsImhhbmRsZURlbGF5ZWRTdGFydCIsImhhbmRsZUNsZWFyIiwiaGFuZGxlQ2xlYXJXYWxscyIsIndoaWNoIiwiaGFuZGxlTW91c2VEb3duIiwiaGFuZGxlTW91c2VFbnRlciIsImhhbmRsZU1vdXNlVXAiLCJoYW5kbGVNb3VzZUxlYXZlIiwicHJlcGFyZURlbGF5ZWRTZWFyY2hTdGF0ZVN0YXJ0IiwiaGFuZGxlU3RhcnQiLCJwcmVwYXJlSW5zdGFudFNlYXJjaFN0YXRlU3RhcnQiLCJoYW5kbGVTZWFyY2hTdGF0ZVN0YXJ0IiwicnVuIiwiaGFuZGxlU2VhcmNoU3RhdGVFbmQiLCJyZXNldE5vZGVzQWxsIiwiY2xlYXJCb2FyZEFsbCIsImNsZWFyTm9kZXNGcm9tV2FsbHMiLCJjbGVhckJvYXJkRnJvbVdhbGxzIiwiZGlzYWJsZWQiLCJjbGVhckJvYXJkRnJvbU5vZGVzIiwiY3JlYXRlV2FsbCIsImlzTm9kZUVuZCIsInNldE5vZGVUb0luaXRpYWwiLCJoYW5kbGVJbnN0YW50U3RhcnQiLCJhbGdvS2V5IiwibG9vcEJvYXJkIiwic2V0Tm9kZXNUb0luaXRpYWwiLCJjdXJyU3RhcnROb2RlSWQiLCJjdXJyRW5kTm9kZUlkIiwiaW5pdGlhbGl6ZSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxPQUFPLE1BR3ZCLEdBRkExQixFQUFvQmtCLEVBQUVPLEdBQ3RCWCxPQUFPQyxlQUFlVSxFQUFJLFVBQVcsQ0FBRVQsWUFBWSxFQUFNSyxNQUFPQSxJQUN0RCxFQUFQRSxHQUE0QixpQkFBVEYsRUFBbUIsSUFBSSxJQUFJTSxLQUFPTixFQUFPckIsRUFBb0JVLEVBQUVlLEVBQUlFLEVBQUssU0FBU0EsR0FBTyxPQUFPTixFQUFNTSxJQUFRQyxLQUFLLEtBQU1ELElBQzlJLE9BQU9GLEdBSVJ6QixFQUFvQjZCLEVBQUksU0FBUzFCLEdBQ2hDLElBQUlTLEVBQVNULEdBQVVBLEVBQU9xQixXQUM3QixXQUF3QixPQUFPckIsRUFBZ0IsU0FDL0MsV0FBOEIsT0FBT0EsR0FFdEMsT0FEQUgsRUFBb0JVLEVBQUVFLEVBQVEsSUFBS0EsR0FDNUJBLEdBSVJaLEVBQW9CYSxFQUFJLFNBQVNpQixFQUFRQyxHQUFZLE9BQU9qQixPQUFPa0IsVUFBVUMsZUFBZTFCLEtBQUt1QixFQUFRQyxJQUd6Ry9CLEVBQW9Ca0MsRUFBSSxHQUlqQmxDLEVBQW9CQSxFQUFvQm1DLEVBQUksRyxrQkNsRnJELElBQUlDLEVBQU0sRUFBUSxHQUNGQyxFQUFVLEVBQVEsR0FJQyxpQkFGdkJBLEVBQVVBLEVBQVFiLFdBQWFhLEVBQVFDLFFBQVVELEtBRy9DQSxFQUFVLENBQUMsQ0FBQ2xDLEVBQU9DLEVBQUlpQyxFQUFTLE1BRzlDLElBQUlFLEVBQVUsQ0FFZCxPQUFpQixPQUNqQixXQUFvQixHQUloQkMsR0FGU0osRUFBSUMsRUFBU0UsR0FFWEYsRUFBUUksT0FBU0osRUFBUUksT0FBUyxJQUlqRHRDLEVBQU9ELFFBQVVzQyxHLDZCQ2xCakIsSUFDTUUsRUFERkMsRUFFSyxXQVVMLFlBVG9CLElBQVRELElBTVRBLEVBQU9FLFFBQVFDLFFBQVVDLFVBQVlBLFNBQVNDLE1BQVFGLE9BQU9HLE9BR3hETixHQUlQTyxFQUFZLFdBQ2QsSUFBSVAsRUFBTyxHQUNYLE9BQU8sU0FBa0JRLEdBQ3ZCLFFBQTRCLElBQWpCUixFQUFLUSxHQUF5QixDQUN2QyxJQUFJQyxFQUFjTCxTQUFTTSxjQUFjRixHQUV6QyxHQUFJTCxPQUFPUSxtQkFBcUJGLGFBQXVCTixPQUFPUSxrQkFDNUQsSUFHRUYsRUFBY0EsRUFBWUcsZ0JBQWdCQyxLQUMxQyxNQUFPQyxHQUVQTCxFQUFjLEtBSWxCVCxFQUFLUSxHQUFVQyxFQUdqQixPQUFPVCxFQUFLUSxJQXBCQSxHQXdCWk8sRUFBYyxHQUVsQixTQUFTQyxFQUFxQkMsR0FHNUIsSUFGQSxJQUFJQyxHQUFVLEVBRUx4RCxFQUFJLEVBQUdBLEVBQUlxRCxFQUFZSSxPQUFRekQsSUFDdEMsR0FBSXFELEVBQVlyRCxHQUFHdUQsYUFBZUEsRUFBWSxDQUM1Q0MsRUFBU3hELEVBQ1QsTUFJSixPQUFPd0QsRUFHVCxTQUFTRSxFQUFhQyxFQUFNeEIsR0FJMUIsSUFIQSxJQUFJeUIsRUFBYSxHQUNiQyxFQUFjLEdBRVQ3RCxFQUFJLEVBQUdBLEVBQUkyRCxFQUFLRixPQUFRekQsSUFBSyxDQUNwQyxJQUFJOEQsRUFBT0gsRUFBSzNELEdBQ1orRCxFQUFLNUIsRUFBUTZCLEtBQU9GLEVBQUssR0FBSzNCLEVBQVE2QixLQUFPRixFQUFLLEdBQ2xERyxFQUFRTCxFQUFXRyxJQUFPLEVBQzFCUixFQUFhLEdBQUdXLE9BQU9ILEVBQUksS0FBS0csT0FBT0QsR0FDM0NMLEVBQVdHLEdBQU1FLEVBQVEsRUFDekIsSUFBSUUsRUFBUWIsRUFBcUJDLEdBQzdCYSxFQUFNLENBQ1JDLElBQUtQLEVBQUssR0FDVlEsTUFBT1IsRUFBSyxHQUNaUyxVQUFXVCxFQUFLLEtBR0gsSUFBWEssR0FDRmQsRUFBWWMsR0FBT0ssYUFDbkJuQixFQUFZYyxHQUFPTSxRQUFRTCxJQUUzQmYsRUFBWXFCLEtBQUssQ0FDZm5CLFdBQVlBLEVBQ1prQixRQUFTRSxFQUFTUCxFQUFLakMsR0FDdkJxQyxXQUFZLElBSWhCWCxFQUFZYSxLQUFLbkIsR0FHbkIsT0FBT00sRUFHVCxTQUFTZSxFQUFtQnpDLEdBQzFCLElBQUkwQyxFQUFRbkMsU0FBU29DLGNBQWMsU0FDL0JDLEVBQWE1QyxFQUFRNEMsWUFBYyxHQUV2QyxRQUFnQyxJQUFyQkEsRUFBV0MsTUFBdUIsQ0FDM0MsSUFBSUEsRUFBbUQsS0FFbkRBLElBQ0ZELEVBQVdDLE1BQVFBLEdBUXZCLEdBSkF0RSxPQUFPdUUsS0FBS0YsR0FBWUcsU0FBUSxTQUFVM0QsR0FDeENzRCxFQUFNTSxhQUFhNUQsRUFBS3dELEVBQVd4RCxPQUdQLG1CQUFuQlksRUFBUWlELE9BQ2pCakQsRUFBUWlELE9BQU9QLE9BQ1YsQ0FDTCxJQUFJL0IsRUFBU0QsRUFBVVYsRUFBUWlELFFBQVUsUUFFekMsSUFBS3RDLEVBQ0gsTUFBTSxJQUFJdUMsTUFBTSwyR0FHbEJ2QyxFQUFPd0MsWUFBWVQsR0FHckIsT0FBT0EsRUFjVCxJQUNNVSxFQURGQyxHQUNFRCxFQUFZLEdBQ1QsU0FBaUJwQixFQUFPc0IsR0FFN0IsT0FEQUYsRUFBVXBCLEdBQVNzQixFQUNaRixFQUFVRyxPQUFPbEQsU0FBU21ELEtBQUssUUFJMUMsU0FBU0MsRUFBb0JmLEVBQU9WLEVBQU8wQixFQUFRekIsR0FDakQsSUFBSUMsRUFBTXdCLEVBQVMsR0FBS3pCLEVBQUlFLE1BQVEsVUFBVUosT0FBT0UsRUFBSUUsTUFBTyxNQUFNSixPQUFPRSxFQUFJQyxJQUFLLEtBQU9ELEVBQUlDLElBSWpHLEdBQUlRLEVBQU1pQixXQUNSakIsRUFBTWlCLFdBQVdDLFFBQVVQLEVBQVlyQixFQUFPRSxPQUN6QyxDQUNMLElBQUkyQixFQUFVdEQsU0FBU3VELGVBQWU1QixHQUNsQzZCLEVBQWFyQixFQUFNcUIsV0FFbkJBLEVBQVcvQixJQUNiVSxFQUFNc0IsWUFBWUQsRUFBVy9CLElBRzNCK0IsRUFBV3pDLE9BQ2JvQixFQUFNdUIsYUFBYUosRUFBU0UsRUFBVy9CLElBRXZDVSxFQUFNUyxZQUFZVSxJQUt4QixTQUFTSyxFQUFXeEIsRUFBTzFDLEVBQVNpQyxHQUNsQyxJQUFJQyxFQUFNRCxFQUFJQyxJQUNWQyxFQUFRRixFQUFJRSxNQUNaQyxFQUFZSCxFQUFJRyxVQWVwQixHQWJJRCxFQUNGTyxFQUFNTSxhQUFhLFFBQVNiLEdBRTVCTyxFQUFNeUIsZ0JBQWdCLFNBR3BCL0IsR0FBYWdDLE9BQ2ZsQyxHQUFPLHVEQUF1REgsT0FBT3FDLEtBQUtDLFNBQVNDLG1CQUFtQkMsS0FBS0MsVUFBVXBDLE1BQWUsUUFNbElNLEVBQU1pQixXQUNSakIsRUFBTWlCLFdBQVdDLFFBQVUxQixNQUN0QixDQUNMLEtBQU9RLEVBQU0rQixZQUNYL0IsRUFBTXNCLFlBQVl0QixFQUFNK0IsWUFHMUIvQixFQUFNUyxZQUFZNUMsU0FBU3VELGVBQWU1QixLQUk5QyxJQUFJd0MsRUFBWSxLQUNaQyxFQUFtQixFQUV2QixTQUFTbkMsRUFBU1AsRUFBS2pDLEdBQ3JCLElBQUkwQyxFQUNBa0MsRUFDQWxCLEVBRUosR0FBSTFELEVBQVEwRSxVQUFXLENBQ3JCLElBQUlHLEVBQWFGLElBQ2pCakMsRUFBUWdDLElBQWNBLEVBQVlqQyxFQUFtQnpDLElBQ3JENEUsRUFBU25CLEVBQW9CcEUsS0FBSyxLQUFNcUQsRUFBT21DLEdBQVksR0FDM0RuQixFQUFTRCxFQUFvQnBFLEtBQUssS0FBTXFELEVBQU9tQyxHQUFZLFFBRTNEbkMsRUFBUUQsRUFBbUJ6QyxHQUMzQjRFLEVBQVNWLEVBQVc3RSxLQUFLLEtBQU1xRCxFQUFPMUMsR0FFdEMwRCxFQUFTLFlBeEZiLFNBQTRCaEIsR0FFMUIsR0FBeUIsT0FBckJBLEVBQU1vQyxXQUNSLE9BQU8sRUFHVHBDLEVBQU1vQyxXQUFXZCxZQUFZdEIsR0FtRnpCcUMsQ0FBbUJyQyxJQUt2QixPQURBa0MsRUFBTzNDLEdBQ0EsU0FBcUIrQyxHQUMxQixHQUFJQSxFQUFRLENBQ1YsR0FBSUEsRUFBTzlDLE1BQVFELEVBQUlDLEtBQU84QyxFQUFPN0MsUUFBVUYsRUFBSUUsT0FBUzZDLEVBQU81QyxZQUFjSCxFQUFJRyxVQUNuRixPQUdGd0MsRUFBTzNDLEVBQU0rQyxRQUVidEIsS0FLTjlGLEVBQU9ELFFBQVUsU0FBVTZELEVBQU14QixJQUMvQkEsRUFBVUEsR0FBVyxJQUdSMEUsV0FBMEMsa0JBQXRCMUUsRUFBUTBFLFlBQ3ZDMUUsRUFBUTBFLFVBQVl0RSxLQUl0QixJQUFJNkUsRUFBa0IxRCxFQUR0QkMsRUFBT0EsR0FBUSxHQUMwQnhCLEdBQ3pDLE9BQU8sU0FBZ0JrRixHQUdyQixHQUZBQSxFQUFVQSxHQUFXLEdBRTJCLG1CQUE1QzNHLE9BQU9rQixVQUFVMEYsU0FBU25ILEtBQUtrSCxHQUFuQyxDQUlBLElBQUssSUFBSXJILEVBQUksRUFBR0EsRUFBSW9ILEVBQWdCM0QsT0FBUXpELElBQUssQ0FDL0MsSUFDSW1FLEVBQVFiLEVBREs4RCxFQUFnQnBILElBRWpDcUQsRUFBWWMsR0FBT0ssYUFLckIsSUFGQSxJQUFJK0MsRUFBcUI3RCxFQUFhMkQsRUFBU2xGLEdBRXRDcUYsRUFBSyxFQUFHQSxFQUFLSixFQUFnQjNELE9BQVErRCxJQUFNLENBQ2xELElBRUlDLEVBQVNuRSxFQUZLOEQsRUFBZ0JJLElBSUssSUFBbkNuRSxFQUFZb0UsR0FBUWpELGFBQ3RCbkIsRUFBWW9FLEdBQVFoRCxVQUVwQnBCLEVBQVlxRSxPQUFPRCxFQUFRLElBSS9CTCxFQUFrQkcsTSwyREMxUWYsTUFBTUksRUFDSixRQURJQSxFQUVNLG1CQUZOQSxFQUdGLFVBSEVBLEVBSUgsU0FKR0EsRUFLSixRQUxJQSxFQU1OLE1BTk1BLEVBT0wsT0FQS0EsRUFRRixVQVJFQSxFQVNBLFlBVEFBLEVBVUQsV0FWQ0EsRUFXTCxPQUdLQyxFQUNDLE1BRERBLEVBRUEsV0FGQUEsRUFHQSxXQUhBQSxFQUlNLGdCQUpOQSxFQUtFLFdBR0ZDLEVBQ0YsVUFERUEsRUFFRixVQ3hCRUMsRUFBVyxDQUFDQyxLQUFTQyxJQUFPRCxFQUFLRSxVQUFVQyxTQUFTRixHQUlwREcsRUFBVyxDQUFDSixLQUFTQyxJQUFPRCxFQUFLRSxVQUFVRyxJQUFJSixHQUtyRCxTQUFTSyxNQUVoQkEsRUFBS0MsR0FBYzVGLFNBQVNNLGNBQWNzRixJQUN4QzNGLElBQU8yRixHQUFjNUYsU0FBUzZGLGlCQUFpQkQsR0FDakRELEVBQUV0RSxHQUFNdUUsR0FBYzVGLFNBQVM4RixlQUFlRixHQ1Z2QyxNQUFNRyxFQUFjLENBQUNDLEVBQVFDLEVBQVdDLEVBQUdDLEtBQ2hELE1BQU1DLEVBQVFwRyxTQUFTb0MsY0FBYyxNQUVyQ2dFLEVBQU0vRSxHQUFLLEdBQUc2RSxLQUFLQyxJQUNuQkMsRUFBTWIsVUFBVUcsSUFBSSxhQUNwQlUsRUFBTUMsVUFBWSxHQUFHcEIsS0FBbUJBLElBQ3hDbUIsRUFBTWpFLE1BQU1tRSxNQUFXTCxFQUFILEtBQ3BCRyxFQUFNakUsTUFBTW9FLE9BQVlOLEVBQUgsS0FFckJHLEVBQU1JLFFBQVFOLEVBQUlBLEVBQ2xCRSxFQUFNSSxRQUFRTCxFQUFJQSxFQUVsQkgsRUFBT3BELFlBQVl3RCxJQUdSSyxFQUFjcEYsSUFDekJzRSxFQUFFdEUsR0FBR0EsR0FBSWdGLFVBQVksR0FBR3BCLEtBQW1CQSxLQUdoQ3lCLEVBQXFCLENBQUNyRixFQUFJc0YsS0FDckMsTUFBTVAsRUFBUVQsRUFBRXRFLEdBQUdBLEdBQ25CK0UsRUFBTUMsVUFBWSxHQUFHcEIsS0FBbUJBLElBQ3BDMEIsR0FDRlAsRUFBTWIsVUFBVUcsSUFBSWlCLElBSVhDLEVBQW9CdkYsSUFDL0JzRSxFQUFFdEUsR0FBR0EsR0FBSWdGLFVBQVksR0FBR3BCLEtBQW1CQSxLQy9CaEM0QixFQUFlLENBQUNDLEVBQUtDLElBQVFDLEtBQUtDLE1BQU1ELEtBQUtFLFNBQVdILEdBQU9ELEVDRS9ESyxFQUF3QixDQUFDTCxFQUFLQyxFQUFLSyxLQUM5QyxJQUFJQyxFQUNKLEdBQ0VBLEVBQU9SLEVBQWFDLEVBQUtDLFNBQ2xCTSxJQUFTRCxHQUVsQixPQUFPQyxHQ1JNLGNBQ2IsSUFBSyxJQUFJQyxLQUFZdEosT0FBT3VFLEtBQUt2RCxHQUMvQixJQUFLLElBQUl1SSxLQUFVdkosT0FBT3VFLEtBQUtpRixHQUN6QkYsSUFBYUMsSUFDZnZJLEVBQU9zSSxHQUFZRSxFQUFPRCxLQ09uQixNQVhmLE1BQ0UsYUFBWSxPQUFFRSxFQUFNLEVBQUV2QixFQUFDLEVBQUVDLEVBQUMsT0FBRXVCLEVBQU0sS0FBRUMsSUFDbENDLEtBQUtILE9BQVNBLEVBQ2RHLEtBQUt2RyxHQUFLLEdBQUc2RSxLQUFLQyxJQUNsQnlCLEtBQUsxQixFQUFJQSxFQUNUMEIsS0FBS3pCLEVBQUlBLEVBQ1R5QixLQUFLRixPQUFTQSxFQUNkRSxLQUFLRCxLQUFPQSxJQ0VELE1BUGYsY0FBMkIsRUFDekIsYUFBWSxVQUFFaEIsS0FBY2tCLElBQzFCQyxNQUFNRCxHQUNORCxLQUFLakIsVUFBWUEsSUNJTixNQVBmLGNBQTRCLEVBQzFCLGFBQVksa0JBQUVvQixLQUFzQkYsSUFDbENDLE1BQU1ELEdBQ05ELEtBQUtHLGtCQUFvQkEsSUNMdEIsTUFBTUMsRUFDSCxTQURHQSxFQUVELFdBRkNBLEVBR0EsWUFHQUMsRUFDSixRQURJQSxFQUVOLE1BRk1BLEVBR0wsT0FIS0EsRUFJRixVQUpFQSxFQUtBLFlBTEFBLEVBTUQsV0NRRyxNQWZmLE1BQ0Usa0JBQWtCQyxFQUFNTCxHQUN0QixPQUFRSyxHQUNOLEtBQUtGLEVBQ0gsT0FBTyxJQUFJLEVBQUtILEdBQ2xCLEtBQUtHLEVBQ0gsT0FBTyxJQUFJLEVBQWFILEdBQzFCLEtBQUtHLEVBQ0gsT0FBTyxJQUFJLEVBQWNILEdBQzNCLFFBQ0UsT0FBTyxJQUFJLEVBQUtBLE1DWmpCLE1BQU1NLEVBQWEsQ0FBQ2pDLEVBQUdDLEVBQUdpQyxJQUNmLEVBQVlELFdBQVdDLEVBQVVDLEtBQUtILEtBQU0sQ0FDMURoQyxJQUNBQyxPQUNHaUMsRUFBVUMsS0FBS0MsZ0JBS1RDLEVBQW1CRixHQUFTQSxFQUFLWixTQUFXUSxFQUM1Q08sRUFBY0gsR0FBU0EsRUFBS1osU0FBV1EsRUNWdkNRLEVBQWEsQ0FDeEJDLE1BQU8sRUFDUEMsS0FBTSxFQUNOQyxNQUFPLEVBQ1BDLEtBQU0sR0E4QktDLEVBQXdCLENBQ25DLEVBbEIyQixFQUNDLEVBREQsR0F1QmhCQyxFQUF1QixDQXZCUCxFQXlCM0IsRUF6QjJCLEVBQ0MsR0E0QmpCQyxFQUF3QixDQTVCUCxFQURELEVBZ0MzQixFQWhDMkIsR0FtQ2hCQyxFQUF1QixDQW5DUCxFQUNDLEVBREQsRUF1QzNCLEdBa0JXQyxFQUEwQixDQUFDQyxFQUFRQyxLQUU5QyxHQUFJRCxFQUFPaEQsRUFBSWlELEVBQU9qRCxHQUFLZ0QsRUFBT2pELElBQU1rRCxFQUFPbEQsRUFDN0MsT0FBTzRDLEVBQXNCSyxFQUFPeEMsV0F0RGQsRUF5RG5CLEdBQUl3QyxFQUFPakQsRUFBSWtELEVBQU9sRCxHQUFLaUQsRUFBT2hELElBQU1pRCxFQUFPakQsRUFDbEQsT0FBTzRDLEVBQXFCSSxFQUFPeEMsV0ExRGIsRUE2RG5CLEdBQUl3QyxFQUFPaEQsRUFBSWlELEVBQU9qRCxHQUFLZ0QsRUFBT2pELElBQU1rRCxFQUFPbEQsRUFDbEQsT0FBTzhDLEVBQXNCRyxFQUFPeEMsV0E5RGQsRUFpRW5CLEdBQUl3QyxFQUFPakQsRUFBSWtELEVBQU9sRCxHQUFLaUQsRUFBT2hELElBQU1pRCxFQUFPakQsRUFDbEQsT0FBTzhDLEVBQXFCRSxFQUFPeEMsV0FsRWIsRUFvRXRCLE1BQU0sSUFBSWhFLE1BQ1Isa0VBUU8wRyxFQUFtQixDQUFDRixFQUFRQyxLQUN2QyxHQUFJRCxFQUFPaEQsRUFBSWlELEVBQU9qRCxHQUFLZ0QsRUFBT2pELElBQU1rRCxFQUFPbEQsRUFDN0MsT0FBT3VDLEVBQWtCLE1BQ3BCLEdBQUlVLEVBQU9qRCxFQUFJa0QsRUFBT2xELEdBQUtpRCxFQUFPaEQsSUFBTWlELEVBQU9qRCxFQUNwRCxPQUFPc0MsRUFBaUIsS0FDbkIsR0FBSVUsRUFBT2hELEVBQUlpRCxFQUFPakQsR0FBS2dELEVBQU9qRCxJQUFNa0QsRUFBT2xELEVBQ3BELE9BQU91QyxFQUFrQixNQUNwQixHQUFJVSxFQUFPakQsRUFBSWtELEVBQU9sRCxHQUFLaUQsRUFBT2hELElBQU1pRCxFQUFPakQsRUFDcEQsT0FBT3NDLEVBQWlCLEtBRXhCLE1BQU0sSUFBSTlGLE1BQU0sNkRBU1AyRyxHQUErQixDQUFDakIsRUFBTWtCLEtBQ2pELE1BQU1DLEVBQVF4QyxLQUFLeUMsSUFBSXBCLEVBQUtuQyxFQUFJcUQsRUFBSXJELEdBQzlCd0QsRUFBUTFDLEtBQUt5QyxJQUFJcEIsRUFBS2xDLEVBQUlvRCxFQUFJcEQsR0FDcEMsSUFBSXdELEVBQW1CLEVBQ3ZCLE1BQU1DLEVBL0RnQixLQURnQ0MsRUFnRUV4QixFQUFLMUIsV0E5RHBEbUMsRUFDb0IsSUFBbEJlLEVBQ0ZkLEVBQ29CLElBQWxCYyxFQUNGYixFQUNvQixJQUFsQmEsRUFDRlosT0FERixFQVA4QyxJQUFDWSxFQWtGdEQsT0FoQkl4QixFQUFLbEMsRUFBSW9ELEVBQUlwRCxHQUNmd0QsR0FBb0JDLEVBQVEsR0FDeEJ2QixFQUFLbkMsRUFBSXFELEVBQUlyRCxFQUNmeUQsR0FBb0JDLEVBQVEsR0FDbkJ2QixFQUFLbkMsRUFBSXFELEVBQUlyRCxJQUN0QnlELEdBQW9CQyxFQUFRLEtBRXJCdkIsRUFBS2xDLEVBQUlvRCxFQUFJcEQsSUFDdEJ3RCxHQUFvQkMsRUFBUSxHQUN4QnZCLEVBQUtuQyxFQUFJcUQsRUFBSXJELEVBQ2Z5RCxHQUFvQkMsRUFBUSxHQUNuQnZCLEVBQUtuQyxFQUFJcUQsRUFBSXJELElBQ3RCeUQsR0FBb0JDLEVBQVEsS0FJekJKLEVBQVFFLEVBQVFDLEdDL0ZWLE9BOUNmLE1BQ0UsNEJBQTRCRyxHQUMxQm5FLEVBQUUxRixJQUFJLElBQUlnRixHQUE2QnpDLFFBQVNwQixJQUM5Q0EsRUFBSzJJLGlCQUFpQixRQUFVckosSUFDOUJvSixFQUFTcEosT0FLZixnQ0FBZ0NvSixHQUM5Qm5FLEVBQUUsSUFBSVQsR0FBb0I2RSxpQkFBaUIsUUFBU0MsTUFBT3RKLElBQ3pEb0osRUFBU3BKLEtBSWIsZ0NBQWdDb0osR0FDOUJuRSxFQUFFLElBQUlULEdBQW9CNkUsaUJBQWlCLFFBQVVySixJQUNuRG9KLEVBQVNwSixLQUliLCtCQUErQnVKLEdBQzdCdEUsRUFBRTFGLElBQUksSUFBSWdGLEdBQXVCekMsUUFBUzRELElBQ3hDQSxFQUFNMkQsaUJBQWlCLFlBQWNySixJQUNuQ0EsRUFBRXdKLGlCQUNGRCxFQUFVRSx1QkFBdUJ6SixFQUFFTixVQUdyQ2dHLEVBQU0yRCxpQkFBaUIsYUFBZXJKLElBQ3BDQSxFQUFFd0osaUJBQ0ZELEVBQVVHLHdCQUF3QjFKLEVBQUVOLFVBR3RDZ0csRUFBTTJELGlCQUFpQixVQUFZckosSUFDakNBLEVBQUV3SixpQkFDRkQsRUFBVUkscUJBQXFCM0osRUFBRU4sVUFHbkNnRyxFQUFNMkQsaUJBQWlCLGFBQWVySixJQUNwQ0EsRUFBRXdKLGlCQUNGRCxFQUFVSyx3QkFBd0I1SixFQUFFTixjQzNDckMsTUFBTW1LLEdBQWVQLE1BQU9RLEVBQUtWLEtBQ3RDLE1BQU1XLEVBQU1ELEVBQUl6SixPQUNoQixJQUFLLElBQUl6RCxFQUFJLEVBQUdBLEVBQUltTixFQUFLbk4sVUFDakJ3TSxFQUFTVSxFQUFJbE4sR0FBSUEsRUFBR2tOLElDSGYsVUFDTixJQUFJRSxRQUFTQyxHQUFZQyxXQUFXRCxFQUFTRSxJQ3VFdkMsT0FsRWYsTUFDRSxZQUFZQyxHQUNWbEQsS0FBS2tELE1BQVFBLEVBQ2JsRCxLQUFLbUQsU0FBVyxHQUNoQm5ELEtBQUtvRCxTQUFXLElBRWhCcEQsS0FBS3FELG9CQUdQLFVBQVVDLEVBQWdCQyxFQUFNQyxHQUMxQkEsSUFBa0JqRyxRQUNkeUMsS0FBS3lELFdBQVdILEVBQWdCQyxHQUM3QkMsSUFBa0JqRyxHQUMzQnlDLEtBQUswRCxXQUFXSixFQUFnQkMsR0FJcEMsaUJBQWlCRCxFQUFnQkMsU0FDekJaLEdBQWFXLEVBQWdCbEIsTUFBTzNCLElBQ3hDLE1BQU1qQyxFQUFRVCxFQUFFdEUsR0FBR2dILEVBQUtoSCxJQUN4QitFLEVBQU1iLFVBQVVwQyxPQUFPOEIsR0FDbkJvRCxFQUFLWixTQUFXUSxHQUNsQjdCLEVBQU1iLFVBQVVHLElBQUlULFNBQ2RzRyxHQUFXM0QsS0FBS2tELE1BQVEsSUFDckJ6QyxFQUFLWixTQUFXUSxJQUN6QjdCLEVBQU1iLFVBQVVHLElBQUlULFNBQ2RzRyxHQUFXM0QsS0FBS2tELE1BQVEsWUFJNUJQLEdBQWFZLEVBQU1uQixNQUFPM0IsSUFDOUIxQyxFQUFFdEUsR0FBR2dILEVBQUtoSCxJQUFJa0UsVUFBVUcsSUFBSVQsU0FDdEJzRyxHQUFXM0QsS0FBS2tELFNBSTFCLFdBQVdJLEVBQWdCQyxHQUd6QkQsRUFBZTFJLFFBQVM2RixJQUN0QixNQUFNakMsRUFBUVQsRUFBRXRFLEdBQUdnSCxFQUFLaEgsSUFDeEIrRSxFQUFNYixVQUFVcEMsT0FBTzhCLEdBQ25Cb0QsRUFBS1osU0FBV1EsRUFDbEI3QixFQUFNYixVQUFVRyxJQUFJLFdBQXlCVCxHQUNwQ29ELEVBQUtaLFNBQVdRLEdBQ3pCN0IsRUFBTWIsVUFBVUcsSUFBSSxXQUF5QlQsS0FJakRrRyxFQUFLM0ksUUFBUzZGLElBQ1oxQyxFQUFFdEUsR0FBR2dILEVBQUtoSCxJQUFJa0UsVUFBVUcsSUFBSSxXQUF5QlQsS0FJekQsb0JBQ0UsTUFBTXVHLEVBQVE3RixFQUFFdEUsR0FBRzZELEdBQ25Cc0csRUFBTTFFLElBQU1jLEtBQUttRCxTQUNqQlMsRUFBTXpFLElBQU1hLEtBQUtvRCxTQUNqQlEsRUFBTWpOLE1BQVFxSixLQUFLa0QsTUFDbkJVLEVBQU1ySixNQUFNd0UsVUFBWSxNQUN4QjZFLEVBQU16QixpQkFBaUIsU0FBV3JKLElBQ2hDa0gsS0FBS2tELE1BQVFwSyxFQUFFTixPQUFPN0IsVUM5RHJCLE1BQU1rTixHQUFrQixDQUFDQyxFQUFtQkMsRUFBT3pGLEVBQUdDLEtBQzNELElBQUlxRSxFQUFNLEdBY1YsT0FiSW1CLEVBQU0sR0FBR3pGLEtBQUtDLEVBQUksT0FBU3FDLEVBQVdtRCxFQUFNLEdBQUd6RixLQUFLQyxFQUFJLE9BQzFEcUUsRUFBSXhJLEtBQUssR0FBR2tFLEtBQUtDLEVBQUksS0FFbkJ3RixFQUFNLEdBQUd6RixFQUFJLEtBQUtDLE9BQVNxQyxFQUFXbUQsRUFBTSxHQUFHekYsRUFBSSxLQUFLQyxPQUMxRHFFLEVBQUl4SSxLQUFLLEdBQUdrRSxFQUFJLEtBQUtDLEtBRW5Cd0YsRUFBTSxHQUFHekYsS0FBS0MsRUFBSSxPQUFTcUMsRUFBV21ELEVBQU0sR0FBR3pGLEtBQUtDLEVBQUksT0FDMURxRSxFQUFJeEksS0FBSyxHQUFHa0UsS0FBS0MsRUFBSSxLQUVuQndGLEVBQU0sR0FBR3pGLEVBQUksS0FBS0MsT0FBU3FDLEVBQVdtRCxFQUFNLEdBQUd6RixFQUFJLEtBQUtDLE9BQzFEcUUsRUFBSXhJLEtBQUssR0FBR2tFLEVBQUksS0FBS0MsS0FHaEJxRSxFQUFJeEgsT0FBUTRJLEdBQ2pCRixFQUFrQkcsS0FBTUMsR0FBV0YsSUFBd0JFLEtDbEJsREMsR0FBaUIsQ0FBQ0MsRUFBY0wsS0FDM0MsSUFBSTdFLEVBQU1tRixJQUNOQyxFQUFnQixFQUNoQnpLLEVBQVEsRUFjWixPQVpBdUssRUFBYXhKLFFBQVEsQ0FBQ25CLEVBQUkvRCxLQUNwQnFPLEVBQU10SyxJQUNKc0ssRUFBTXRLLEdBQUlzRyxLQUFPYixJQUNuQkEsRUFBTTZFLEVBQU10SyxHQUFJc0csS0FDaEJ1RSxFQUFnQjdLLEVBQ2hCSSxFQUFRbkUsS0FLZDBPLEVBQWFoSCxPQUFPdkQsRUFBTyxHQUVwQmtLLEVBQU1PLElBT0ZDLEdBQWtDLENBQUNILEVBQWNMLEtBQzVELElBQUk3RSxFQUFNbUYsSUFDTkcsRUFBeUIsRUFDekIzSyxFQUFRLEVBY1osT0FaQXVLLEVBQWF4SixRQUFRLENBQUNuQixFQUFJL0QsS0FDeEIsR0FBSXFPLEVBQU10SyxJQUFPc0ssRUFBTXRLLEdBQUlzRyxPQUFTc0UsSUFBVSxDQUM1QyxNQUFNSSxFQUFZVixFQUFNdEssR0FBSXNHLEtBQU9nRSxFQUFNdEssR0FBSTBHLGtCQUN6Q3NFLEVBQVl2RixJQUNkQSxFQUFNdUYsRUFDTkQsRUFBeUIvSyxFQUN6QkksRUFBUW5FLE1BS2QwTyxFQUFhaEgsT0FBT3ZELEVBQU8sR0FDcEJrSyxFQUFNUyxJQU1GRSxHQUFhLENBQUNDLEVBQUlDLElBQU9ELEVBQUdyRyxJQUFNc0csRUFBR3RHLEdBQUtxRyxFQUFHcEcsSUFBTXFHLEVBQUdyRyxFQ2xEdERzRyxHQUFhLENBQUNDLEVBQWNDLEVBQU9wRCxFQUFLcUQsS0FDbkQsSUFBSXpCLEVBQU8sR0FFWCxHQUFJeUIsRUFBVSxDQUNaLElBQUlDLEdBQWEsRUFDYkMsRUFBV0osRUFBYW5ELEVBQUlsSSxJQUdoQyxJQUZBOEosRUFBS25KLEtBQUs4SyxJQUVGRCxHQUFZLENBRWxCLEdBREExQixFQUFLbkosS0FBSzhLLEdBQ05BLEVBQVM1RyxJQUFNeUcsRUFBTXpHLEdBQUs0RyxFQUFTM0csSUFBTXdHLEVBQU14RyxFQUFHLENBQ3BEMEcsR0FBYSxFQUNiLE1BRUVDLEVBQVNwRixTQUFRb0YsRUFBV0osRUFBYUksRUFBU3BGLFVBSTFELE9BQU95RCxFQUFLNEIsV0NaRCxHQUFhLENBQ3hCQyxJQUFLLENBQ0huUCxLQUFNLHVCQUNOb1AsS0NKd0IsQ0FBQ3RCLEVBQU9nQixFQUFPcEQsS0FDekMsSUFBSW1DLEVBQW9CMU4sT0FBT3VFLEtBQUtvSixHQUNoQ2UsRUFBZSxHQUNmeEIsRUFBaUIsR0FDakIwQixHQUFXLEVBRWYsS0FBT2xCLEVBQWtCM0ssUUFBUSxDQUMvQixNQUFNK0wsRUFBV2YsR0FBZUwsRUFBbUJDLEdBQ25ELElBQUttQixFQUFVLE1BTWYsR0FKQUEsRUFBU3JGLE9BQVNRLEVBQ2xCeUUsRUFBYUksRUFBU3pMLElBQU15TCxFQUM1QjVCLEVBQWVsSixLQUFLOEssR0FFaEJSLEdBQVdRLEVBQVV2RCxHQUFNLENBQzdCcUQsR0FBVyxFQUNYLE1BR21CbkIsR0FDbkJDLEVBQ0FDLEVBQ0FtQixFQUFTNUcsRUFDVDRHLEVBQVMzRyxHQUdFM0QsUUFBUzBLLElBQ3BCUixFQUFhUSxHQUFjdkIsRUFBTXVCLEdBQ2pDdkIsRUFBTXVCLEdBQVl6RixPQUFTUSxFQUMzQmlELEVBQWVsSixLQUFLMkosRUFBTXVCLElBRVNKLEVBQVNuRixLQUFPZ0UsRUFBTXVCLEdBQVl2RixPQUduRWdFLEVBQU11QixHQUFZdkYsS0FBT21GLEVBQVNuRixLQUFPLEVBQ3pDZ0UsRUFBTXVCLEdBQVl4RixPQUFTb0YsRUFBU3pMLE1BSzFDLE1BQU8sQ0FBQzZKLEVBQWdCdUIsR0FBV0MsRUFBY0MsRUFBT3BELEVBQUtxRCxLRG5DM0R2RSxLQUFNLENBQ0pILEtBQU1GLEVBQ05NLGNBQWUsQ0FDYmIsT0FBUVEsRUFDUlAsT0FBUSxLQUNSQyxLQUFNc0UsT0FJWmtCLElBQUssQ0FDSHRQLEtBQU0scUJBQ05vUCxLRWhCc0IsQ0FBQ3RCLEVBQU9nQixFQUFPcEQsRUFBSzZELEtBQzVDLElBQUkxQixFQUFvQjFOLE9BQU91RSxLQUFLb0osR0FDaENlLEVBQWUsR0FDZnhCLEVBQWlCLEdBQ2pCMEIsR0FBVyxFQUVmLE1BQU1TLEVBQVMsQ0FBQ1AsRUFBVXBGLEtBQ3hCLElBQUtvRixFQUFVLE9BQ2YsR0FBSUYsRUFBVSxPQVFkLEdBTkFFLEVBQVNwRixPQUFTQSxFQUNsQm9GLEVBQVNyRixPQUFTUSxFQUNsQnlFLEVBQWFJLEVBQVN6TCxJQUFNeUwsRUFDNUI1QixFQUFlbEosS0FBSzhLLEdBQ3BCcEIsRUFBb0JBLEVBQWtCMUksT0FBUTNCLEdBQU9BLElBQU95TCxFQUFTekwsSUFFakVpTCxHQUFXUSxFQUFVdkQsR0FFdkIsWUFEQXFELEdBQVcsR0FJUW5CLEdBQ25CQyxFQUNBQyxFQUNBbUIsRUFBUzVHLEVBQ1Q0RyxFQUFTM0csR0FHRTNELFFBQVNuQixHQUFPZ00sRUFBTzFCLEVBQU10SyxHQUFLeUwsRUFBU3pMLE1BSzFELE9BRkFnTSxFQUFPMUIsRUFBTWdCLEVBQU10TCxLQUVaLENBQUM2SixFQUFnQnVCLEdBQVdDLEVBQWNDLEVBQU9wRCxFQUFLcUQsS0ZoQjNEdkUsS0FBTSxDQUNKSCxLQUFNRixFQUNOTSxjQUFlLENBQ2JiLE9BQVFRLEVBQ1JQLE9BQVEsS0FDUkMsS0FBTXNFLE9BSVpxQixTQUFVLENBQ1J6UCxLQUFNLFdBQ05vUCxLRzNCb0JqRCxNQUFPMkIsRUFBT2dCLEVBQU9wRCxFQUFLNkQsS0FDaEQsSUFBSTFCLEVBQW9CMU4sT0FBT3VFLEtBQUtvSixHQUNoQ2UsRUFBZSxHQUNmeEIsRUFBaUIsR0FDakIwQixHQUFXLEVBRWYsS0FBT2xCLEVBQWtCM0ssUUFBUSxDQUMvQixNQUFNK0wsRUFBV2YsR0FBZUwsRUFBbUJDLEdBQ25ELElBQUttQixFQUFVLE1BTWYsR0FKQUEsRUFBU3JGLE9BQVNRLEVBQ2xCeUUsRUFBYUksRUFBU3pMLElBQU15TCxFQUM1QjVCLEVBQWVsSixLQUFLOEssR0FFaEJSLEdBQVdRLEVBQVV2RCxHQUFNLENBQzdCcUQsR0FBVyxFQUNYLE1BR21CbkIsR0FDbkJDLEVBQ0FDLEVBQ0FtQixFQUFTNUcsRUFDVDRHLEVBQVMzRyxHQUdFM0QsUUFBUzBLLElBQ3BCUixFQUFhUSxHQUFjdkIsRUFBTXVCLEdBQ2pDdkIsRUFBTXVCLEdBQVl6RixPQUFTUSxFQUMzQmlELEVBQWVsSixLQUFLMkosRUFBTXVCLElBRTFCLE1BQU1LLEVBQXVCckUsRUFDM0I0RCxFQUNBbkIsRUFBTXVCLElBSU5KLEVBQVNuRixLQUFPNEYsRUFBdUI1QixFQUFNdUIsR0FBWXZGLE9BR3pEZ0UsRUFBTXVCLEdBQVl2RixLQUFPbUYsRUFBU25GLEtBQU80RixFQUN6QzVCLEVBQU11QixHQUFZeEYsT0FBU29GLEVBQVN6TCxHQUNwQ3NLLEVBQU11QixHQUFZdkcsVUFBWTBDLEVBQzVCeUQsRUFDQW5CLEVBQU11QixPQU1kLE1BQU8sQ0FBQ2hDLEVBQWdCdUIsR0FBV0MsRUFBY0MsRUFBT3BELEVBQUtxRCxLSHRCM0R2RSxLQUFNLENBQ0pILEtBQU1GLEVBQ05NLGNBQWUsQ0FDYmIsT0FBUVEsRUFDUlAsT0FBUSxLQUNSQyxLQUFNc0UsSUFDTnRGLFVBQVcsUUFJakI2RyxNQUFPLENBQ0wzUCxLQUFNLFlBQ05vUCxLSXBDaUIsQ0FBQ3RCLEVBQU9nQixFQUFPcEQsS0FDbEMsSUFBSW1DLEVBQW9CMU4sT0FBT3VFLEtBQUtvSixHQUNoQ2UsRUFBZSxHQUNmeEIsRUFBaUIsR0FDakIwQixHQUFXLEVBSWYsSUFGQWpCLEVBQU1nQixFQUFNdEwsSUFBSTBHLGtCQUFvQnVCLEdBQTZCcUQsRUFBT3BELEdBRWpFbUMsRUFBa0IzSyxRQUFRLENBQy9CLE1BQU0rTCxFQUFXWCxHQUFnQ1QsRUFBbUJDLEdBQ3BFLElBQUttQixFQUFVLE1BTWYsR0FKQUEsRUFBU3JGLE9BQVNRLEVBQ2xCeUUsRUFBYUksRUFBU3pMLElBQU15TCxFQUM1QjVCLEVBQWVsSixLQUFLOEssR0FFaEJSLEdBQVdRLEVBQVV2RCxHQUFNLENBQzdCcUQsR0FBVyxFQUNYLE1BR21CbkIsR0FDbkJDLEVBQ0FDLEVBQ0FtQixFQUFTNUcsRUFDVDRHLEVBQVMzRyxHQUdFM0QsUUFBUzBLLElBQ3BCUixFQUFhUSxHQUFjdkIsRUFBTXVCLEdBQ2pDdkIsRUFBTXVCLEdBQVl6RixPQUFTUSxFQUMzQmlELEVBQWVsSixLQUFLMkosRUFBTXVCLElBRTFCLE1BQU1LLEVBQXVCckUsRUFDM0I0RCxFQUNBbkIsRUFBTXVCLElBSU5KLEVBQVNuRixLQUFPNEYsRUFBdUI1QixFQUFNdUIsR0FBWXZGLE9BR3pEZ0UsRUFBTXVCLEdBQVl2RixLQUFPbUYsRUFBU25GLEtBQU80RixFQUN6QzVCLEVBQU11QixHQUFZdkcsVUFBWTBDLEVBQzVCeUQsRUFDQW5CLEVBQU11QixJQUVSdkIsRUFBTXVCLEdBQVluRixrQkFBb0J1QixHQUNwQ3FDLEVBQU11QixHQUNOM0QsR0FFRm9DLEVBQU11QixHQUFZeEYsT0FBU29GLEVBQVN6TCxNQUkxQyxNQUFPLENBQUM2SixFQUFnQnVCLEdBQVdDLEVBQWNDLEVBQU9wRCxFQUFLcUQsS0psQjNEdkUsS0FBTSxDQUNKSCxLQUFNRixFQUNOTSxjQUFlLENBQ2JiLE9BQVFRLEVBQ1JQLE9BQVEsS0FDUkMsS0FBTXNFLElBQ050RixVQUFXLEtBQ1hvQixrQkFBbUIsU0tsRGIsSUNvQmQsTUFDRSxhQUFZLFFBQ1YwRixFQUFPLFVBQ1B4SCxFQUFTLE1BQ1Q2RSxFQUFLLFdBQ0w0QyxFQUFVLGlCQUNWQyxFQUFnQixzQkFDaEJDLElBRUFoRyxLQUFLNkYsUUFBVUEsRUFDZjdGLEtBQUszQixVQUFZQSxFQUNqQjJCLEtBQUt0QixNQUFRLEtBQ2JzQixLQUFLckIsT0FBUyxLQUNkcUIsS0FBSytELE1BQVEsR0FDYi9ELEtBQUtpRyxVQUFZLEtBQ2pCakcsS0FBS2tHLGVBQWlCRixFQUN0QmhHLEtBQUttRyxRQUFVLEtBRWZuRyxLQUFLb0csYUFBYyxFQUNuQnBHLEtBQUtxRyxZQUFhLEVBQ2xCckcsS0FBS3NHLFlBQWEsRUFDbEJ0RyxLQUFLdUcsZUFBZ0IsRUFDckJ2RyxLQUFLd0csZUFBZ0IsRUFDckJ4RyxLQUFLeUcsY0FBZ0IsS0FDckJ6RyxLQUFLMEcsb0JBQXFCLEVBQzFCMUcsS0FBSzhGLFdBQWFBLEdBQWMsS0FDaEM5RixLQUFLMkcsaUJBQW1CWixHQUFvQixLQUU1Qy9GLEtBQUs0RyxXQUFhLElBQUksR0FBVzFELEdBQ2pDbEQsS0FBS3dELGNBQWdCakcsRUFHdkIsYUFDRXlDLEtBQUs2RyxZQUNMN0csS0FBSzhHLHFCQUNMOUcsS0FBSytHLGNBQ0wvRyxLQUFLZ0gsa0JBQ0xoSCxLQUFLaUgsZ0JBRUxqSCxLQUFLa0gsK0JBQ0xsSCxLQUFLbUgsZ0NBQ0xuSCxLQUFLb0gsMEJBQ0xwSCxLQUFLcUgsd0JBRUwsR0FBY0MscUJBQXFCdEgsS0FBS3VILHFCQUFxQnJRLEtBQUs4SSxPQUNsRUEsS0FBS3FHLFlBQWEsRUFHcEIscUJBQXFCdk4sR0FDbkIsTUFBTU4sRUFBU00sRUFBRU4sT0FDYmdGLEVBQVNoRixFQUFRNkUsS0FFckJVLEVBQUUxRixJQUFJLElBQUlnRixHQUE2QnpDLFFBQVNwQixHekIxRXpCLEVBQUNpRSxLQUFTQyxJQUFPRCxFQUFLRSxVQUFVcEMsT0FBT21DLEd5QjJFNUQ4SixDQUFZaE8sRUFBTTZELElBRXBCUSxFQUFTckYsRUFBUTZFLEdBRWpCMkMsS0FBS3lILG9CQUFvQmpQLEVBQU9vRyxRQUFROEksY0FDeEMxSCxLQUFLMEcsb0JBQXFCLEVBQzFCMUcsS0FBSzJILGlCQUdQLHFCQUNFLE1BQU1DLEVBQVE3SixFQUFFdEUsR0FBR3VHLEtBQUs2RixTQUNsQmdDLEVBQVVELEVBQU1FLFlBQ2hCQyxFQUFXSCxFQUFNSSxhQUV2QmhJLEtBQUt0QixNQUFRVSxLQUFLQyxNQUFNd0ksRUFBVTdILEtBQUszQixXQUN2QzJCLEtBQUtyQixPQUFTUyxLQUFLQyxNQUFNMEksRUFBVy9ILEtBQUszQixXQUczQyxjQUNFLE1BQU11SixFQUFRN0osRUFBRXRFLEdBQUd1RyxLQUFLNkYsU0FDbEJvQyxFQUFRN1AsU0FBU29DLGNBQWMsU0FFckMsSUFBSyxJQUFJK0QsRUFBSXlCLEtBQUtyQixPQUFTLEVBQUdKLEdBQUssRUFBR0EsSUFBSyxDQUN6QyxNQUFNMkosRUFBTTlQLFNBQVNvQyxjQUFjLE1BQ25DLElBQUssSUFBSThELEVBQUksRUFBR0EsRUFBSTBCLEtBQUt0QixNQUFPSixJQUM5QkgsRUFBWStKLEVBQUtsSSxLQUFLM0IsVUFBV0MsRUFBR0MsR0FDcEN5QixLQUFLK0QsTUFBTSxHQUFHekYsS0FBS0MsS0FBT2dDLEVBQVdqQyxFQUFHQyxFQUFHeUIsS0FBSzJHLGtCQUVsRHNCLEVBQU1qTixZQUFZa04sR0FFcEJOLEVBQU01TSxZQUFZaU4sR0FHcEIsWUFDRSxNQUFNRSxFQUFNcEssRUFBRXRFLEdBQUc2RCxHQUNqQixJQUFLLElBQUtyRyxFQUFLbVIsS0FBU2hTLE9BQU9pUyxRQUFRckksS0FBSzhGLFlBQWEsQ0FDdkQsTUFBTXJJLEVBQU9yRixTQUFTb0MsY0FBYyxPQUNwQ3FELEVBQVNKLEVBQU1KLEdBQ2ZJLEVBQUs2SyxVQUFZRixFQUFLblMsS0FDdEJ3SCxFQUFLbUIsUUFBUThJLGFBQWV6USxFQUM1QmtSLEVBQUluTixZQUFZeUMsSUFJcEIsK0JBQ2dCckYsU0FBUzZGLGlCQUFpQixJQUFJWixHQUN0QyxHQUFHTSxVQUFVRyxJQUFJVCxHQUd6QixrQkFDRSxNQUVNNUQsRUFBSyxHQUZHd0YsRUFBYSxFQUFHZSxLQUFLdEIsTUFBUSxNQUM3Qk8sRUFBYSxFQUFHZSxLQUFLckIsT0FBUyxLQUc1Q3FCLEtBQUt1SSxhQUFhOU8sR0FDbEJxRixFQUFtQnJGLEVBQUl1RyxLQUFLa0csZ0JBRzlCLGdCQUNFLE1BRU16TSxFQUFLLEdBRkc4RixFQUFzQixFQUFHUyxLQUFLdEIsTUFBUSxFQUFHc0IsS0FBS2lHLFVBQVUzSCxNQUN4RGlCLEVBQXNCLEVBQUdTLEtBQUtyQixPQUFTLEVBQUdxQixLQUFLaUcsVUFBVTFILEtBR3ZFeUIsS0FBS3dJLFdBQVcvTyxHQUNoQnVGLEVBQWlCdkYsR0FHbkIsYUFBYXlLLEdBQ1h1RSxFQUFhekksS0FBSytELE1BQU1HLEdBQVMsQ0FDL0JyRSxPQUFRUSxFQUNSTixLQUFNLEVBQ05oQixVQUFXaUIsS0FBS2tHLGVBQWlCckYsRUFBV2IsS0FBS2tHLGdCQUFrQixPQUVyRWxHLEtBQUtpRyxVQUFZakcsS0FBSytELE1BQU1HLEdBRzlCLFdBQVdBLEdBQ1R1RSxFQUFhekksS0FBSytELE1BQU1HLEdBQVMsQ0FDL0JyRSxPQUFRUSxFQUNSTixLQUFNc0UsTUFFUnJFLEtBQUttRyxRQUFVbkcsS0FBSytELE1BQU1HLEdBRzVCLGlCQUFpQkEsR0FDZnVFLEVBQWF6SSxLQUFLK0QsTUFBTUcsR0FBU2xFLEtBQUsyRyxpQkFBaUJsRyxLQUFLQyxlQUc5RCxnQ0FDRSxNQUFNZ0ksRUFBUXRRLFNBQVM2RixpQkFBaUIsSUFBSVosR0FFNUNxTCxFQUFNOU4sUUFBUzZDLElBQ2JBLEVBQUswRSxpQkFBaUIsUUFBVXJKLElBQzFCMEUsRUFBUzFFLEVBQUVOLE9BQVE2RSxLQUV2QnFMLEVBQU05TixRQUFTNkMsR0FBU0EsRUFBS0UsVUFBVXBDLE9BQU84QixJQUM5Q3ZFLEVBQUVOLE9BQU9tRixVQUFVRyxJQUFJVCxHQUV2QjJDLEtBQUt5SCxvQkFBb0IzTyxFQUFFTixPQUFPb0csUUFBUThJLGNBQzFDMUgsS0FBSzJJLHdCQUNMM0ksS0FBS3VJLGFBQWF2SSxLQUFLaUcsVUFBVXhNLElBQ2pDdUcsS0FBS3dJLFdBQVd4SSxLQUFLbUcsUUFBUTFNLFNBS25DLHdCQUNFLE1BQU1tUCxFQUFXN0ssRUFBRXRFLEdBQUc2RCxHQUNoQnVMLEVBQVc5SyxFQUFFdEUsR0FBRzZELEdBQ2hCd0wsRUFBZ0IvSyxFQUFFdEUsR0FBRzZELEdBRTNCc0wsRUFBU3pHLGlCQUFpQixRQUFVckosR0FBTWtILEtBQUsrSSxzQkFDL0NGLEVBQVMxRyxpQkFBaUIsUUFBVXJKLEdBQU1rSCxLQUFLZ0osZUFDL0NGLEVBQWMzRyxpQkFBaUIsUUFBVXJKLEdBQU1rSCxLQUFLaUosb0JBR3RELDBCQUNpQjdRLFNBQVM2RixpQkFBaUIsSUFBSVosR0FFdEN6QyxRQUFTNEQsSUFDZEEsRUFBTTJELGlCQUFpQixZQUFjckosSUFDbkNBLEVBQUV3SixpQkFDYyxJQUFaeEosRUFBRW9RLE9BQWdCbEosS0FBS29HLGFBQ3pCcEcsS0FBS21KLGdCQUFnQjNLLEtBSXpCQSxFQUFNMkQsaUJBQWlCLGFBQWVySixJQUNwQ0EsRUFBRXdKLGlCQUNHdEMsS0FBS29HLGFBQWFwRyxLQUFLb0osaUJBQWlCNUssS0FHL0NBLEVBQU0yRCxpQkFBaUIsVUFBWXJKLElBQ2pDQSxFQUFFd0osaUJBQ0d0QyxLQUFLb0csYUFBYXBHLEtBQUtxSixjQUFjN0ssS0FHNUNBLEVBQU0yRCxpQkFBaUIsYUFBZXJKLElBQ3BDQSxFQUFFd0osaUJBQ0d0QyxLQUFLb0csYUFBYXBHLEtBQUtzSixpQkFBaUI5SyxPQUtuRCxxQkFDRXdCLEtBQUt1SixpQ0FDTHZKLEtBQUt3RCxjQUFnQmpHLEVBQ3JCeUMsS0FBS3dKLGNBR1AscUJBQ0V4SixLQUFLeUosaUNBQ0x6SixLQUFLd0QsY0FBZ0JqRyxFQUNyQnlDLEtBQUt3SixjQUdQLG9CQUNFLEdBQUl4SixLQUFLcUcsV0FBWSxDQUNuQnJHLEtBQUswSix5QkFFTCxNQUFPcEcsRUFBZ0JDLFNBQWN2RCxLQUFLMkcsaUJBQWlCdEIsS0FDekRyRixLQUFLK0QsTUFDTC9ELEtBQUtpRyxVQUNMakcsS0FBS21HLGVBR0RuRyxLQUFLNEcsV0FBVytDLElBQUlyRyxFQUFnQkMsRUFBTXZELEtBQUt3RCxlQUVyRHhELEtBQUs0Six3QkFJVCxZQUFZOVEsR0FDTGtILEtBQUtvRyxjQUNScEcsS0FBSzZKLGdCQUNMN0osS0FBSzhKLGdCQUNMOUosS0FBS2dILGtCQUNMaEgsS0FBS2lILGdCQUNMakgsS0FBS3FHLFlBQWEsRUFDbEJyRyxLQUFLc0csWUFBYSxFQUNsQnRHLEtBQUtvRyxhQUFjLEdBSXZCLG1CQUNPcEcsS0FBS29HLGNBQ1JwRyxLQUFLK0osc0JBQ0wvSixLQUFLZ0ssdUJBSVQseUJBQ0VoSyxLQUFLb0csYUFBYyxFQUNuQnBHLEtBQUtxRyxZQUFhLEVBQ2xCckcsS0FBS3NHLFlBQWEsRUFDbEJ2SSxFQUFFdEUsR0FBRzZELEdBQWtCMk0sVUFBVyxFQUNsQ2xNLEVBQUV0RSxHQUFHNkQsR0FBd0IyTSxVQUFXLEVBQ3hDbE0sRUFBRXRFLEdBQUc2RCxHQUFrQjJNLFVBQVcsRUFFcEI3UixTQUFTNkYsaUJBQWlCLElBQUlaLEdBQ3RDekMsUUFBUzZDLElBQ2JBLEVBQUtFLFVBQVVHLElBQUlULEtBSXZCLHVCQUNFMkMsS0FBSzJJLHdCQUNMM0ksS0FBS3VJLGFBQWF2SSxLQUFLaUcsVUFBVXhNLElBQ2pDdUcsS0FBS3dJLFdBQVd4SSxLQUFLbUcsUUFBUTFNLElBQzdCdUcsS0FBS29HLGFBQWMsRUFDbkJwRyxLQUFLcUcsWUFBYSxFQUNsQnJHLEtBQUtzRyxZQUFhLEVBQ2xCdkksRUFBRXRFLEdBQUc2RCxHQUFrQjJNLFVBQVcsRUFDbENsTSxFQUFFdEUsR0FBRzZELEdBQXdCMk0sVUFBVyxFQUN4Q2xNLEVBQUV0RSxHQUFHNkQsR0FBa0IyTSxVQUFXLEVBRXBCN1IsU0FBUzZGLGlCQUFpQixJQUFJWixHQUN0Q3pDLFFBQVM2QyxJQUNiQSxFQUFLRSxVQUFVcEMsT0FBTzhCLEtBSTFCLGlDQUNFMkMsS0FBS2tLLHNCQUNMcEwsRUFBbUJrQixLQUFLaUcsVUFBVXhNLEdBQUl1RyxLQUFLa0csZ0JBQzNDbEgsRUFBaUJnQixLQUFLbUcsUUFBUTFNLElBQzlCdUcsS0FBS3FHLFlBQWEsRUFHcEIsaUNBQ0VyRyxLQUFLa0ssc0JBQ0xwTCxFQUFtQmtCLEtBQUtpRyxVQUFVeE0sSUFDbEN1RixFQUFpQmdCLEtBQUttRyxRQUFRMU0sSUFDOUJ1RyxLQUFLcUcsWUFBYSxFQUdwQixnQkFBZ0I3SCxHQUNkLE1BQU0vRSxFQUFLK0UsRUFBTS9FLEdBRWRrSCxFQUFnQlgsS0FBSytELE1BQU10SyxLQUMzQm1ILEVBQVdaLEtBQUsrRCxNQUFNdEssS0FDdEJ1RyxLQUFLb0csYUFJSXBHLEtBQUt3RyxlQUFpQjdGLEVBQWdCWCxLQUFLK0QsTUFBTXRLLE1BQzNEdUcsS0FBS21LLFdBQVczTCxHQUNoQndCLEtBQUt1RyxlQUFnQixJQUpyQnZHLEtBQUt5RyxjQUFnQmhOLEVBQ3JCdUcsS0FBS3dHLGVBQWdCLEdBT3pCLGlCQUFpQmhJLEdBQ2YsTUFBTS9FLEVBQUsrRSxFQUFNL0UsR0FFYnVHLEtBQUt3RyxlQUFpQjdGLEVBQWdCWCxLQUFLK0QsTUFBTXRLLEtBQ25DdUcsS0FBSytELE1BQU0vRCxLQUFLeUcsZWY5VEk1RyxTQUFXUSxHZStUN0NMLEtBQUt1SSxhQUFhOU8sR0FDbEJxRixFQUFtQnJGLEVBQUl1RyxLQUFLa0csaUJmL1RYLENBQUN6RixHQUFTQSxFQUFLWixTQUFXUSxFZWdVbEMrSixDQUFVcEssS0FBSytELE1BQU0vRCxLQUFLeUcsa0JBQ25DekcsS0FBS3dJLFdBQVcvTyxHQUNoQnVGLEVBQWlCdkYsSUFHbkJ1RyxLQUFLcUssaUJBQWlCckssS0FBS3lHLGVBQzNCekcsS0FBS3lHLGNBQWdCaE4sRUFFakJ1RyxLQUFLc0csWUFDUHRHLEtBQUtzSyxzQkFFRXRLLEtBQUt1RyxlQUFpQjVGLEVBQWdCWCxLQUFLK0QsTUFBTXRLLEtBQzFEdUcsS0FBS21LLFdBQVczTCxHQUlwQixjQUFjQSxHQUNaLE1BQU0vRSxFQUFLK0UsRUFBTS9FLEdBQ2J1RyxLQUFLd0csZ0JBQWtCNUYsRUFBV1osS0FBSytELE1BQU10SyxLQUMvQ3VHLEtBQUt3RyxlQUFnQixFQUNyQnhHLEtBQUt5RyxjQUFnQixNQUVyQnpHLEtBQUt1RyxlQUFnQixFQUl6QixpQkFBaUIvSCxHQUNYd0IsS0FBS3dHLGVBQ1AzSCxFQUFXbUIsS0FBS3lHLGVBSXBCLFdBQVdqSSxHeEI3VW9CLElBQUMvRSxFd0I4VTlCdUcsS0FBSytELE1BQU12RixFQUFNL0UsSUFBSW9HLE9BQVNRLEV4QjlVQTVHLEV3QitVWitFLEVBQU0vRSxHeEI5VTFCc0UsRUFBRXRFLEdBQUdBLEdBQUlnRixVQUFZLEdBQUdwQixLQUFtQkEsSXdCaVYzQyxvQkFBb0JrTixHQUNsQnZLLEtBQUsyRyxpQkFBbUI0RCxFQUFVdkssS0FBSzhGLFdBQVd5RSxHQUFXLEtBRy9ELGdCQUNFdkssS0FBS3dLLFVBQVcvUSxHQUFPb0YsRUFBV3BGLElBR3BDLHNCQUNFdUcsS0FBS3dLLFVBQVcvUSxJQUNUc0UsRUFBRXRFLEdBQUdBLEdBQUlrRSxVQUFVQyxTQUFTUCxJQUMvQndCLEVBQVdwRixLQUtqQixzQkFDRXVHLEtBQUt3SyxVQUFXL1EsSUFDVnNFLEVBQUV0RSxHQUFHQSxHQUFJa0UsVUFBVUMsU0FBU1AsSUFDOUJ3QixFQUFXcEYsS0FLakIsd0JBQ0V1RyxLQUFLd0ssVUFBVy9RLElBQ1RtSCxFQUFXWixLQUFLK0QsTUFBTXRLLEtBQ3pCdUcsS0FBS3FLLGlCQUFpQjVRLEtBSzVCLHNCQUNFdUcsS0FBS3dLLFVBQVUsQ0FBQy9RLEVBQUk2RSxFQUFHQyxLQUNqQnFDLEVBQVdaLEtBQUsrRCxNQUFNdEssS0FDeEJ1RyxLQUFLcUssaUJBQWlCNVEsS0FLNUIsZ0JBQ0V1RyxLQUFLeUssb0JBR1Asb0JBQ0V6SyxLQUFLd0ssVUFBVy9RLEdBQU91RyxLQUFLcUssaUJBQWlCNVEsSUFHL0MsZ0JBQ0UsTUFBTWlSLEVBQWtCMUssS0FBS2lHLFVBQVV4TSxHQUNqQ2tSLEVBQWdCM0ssS0FBS21HLFFBQVExTSxHQUVuQ3VHLEtBQUt3SyxVQUFVLENBQUMvUSxFQUFJNkUsRUFBR0MsS0FDakJxQyxFQUFXWixLQUFLK0QsTUFBTXRLLEtBQ3hCdUcsS0FBSytELE1BQU10SyxHQUFNOEcsRUFBV2pDLEVBQUdDLEVBQUd5QixLQUFLMkcsa0JBQ3ZDM0csS0FBSytELE1BQU10SyxHQUFJb0csT0FBU1EsR0FDbkJMLEtBQUsrRCxNQUFNdEssR0FBTThHLEVBQVdqQyxFQUFHQyxFQUFHeUIsS0FBSzJHLG9CQUdoRDNHLEtBQUt1SSxhQUFhbUMsR0FDbEIxSyxLQUFLd0ksV0FBV21DLEdBR2xCLFVBQVV6SSxHQUNSLElBQUssSUFBSTNELEVBQUl5QixLQUFLckIsT0FBUyxFQUFHSixHQUFLLEVBQUdBLElBQ3BDLElBQUssSUFBSUQsRUFBSSxFQUFHQSxFQUFJMEIsS0FBS3RCLE1BQU9KLElBQzlCNEQsRUFBUyxHQUFHNUQsS0FBS0MsSUFBS0QsRUFBR0MsS0RsYlQsQ0FDdEJzSCxRQUFTLFFBQ1R4SCxVQUFXLEdBQ1g2RSxNQUFPLEdBQ1A0QyxXQUFBLEdBQ0FDLGlCQUFrQixHQUFnQixJQUNsQ0Msc0JBQXVCLFNBRW5CNEUiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuIiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanM/P3JlZi0tNC0xIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZXNvbHZlLXVybC1sb2FkZXIvaW5kZXguanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTQtNCEuL21haW4uc2Nzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxudmFyIGV4cG9ydGVkID0gY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHt9O1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRlZDsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIGJ0b2EpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRvbVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5Eb21bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5Eb20uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJleHBvcnQgY29uc3QgQ1NTX0NMQVNTID0ge1xuICBCTE9DSzogXCJibG9ja1wiLFxuICBOQVZJR0FUSU9OX0lURU06IFwibmF2LWFsZ29yaXRobS1qc1wiLFxuICBCTE9DS0VEOiBcImJsb2NrZWRcIixcbiAgQUNUSVZFOiBcImFjdGl2ZVwiLFxuICBTVEFSVDogXCJzdGFydFwiLFxuICBFTkQ6IFwiZW5kXCIsXG4gIFdBTEw6IFwid2FsbFwiLFxuICBWSVNJVEVEOiBcInZpc2l0ZWRcIixcbiAgVU5WSVNJVEVEOiBcInVudmlzaXRlZFwiLFxuICBORUlHSEJPUjogXCJuZWlnaGJvclwiLFxuICBQQVRIOiBcInBhdGhcIixcbn07XG5cbmV4cG9ydCBjb25zdCBDU1NfSUQgPSB7XG4gIE5BVklHQVRJT046IFwibmF2XCIsXG4gIFNUQVJUX0JUTjogXCJzdGFydEJ0blwiLFxuICBDTEVBUl9CVE46IFwiY2xlYXJCdG5cIixcbiAgQ0xFQVJfV0FMTFNfQlROOiBcImNsZWFyV2FsbHNCdG5cIixcbiAgU1BFRURfSU5QVVQ6IFwic3BlZWRWYWxcIixcbn07XG5cbmV4cG9ydCBjb25zdCBBTklNQVRJT05fVFlQRSA9IHtcbiAgREVMQVlFRDogXCJkZWxheWVkXCIsXG4gIElOU1RBTlQ6IFwiaW5zdGFudFwiLFxufTtcbiIsImV4cG9ydCBjb25zdCBoYXNDbGFzcyA9IChlbGVtLCAuLi5jbCkgPT4gZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoY2wpO1xuXG5leHBvcnQgY29uc3QgcmVtb3ZlQ2xhc3MgPSAoZWxlbSwgLi4uY2wpID0+IGVsZW0uY2xhc3NMaXN0LnJlbW92ZShjbCk7XG5cbmV4cG9ydCBjb25zdCBhZGRDbGFzcyA9IChlbGVtLCAuLi5jbCkgPT4gZWxlbS5jbGFzc0xpc3QuYWRkKGNsKTtcblxuZXhwb3J0IGNvbnN0IHJlcGxhY2VDbGFzcyA9IChlbGVtLCBjbDEsIGNsMikgPT5cbiAgZWxlbS5jbGFzc0xpc3QucmVwbGFjZShjbDEsIGNsMik7XG5cbmV4cG9ydCBmdW5jdGlvbiAkKCkge31cblxuJCA9IChpZGVudGlmZXIpID0+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaWRlbnRpZmVyKTtcbiQuYWxsID0gKGlkZW50aWZlcikgPT4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChpZGVudGlmZXIpO1xuJC5pZCA9IChpZGVudGlmZXIpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkZW50aWZlcik7XG4iLCJpbXBvcnQgeyBDU1NfQ0xBU1MgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyAkIH0gZnJvbSBcIi4vZG9tXCI7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVCbG9jayA9IChwYXJlbnQsIGJsb2NrU2l6ZSwgeCwgeSkgPT4ge1xuICBjb25zdCBibG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcblxuICBibG9jay5pZCA9IGAke3h9LSR7eX1gO1xuICBibG9jay5jbGFzc0xpc3QuYWRkKFwidW52aXNpdGVkXCIpO1xuICBibG9jay5jbGFzc05hbWUgPSBgJHtDU1NfQ0xBU1MuQkxPQ0t9ICR7Q1NTX0NMQVNTLlVOVklTSVRFRH1gO1xuICBibG9jay5zdHlsZS53aWR0aCA9IGAke2Jsb2NrU2l6ZX1weGA7XG4gIGJsb2NrLnN0eWxlLmhlaWdodCA9IGAke2Jsb2NrU2l6ZX1weGA7XG5cbiAgYmxvY2suZGF0YXNldC54ID0geDtcbiAgYmxvY2suZGF0YXNldC55ID0geTtcblxuICBwYXJlbnQuYXBwZW5kQ2hpbGQoYmxvY2spO1xufTtcblxuZXhwb3J0IGNvbnN0IGNsZWFyQmxvY2sgPSAoaWQpID0+IHtcbiAgJC5pZChpZCkuY2xhc3NOYW1lID0gYCR7Q1NTX0NMQVNTLkJMT0NLfSAke0NTU19DTEFTUy5VTlZJU0lURUR9YDtcbn07XG5cbmV4cG9ydCBjb25zdCBhcHBseVN0YXJ0QmxvY2tDU1MgPSAoaWQsIGRpcmVjdGlvbikgPT4ge1xuICBjb25zdCBibG9jayA9ICQuaWQoaWQpO1xuICBibG9jay5jbGFzc05hbWUgPSBgJHtDU1NfQ0xBU1MuQkxPQ0t9ICR7Q1NTX0NMQVNTLlNUQVJUfWA7XG4gIGlmIChkaXJlY3Rpb24pIHtcbiAgICBibG9jay5jbGFzc0xpc3QuYWRkKGRpcmVjdGlvbik7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBhcHBseUVuZEJsb2NrQ1NTID0gKGlkKSA9PiB7XG4gICQuaWQoaWQpLmNsYXNzTmFtZSA9IGAke0NTU19DTEFTUy5CTE9DS30gJHtDU1NfQ0xBU1MuRU5EfWA7XG59O1xuXG5leHBvcnQgY29uc3QgYXBwbHlXYWxsQmxvY2tDU1MgPSAoaWQpID0+IHtcbiAgJC5pZChpZCkuY2xhc3NOYW1lID0gYCR7Q1NTX0NMQVNTLkJMT0NLfSAke0NTU19DTEFTUy5XQUxMfWA7XG59O1xuIiwiZXhwb3J0IGNvbnN0IGdldFJhbmRvbU51bSA9IChtaW4sIG1heCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbWF4KSArIG1pbjtcbiIsImltcG9ydCB7IGdldFJhbmRvbU51bSB9IGZyb20gXCIuL2dldFJhbmRvbU51bVwiO1xuXG5leHBvcnQgY29uc3QgZ2V0RGlmZmVyZW50UmFuZG9tTnVtID0gKG1pbiwgbWF4LCBkaWZmZXJlbnRGcm9tKSA9PiB7XG4gIGxldCByYW5kO1xuICBkbyB7XG4gICAgcmFuZCA9IGdldFJhbmRvbU51bShtaW4sIG1heCk7XG4gIH0gd2hpbGUgKHJhbmQgPT09IGRpZmZlcmVudEZyb20pO1xuXG4gIHJldHVybiByYW5kO1xufTtcbiIsImV4cG9ydCBkZWZhdWx0IChvYmplY3QsIHZhbHVlcykgPT4ge1xuICBmb3IgKGxldCBmaWVsZEtleSBvZiBPYmplY3Qua2V5cyhvYmplY3QpKSB7XG4gICAgZm9yIChsZXQgdmFsS2V5IG9mIE9iamVjdC5rZXlzKHZhbHVlcykpIHtcbiAgICAgIGlmIChmaWVsZEtleSA9PT0gdmFsS2V5KSB7XG4gICAgICAgIG9iamVjdFtmaWVsZEtleV0gPSB2YWx1ZXNbdmFsS2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG4iLCJjbGFzcyBOb2RlIHtcbiAgY29uc3RydWN0b3IoeyBzdGF0dXMsIHgsIHksIHByZXZJZCwgZGlzdCB9KSB7XG4gICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgdGhpcy5pZCA9IGAke3h9LSR7eX1gO1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLnByZXZJZCA9IHByZXZJZDtcbiAgICB0aGlzLmRpc3QgPSBkaXN0O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE5vZGU7XG4iLCJpbXBvcnQgTm9kZSBmcm9tIFwiLi9Ob2RlXCI7XG5cbmNsYXNzIE5vZGVXZWlnaHRlZCBleHRlbmRzIE5vZGUge1xuICBjb25zdHJ1Y3Rvcih7IGRpcmVjdGlvbiwgLi4ucHJvcHMgfSkge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBOb2RlV2VpZ2h0ZWQ7XG4iLCJpbXBvcnQgTm9kZVdlaWdodGVkIGZyb20gXCIuL05vZGVXZWlnaHRlZFwiO1xuXG5jbGFzcyBOb2RlSGV1cmlzdGljIGV4dGVuZHMgTm9kZVdlaWdodGVkIHtcbiAgY29uc3RydWN0b3IoeyBoZXVyaXN0aWNEaXN0YW5jZSwgLi4ucHJvcHMgfSkge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmhldXJpc3RpY0Rpc3RhbmNlID0gaGV1cmlzdGljRGlzdGFuY2U7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTm9kZUhldXJpc3RpYztcbiIsImV4cG9ydCBjb25zdCBOT0RFX1RZUEUgPSB7XG4gIE5PUk1BTDogXCJOT1JNQUxcIixcbiAgV0VJR0hURUQ6IFwiV0VJR0hURURcIixcbiAgSEVVUklTVElDOiBcIkhFVVJJU1RJQ1wiLFxufTtcblxuZXhwb3J0IGNvbnN0IE5PREVfU1RBVFVTID0ge1xuICBTVEFSVDogXCJzdGFydFwiLFxuICBFTkQ6IFwiZW5kXCIsXG4gIFdBTEw6IFwid2FsbFwiLFxuICBWSVNJVEVEOiBcInZpc2l0ZWRcIixcbiAgVU5WSVNJVEVEOiBcInVudmlzaXRlZFwiLFxuICBORUlHSEJPUjogXCJuZWlnaGJvclwiLFxufTtcbiIsImltcG9ydCBOb2RlIGZyb20gXCIuL05vZGVcIjtcbmltcG9ydCBOb2RlV2VpZ2h0ZWQgZnJvbSBcIi4vTm9kZVdlaWdodGVkXCI7XG5pbXBvcnQgTm9kZUhldXJpc3RpYyBmcm9tIFwiLi9Ob2RlSGV1cmlzdGljXCI7XG5pbXBvcnQgeyBOT0RFX1RZUEUgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5jbGFzcyBOb2RlRmFjdG9yeSB7XG4gIHN0YXRpYyBjcmVhdGVOb2RlKHR5cGUsIHByb3BzKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIE5PREVfVFlQRS5OT1JNQUw6XG4gICAgICAgIHJldHVybiBuZXcgTm9kZShwcm9wcyk7XG4gICAgICBjYXNlIE5PREVfVFlQRS5XRUlHSFRFRDpcbiAgICAgICAgcmV0dXJuIG5ldyBOb2RlV2VpZ2h0ZWQocHJvcHMpO1xuICAgICAgY2FzZSBOT0RFX1RZUEUuSEVVUklTVElDOlxuICAgICAgICByZXR1cm4gbmV3IE5vZGVIZXVyaXN0aWMocHJvcHMpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG5ldyBOb2RlKHByb3BzKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTm9kZUZhY3Rvcnk7XG4iLCJpbXBvcnQgTm9kZUZhY3RvcnkgZnJvbSBcIi4vTm9kZUZhY3RvcnlcIjtcbmltcG9ydCB7IE5PREVfU1RBVFVTIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZU5vZGUgPSAoeCwgeSwgYWxnb3JpdGhtKSA9PiB7XG4gIGNvbnN0IG5ld05vZGUgPSBOb2RlRmFjdG9yeS5jcmVhdGVOb2RlKGFsZ29yaXRobS5ub2RlLnR5cGUsIHtcbiAgICB4LFxuICAgIHksXG4gICAgLi4uYWxnb3JpdGhtLm5vZGUuaW5pdGlhbFZhbHVlcyxcbiAgfSk7XG4gIHJldHVybiBuZXdOb2RlO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzTm9kZVVudmlzaXRlZCA9IChub2RlKSA9PiBub2RlLnN0YXR1cyA9PT0gTk9ERV9TVEFUVVMuVU5WSVNJVEVEO1xuZXhwb3J0IGNvbnN0IGlzTm9kZVdhbGwgPSAobm9kZSkgPT4gbm9kZS5zdGF0dXMgPT09IE5PREVfU1RBVFVTLldBTEw7XG5leHBvcnQgY29uc3QgaXNOb2RlU3RhcnQgPSAobm9kZSkgPT4gbm9kZS5zdGF0dXMgPT09IE5PREVfU1RBVFVTLlNUQVJUO1xuZXhwb3J0IGNvbnN0IGlzTm9kZUVuZCA9IChub2RlKSA9PiBub2RlLnN0YXR1cyA9PT0gTk9ERV9TVEFUVVMuRU5EO1xuIiwiLyoqXG4gKiBQb3NzaWJsZSBkaXJlY3Rpb25zIG9mIG5vZGVcbiAqL1xuZXhwb3J0IGNvbnN0IGRpcmVjdGlvbnMgPSB7XG4gIG5vcnRoOiAwLFxuICBlYXN0OiAxLFxuICBzb3V0aDogMixcbiAgd2VzdDogMyxcbn07XG5cbmNvbnN0IGRpcmVjdGlvbnNOYW1lID0gW1wibm9ydGhcIiwgXCJlYXN0XCIsIFwic291dGhcIiwgXCJ3ZXN0XCJdO1xuXG4vKipcbiAqIEdldCBkaXJlY3Rpb24gbmFtZSBieSBwcm92aWRlZCBpbmRleFxuICovXG5leHBvcnQgY29uc3QgZ2V0RGlyZWN0aW9uTmFtZSA9IChpbmRleCkgPT4gZGlyZWN0aW9uc05hbWVbaW5kZXhdO1xuXG4vKipcbiAqIHdlaWdodHMgb2YgdHVybnMgY2FsYyBieSBkZWdyZWVzXG4gKi9cbmV4cG9ydCBjb25zdCB3ZWlnaHRUdXJuXzkwID0gMTtcbmV4cG9ydCBjb25zdCB3ZWlnaHRUdXJuXzE4MCA9IDI7XG5cbi8qKlxuICogd2VpZ2h0IG9mIG1vdmVcbiAqL1xuZXhwb3J0IGNvbnN0IG1vdmVXZWlnaHQgPSAxO1xuXG4vKipcbiAqIE5vZGUgY2FuIGJlIGRpcmVjdGVkIGludG8gNCBkaXJlY3Rpb25zIC0gbm9ydGgsIGVhc3QsIHNvdXRoIGFuZCB3ZXN0XG4gKiBUaGUgYXJyYXkgcmVwcmVzZW50cyB0aGUgd2VpZ2h0IG9mIGNob29zaW5nIHRoZSBuZXh0IGRpcmVjdGlvblxuICogOTAgZGVncmVlIHR1cm4gY29zdHMgMSBwb2ludHNcbiAqIFswXSAtIGdvIG5vcnRoIHdlaWdodFxuICogWzFdIC0gZ28gZWFzdCB3ZWlnaHRcbiAqIFsyXSAtIGdvIHNvdXRoIHdlaWdodFxuICogWzNdIC0gZ28gd2VzdCB3ZWlnaHRcbiAqL1xuZXhwb3J0IGNvbnN0IG5vcnRoRGlyZWN0aW9uV2VpZ2h0cyA9IFtcbiAgMCxcbiAgd2VpZ2h0VHVybl85MCxcbiAgd2VpZ2h0VHVybl8xODAsXG4gIHdlaWdodFR1cm5fOTAsXG5dO1xuZXhwb3J0IGNvbnN0IGVhc3REaXJlY3Rpb25XZWlnaHRzID0gW1xuICB3ZWlnaHRUdXJuXzkwLFxuICAwLFxuICB3ZWlnaHRUdXJuXzkwLFxuICB3ZWlnaHRUdXJuXzE4MCxcbl07XG5leHBvcnQgY29uc3Qgc291dGhEaXJlY3Rpb25XZWlnaHRzID0gW1xuICB3ZWlnaHRUdXJuXzE4MCxcbiAgd2VpZ2h0VHVybl85MCxcbiAgMCxcbiAgd2VpZ2h0VHVybl85MCxcbl07XG5leHBvcnQgY29uc3Qgd2VzdERpcmVjdGlvbldlaWdodHMgPSBbXG4gIHdlaWdodFR1cm5fOTAsXG4gIHdlaWdodFR1cm5fMTgwLFxuICB3ZWlnaHRUdXJuXzkwLFxuICAwLFxuXTtcblxuZXhwb3J0IGNvbnN0IGdldERpcmVjdGlvbldlaWdodHNCYXNlZE9uQ3VyckRpcmVjdGlvbiA9IChjdXJyRGlyZWN0aW9uKSA9PiB7XG4gIGlmIChjdXJyRGlyZWN0aW9uID09PSAwKSB7XG4gICAgcmV0dXJuIG5vcnRoRGlyZWN0aW9uV2VpZ2h0cztcbiAgfSBlbHNlIGlmIChjdXJyRGlyZWN0aW9uID09PSAxKSB7XG4gICAgcmV0dXJuIGVhc3REaXJlY3Rpb25XZWlnaHRzO1xuICB9IGVsc2UgaWYgKGN1cnJEaXJlY3Rpb24gPT09IDIpIHtcbiAgICByZXR1cm4gc291dGhEaXJlY3Rpb25XZWlnaHRzO1xuICB9IGVsc2UgaWYgKGN1cnJEaXJlY3Rpb24gPT09IDMpIHtcbiAgICByZXR1cm4gd2VzdERpcmVjdGlvbldlaWdodHM7XG4gIH1cbn07XG5cbi8qKlxuICogR2V0IGRpc3RhbmNlIGJldHdlZW4gdHdvIG5vZGVzIGJhc2VkIG9uIHRoZSB3ZWlnaHRcbiAqL1xuZXhwb3J0IGNvbnN0IGdldERpc3RhbmNlQmV0d2Vlbk5vZGVzID0gKG5vZGVfMSwgbm9kZV8yKSA9PiB7XG4gIC8vIG5vZGVfMiBpcyB1cFxuICBpZiAobm9kZV8xLnkgPCBub2RlXzIueSAmJiBub2RlXzEueCA9PT0gbm9kZV8yLngpIHtcbiAgICByZXR1cm4gbm9ydGhEaXJlY3Rpb25XZWlnaHRzW25vZGVfMS5kaXJlY3Rpb25dICsgbW92ZVdlaWdodDtcbiAgfVxuICAvLyBub2RlXzIgaXMgcmlnaHRcbiAgZWxzZSBpZiAobm9kZV8xLnggPCBub2RlXzIueCAmJiBub2RlXzEueSA9PT0gbm9kZV8yLnkpIHtcbiAgICByZXR1cm4gZWFzdERpcmVjdGlvbldlaWdodHNbbm9kZV8xLmRpcmVjdGlvbl0gKyBtb3ZlV2VpZ2h0O1xuICB9XG4gIC8vIG5vZGVfMiBpcyBib3R0b21cbiAgZWxzZSBpZiAobm9kZV8xLnkgPiBub2RlXzIueSAmJiBub2RlXzEueCA9PT0gbm9kZV8yLngpIHtcbiAgICByZXR1cm4gc291dGhEaXJlY3Rpb25XZWlnaHRzW25vZGVfMS5kaXJlY3Rpb25dICsgbW92ZVdlaWdodDtcbiAgfVxuICAvLyBub2RlXzIgaXMgbGVmdFxuICBlbHNlIGlmIChub2RlXzEueCA+IG5vZGVfMi54ICYmIG5vZGVfMS55ID09PSBub2RlXzIueSkge1xuICAgIHJldHVybiB3ZXN0RGlyZWN0aW9uV2VpZ2h0c1tub2RlXzEuZGlyZWN0aW9uXSArIG1vdmVXZWlnaHQ7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJTb21ldGhpbmcgd2VudCB3cm9uZyB3aGVuIHNldHRpbmcgdGhlIGRpc3RhbmNlIGJldHdlZW4gbm9kZXMuXCJcbiAgICApO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybiBkaXJlY3Rpb24gb2Ygbm9kZV8yIGJhc2VkIG9uIHRoZWlyIHBvc2l0aW9uc1xuICovXG5leHBvcnQgY29uc3QgZ2V0Tm9kZURpcmVjdGlvbiA9IChub2RlXzEsIG5vZGVfMikgPT4ge1xuICBpZiAobm9kZV8xLnkgPCBub2RlXzIueSAmJiBub2RlXzEueCA9PT0gbm9kZV8yLngpIHtcbiAgICByZXR1cm4gZGlyZWN0aW9uc1tcIm5vcnRoXCJdO1xuICB9IGVsc2UgaWYgKG5vZGVfMS54IDwgbm9kZV8yLnggJiYgbm9kZV8xLnkgPT09IG5vZGVfMi55KSB7XG4gICAgcmV0dXJuIGRpcmVjdGlvbnNbXCJlYXN0XCJdO1xuICB9IGVsc2UgaWYgKG5vZGVfMS55ID4gbm9kZV8yLnkgJiYgbm9kZV8xLnggPT09IG5vZGVfMi54KSB7XG4gICAgcmV0dXJuIGRpcmVjdGlvbnNbXCJzb3V0aFwiXTtcbiAgfSBlbHNlIGlmIChub2RlXzEueCA+IG5vZGVfMi54ICYmIG5vZGVfMS55ID09PSBub2RlXzIueSkge1xuICAgIHJldHVybiBkaXJlY3Rpb25zW1wid2VzdFwiXTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJTb21ldGhpbmcgd2VudCB3cm9uZyB3aGVuIHNldHRpbmcgdGhlIGRpcmVjdGlvbiBvZiBub2RlLlwiKTtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm4gbWFuaGF0dGFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHByb3ZpZGVkIG5vZGVzIHdpdGggYWRkaXRpb25hbFxuICogaGV1cmlzdGljIHdlaWdodFxuICpcbiAqL1xuZXhwb3J0IGNvbnN0IGdldFdlaWdodGVkTWFuaGF0dGFuRGlzdGFuY2UgPSAobm9kZSwgZW5kKSA9PiB7XG4gIGNvbnN0IHhEaWZmID0gTWF0aC5hYnMobm9kZS54IC0gZW5kLngpO1xuICBjb25zdCB5RGlmZiA9IE1hdGguYWJzKG5vZGUueSAtIGVuZC55KTtcbiAgbGV0IGFkZGl0aW9uYWxXZWlnaHQgPSAwO1xuICBjb25zdCB3ZWlnaHRzID0gZ2V0RGlyZWN0aW9uV2VpZ2h0c0Jhc2VkT25DdXJyRGlyZWN0aW9uKG5vZGUuZGlyZWN0aW9uKTtcblxuICBpZiAobm9kZS55IDwgZW5kLnkpIHtcbiAgICBhZGRpdGlvbmFsV2VpZ2h0ICs9IHdlaWdodHNbMF07XG4gICAgaWYgKG5vZGUueCA8IGVuZC54KSB7XG4gICAgICBhZGRpdGlvbmFsV2VpZ2h0ICs9IHdlaWdodHNbMV07XG4gICAgfSBlbHNlIGlmIChub2RlLnggPiBlbmQueCkge1xuICAgICAgYWRkaXRpb25hbFdlaWdodCArPSB3ZWlnaHRzWzNdO1xuICAgIH1cbiAgfSBlbHNlIGlmIChub2RlLnkgPiBlbmQueSkge1xuICAgIGFkZGl0aW9uYWxXZWlnaHQgKz0gd2VpZ2h0c1syXTtcbiAgICBpZiAobm9kZS54IDwgZW5kLngpIHtcbiAgICAgIGFkZGl0aW9uYWxXZWlnaHQgKz0gd2VpZ2h0c1sxXTtcbiAgICB9IGVsc2UgaWYgKG5vZGUueCA+IGVuZC54KSB7XG4gICAgICBhZGRpdGlvbmFsV2VpZ2h0ICs9IHdlaWdodHNbM107XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHhEaWZmICsgeURpZmYgKyBhZGRpdGlvbmFsV2VpZ2h0O1xufTtcbiIsImltcG9ydCB7IENTU19DTEFTUywgQ1NTX0lEIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgJCB9IGZyb20gXCIuLi9oZWxwZXJzL2RvbVwiO1xuXG5jbGFzcyBFdmVudHNIYW5kbGVyIHtcbiAgc3RhdGljIGFkZE5hdkV2ZW50TGlzdGVuZXJzKGNhbGxiYWNrKSB7XG4gICAgJC5hbGwoYC4ke0NTU19DTEFTUy5OQVZJR0FUSU9OX0lURU19YCkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgY2FsbGJhY2soZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyBhZGRTdGFydEJ0bkV2ZW50TGlzdGVuZXIoY2FsbGJhY2spIHtcbiAgICAkKGAjJHtDU1NfSUQuU1RBUlRfQlROfWApLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoZSkgPT4ge1xuICAgICAgY2FsbGJhY2soZSk7XG4gICAgfSk7XG4gIH1cblxuICBzdGF0aWMgYWRkQ2xlYXJCdG5FdmVudExpc3RlbmVyKGNhbGxiYWNrKSB7XG4gICAgJChgIyR7Q1NTX0lELkNMRUFSX0JUTn1gKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgIGNhbGxiYWNrKGUpO1xuICAgIH0pO1xuICB9XG5cbiAgc3RhdGljIGFkZEJsb2Nrc0V2ZW50TGlzdGVuZXJzKGNhbGxiYWNrcykge1xuICAgICQuYWxsKGAuJHtDU1NfQ0xBU1MuVU5WSVNJVEVEfWApLmZvckVhY2goKGJsb2NrKSA9PiB7XG4gICAgICBibG9jay5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY2FsbGJhY2tzLmhhbmRsZU1vdXNlRG93bk9uQmxvY2soZS50YXJnZXQpO1xuICAgICAgfSk7XG5cbiAgICAgIGJsb2NrLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY2FsbGJhY2tzLmhhbmRsZU1vdXNlRW50ZXJPbkJsb2NrKGUudGFyZ2V0KTtcbiAgICAgIH0pO1xuXG4gICAgICBibG9jay5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNhbGxiYWNrcy5oYW5kbGVNb3VzZVVwT25CbG9jayhlLnRhcmdldCk7XG4gICAgICB9KTtcblxuICAgICAgYmxvY2suYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjYWxsYmFja3MuaGFuZGxlTW91c2VMZWF2ZU9uQmxvY2soZS50YXJnZXQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRXZlbnRzSGFuZGxlcjtcbiIsImV4cG9ydCBjb25zdCBhc3luY0ZvckVhY2ggPSBhc3luYyAoYXJyLCBjYWxsYmFjaykgPT4ge1xuICBjb25zdCBsZW4gPSBhcnIubGVuZ3RoO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYXdhaXQgY2FsbGJhY2soYXJyW2ldLCBpLCBhcnIpO1xuICB9XG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgKG1zKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xufTtcbiIsImltcG9ydCB7IGFzeW5jRm9yRWFjaCB9IGZyb20gXCIuL2hlbHBlcnMvYXN5bmNGb3JFYWNoXCI7XG5pbXBvcnQgYXN5bmNEZWxheSBmcm9tIFwiLi9oZWxwZXJzL2FzeW5jRGVsYXlcIjtcbmltcG9ydCB7ICQgfSBmcm9tIFwiLi9oZWxwZXJzL2RvbVwiO1xuaW1wb3J0IHsgTk9ERV9TVEFUVVMgfSBmcm9tIFwiLi9ub2RlL3R5cGVzXCI7XG5pbXBvcnQgeyBDU1NfQ0xBU1MsIEFOSU1BVElPTl9UWVBFLCBDU1NfSUQgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuY2xhc3MgVmlzdWFsaXplciB7XG4gIGNvbnN0cnVjdG9yKGRlbGF5KSB7XG4gICAgdGhpcy5kZWxheSA9IGRlbGF5O1xuICAgIHRoaXMubWluRGVsYXkgPSAyMDtcbiAgICB0aGlzLm1heERlbGF5ID0gMTAwO1xuXG4gICAgdGhpcy5wcmVwYXJlU3BlZWRJbnB1dCgpO1xuICB9XG5cbiAgYXN5bmMgcnVuKG5vZGVzVG9BbmltYXRlLCBwYXRoLCBhbmltYXRpb25UeXBlKSB7XG4gICAgaWYgKGFuaW1hdGlvblR5cGUgPT09IEFOSU1BVElPTl9UWVBFLkRFTEFZRUQpIHtcbiAgICAgIGF3YWl0IHRoaXMucnVuRGVsYXllZChub2Rlc1RvQW5pbWF0ZSwgcGF0aCk7XG4gICAgfSBlbHNlIGlmIChhbmltYXRpb25UeXBlID09PSBBTklNQVRJT05fVFlQRS5JTlNUQU5UKSB7XG4gICAgICB0aGlzLnJ1bkluc3RhbnQobm9kZXNUb0FuaW1hdGUsIHBhdGgpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHJ1bkRlbGF5ZWQobm9kZXNUb0FuaW1hdGUsIHBhdGgpIHtcbiAgICBhd2FpdCBhc3luY0ZvckVhY2gobm9kZXNUb0FuaW1hdGUsIGFzeW5jIChub2RlKSA9PiB7XG4gICAgICBjb25zdCBibG9jayA9ICQuaWQobm9kZS5pZCk7XG4gICAgICBibG9jay5jbGFzc0xpc3QucmVtb3ZlKENTU19DTEFTUy5VTlZJU0lURUQpO1xuICAgICAgaWYgKG5vZGUuc3RhdHVzID09PSBOT0RFX1NUQVRVUy5WSVNJVEVEKSB7XG4gICAgICAgIGJsb2NrLmNsYXNzTGlzdC5hZGQoQ1NTX0NMQVNTLlZJU0lURUQpO1xuICAgICAgICBhd2FpdCBhc3luY0RlbGF5KHRoaXMuZGVsYXkgLyA1KTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5zdGF0dXMgPT09IE5PREVfU1RBVFVTLk5FSUdIQk9SKSB7XG4gICAgICAgIGJsb2NrLmNsYXNzTGlzdC5hZGQoQ1NTX0NMQVNTLk5FSUdIQk9SKTtcbiAgICAgICAgYXdhaXQgYXN5bmNEZWxheSh0aGlzLmRlbGF5IC8gNSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBhd2FpdCBhc3luY0ZvckVhY2gocGF0aCwgYXN5bmMgKG5vZGUpID0+IHtcbiAgICAgICQuaWQobm9kZS5pZCkuY2xhc3NMaXN0LmFkZChDU1NfQ0xBU1MuUEFUSCk7XG4gICAgICBhd2FpdCBhc3luY0RlbGF5KHRoaXMuZGVsYXkpO1xuICAgIH0pO1xuICB9XG5cbiAgcnVuSW5zdGFudChub2Rlc1RvQW5pbWF0ZSwgcGF0aCkge1xuICAgIGNvbnN0IGFuaW1hdGlvblR5cGVQcmVmaXggPSBcImluc3RhbnQtXCI7XG5cbiAgICBub2Rlc1RvQW5pbWF0ZS5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICBjb25zdCBibG9jayA9ICQuaWQobm9kZS5pZCk7XG4gICAgICBibG9jay5jbGFzc0xpc3QucmVtb3ZlKENTU19DTEFTUy5VTlZJU0lURUQpO1xuICAgICAgaWYgKG5vZGUuc3RhdHVzID09PSBOT0RFX1NUQVRVUy5WSVNJVEVEKSB7XG4gICAgICAgIGJsb2NrLmNsYXNzTGlzdC5hZGQoYCR7YW5pbWF0aW9uVHlwZVByZWZpeH0ke0NTU19DTEFTUy5WSVNJVEVEfWApO1xuICAgICAgfSBlbHNlIGlmIChub2RlLnN0YXR1cyA9PT0gTk9ERV9TVEFUVVMuTkVJR0hCT1IpIHtcbiAgICAgICAgYmxvY2suY2xhc3NMaXN0LmFkZChgJHthbmltYXRpb25UeXBlUHJlZml4fSR7Q1NTX0NMQVNTLk5FSUdIQk9SfWApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcGF0aC5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAkLmlkKG5vZGUuaWQpLmNsYXNzTGlzdC5hZGQoYCR7YW5pbWF0aW9uVHlwZVByZWZpeH0ke0NTU19DTEFTUy5QQVRIfWApO1xuICAgIH0pO1xuICB9XG5cbiAgcHJlcGFyZVNwZWVkSW5wdXQoKSB7XG4gICAgY29uc3QgaW5wdXQgPSAkLmlkKENTU19JRC5TUEVFRF9JTlBVVCk7XG4gICAgaW5wdXQubWluID0gdGhpcy5taW5EZWxheTtcbiAgICBpbnB1dC5tYXggPSB0aGlzLm1heERlbGF5O1xuICAgIGlucHV0LnZhbHVlID0gdGhpcy5kZWxheTtcbiAgICBpbnB1dC5zdHlsZS5kaXJlY3Rpb24gPSBcInJ0bFwiO1xuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKGUpID0+IHtcbiAgICAgIHRoaXMuZGVsYXkgPSBlLnRhcmdldC52YWx1ZTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWaXN1YWxpemVyO1xuIiwiaW1wb3J0IHsgaXNOb2RlV2FsbCB9IGZyb20gXCIuLi8uLi9ub2RlL29wZXJhdGlvbnNcIjtcblxuLyoqXG4gKiBHZXQgbm9kZSBuZWlnaGJvcnMncyBpZHNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldE5laWdoYm9yc0lkcyA9ICh1bnZpc2l0ZWROb2Rlc0lkcywgbm9kZXMsIHgsIHkpID0+IHtcbiAgbGV0IGFyciA9IFtdO1xuICBpZiAobm9kZXNbYCR7eH0tJHt5ICsgMX1gXSAmJiAhaXNOb2RlV2FsbChub2Rlc1tgJHt4fS0ke3kgKyAxfWBdKSkge1xuICAgIGFyci5wdXNoKGAke3h9LSR7eSArIDF9YCk7XG4gIH1cbiAgaWYgKG5vZGVzW2Ake3ggKyAxfS0ke3l9YF0gJiYgIWlzTm9kZVdhbGwobm9kZXNbYCR7eCArIDF9LSR7eX1gXSkpIHtcbiAgICBhcnIucHVzaChgJHt4ICsgMX0tJHt5fWApO1xuICB9XG4gIGlmIChub2Rlc1tgJHt4fS0ke3kgLSAxfWBdICYmICFpc05vZGVXYWxsKG5vZGVzW2Ake3h9LSR7eSAtIDF9YF0pKSB7XG4gICAgYXJyLnB1c2goYCR7eH0tJHt5IC0gMX1gKTtcbiAgfVxuICBpZiAobm9kZXNbYCR7eCAtIDF9LSR7eX1gXSAmJiAhaXNOb2RlV2FsbChub2Rlc1tgJHt4IC0gMX0tJHt5fWBdKSkge1xuICAgIGFyci5wdXNoKGAke3ggLSAxfS0ke3l9YCk7XG4gIH1cblxuICByZXR1cm4gYXJyLmZpbHRlcigocG90ZW50aWFsTmVpZ2hib3JJZCkgPT5cbiAgICB1bnZpc2l0ZWROb2Rlc0lkcy5maW5kKChub2RlSWQpID0+IHBvdGVudGlhbE5laWdoYm9ySWQgPT09IG5vZGVJZClcbiAgKTtcbn07XG4iLCIvKipcbiAqIEdldCB0aGUgY2xvc2VzdCBub2RlXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRDbG9zZXN0Tm9kZSA9ICh1bnZpc2l0ZWRJZHMsIG5vZGVzKSA9PiB7XG4gIGxldCBtaW4gPSBJbmZpbml0eTtcbiAgbGV0IG1pbkRpc3ROb2RlSWQgPSAwO1xuICBsZXQgaW5kZXggPSAwO1xuXG4gIHVudmlzaXRlZElkcy5mb3JFYWNoKChpZCwgaSkgPT4ge1xuICAgIGlmIChub2Rlc1tpZF0pIHtcbiAgICAgIGlmIChub2Rlc1tpZF0uZGlzdCA8IG1pbikge1xuICAgICAgICBtaW4gPSBub2Rlc1tpZF0uZGlzdDtcbiAgICAgICAgbWluRGlzdE5vZGVJZCA9IGlkO1xuICAgICAgICBpbmRleCA9IGk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICB1bnZpc2l0ZWRJZHMuc3BsaWNlKGluZGV4LCAxKTtcblxuICByZXR1cm4gbm9kZXNbbWluRGlzdE5vZGVJZF07XG59O1xuXG4vKipcbiAqIEdldCB0aGUgY2xvc2VzdCBub2RlIGJhc2VkIG9uIGRpc3RhbmNlIGZyb20gc3RhcnQgYW5kIGhldXJpc3RpYyBkaXN0YW5jZVxuICogZnJvbSBjdXJyZW50IHBvc2l0aW9uIHRvIGVuZCBwb3NpdGlvblxuICovXG5leHBvcnQgY29uc3QgZ2V0Q2xvc2VzdE5vZGVXaXRoSGV1cmlzdGljRGlzdCA9ICh1bnZpc2l0ZWRJZHMsIG5vZGVzKSA9PiB7XG4gIGxldCBtaW4gPSBJbmZpbml0eTtcbiAgbGV0IG1pbkhldXJpc3RpY0Rpc3ROb2RlSWQgPSAwO1xuICBsZXQgaW5kZXggPSAwO1xuXG4gIHVudmlzaXRlZElkcy5mb3JFYWNoKChpZCwgaSkgPT4ge1xuICAgIGlmIChub2Rlc1tpZF0gJiYgbm9kZXNbaWRdLmRpc3QgIT09IEluZmluaXR5KSB7XG4gICAgICBjb25zdCBub2RlU2NvcmUgPSBub2Rlc1tpZF0uZGlzdCArIG5vZGVzW2lkXS5oZXVyaXN0aWNEaXN0YW5jZTtcbiAgICAgIGlmIChub2RlU2NvcmUgPCBtaW4pIHtcbiAgICAgICAgbWluID0gbm9kZVNjb3JlO1xuICAgICAgICBtaW5IZXVyaXN0aWNEaXN0Tm9kZUlkID0gaWQ7XG4gICAgICAgIGluZGV4ID0gaTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHVudmlzaXRlZElkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICByZXR1cm4gbm9kZXNbbWluSGV1cmlzdGljRGlzdE5vZGVJZF07XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBub2RlcyBhcmUgYXQgdGhlIHNhbWUgcG9zaXRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGlzU2FtZU5vZGUgPSAobjEsIG4yKSA9PiBuMS54ID09PSBuMi54ICYmIG4xLnkgPT09IG4yLnk7XG4iLCJleHBvcnQgY29uc3QgY3JlYXRlUGF0aCA9ICh2aXNpdGVkTm9kZXMsIHN0YXJ0LCBlbmQsIGZvdW5kRW5kKSA9PiB7XG4gIGxldCBwYXRoID0gW107XG5cbiAgaWYgKGZvdW5kRW5kKSB7XG4gICAgbGV0IGZvdW5kU3RhcnQgPSBmYWxzZTtcbiAgICBsZXQgY3Vyck5vZGUgPSB2aXNpdGVkTm9kZXNbZW5kLmlkXTtcbiAgICBwYXRoLnB1c2goY3Vyck5vZGUpO1xuXG4gICAgd2hpbGUgKCFmb3VuZFN0YXJ0KSB7XG4gICAgICBwYXRoLnB1c2goY3Vyck5vZGUpO1xuICAgICAgaWYgKGN1cnJOb2RlLnggPT09IHN0YXJ0LnggJiYgY3Vyck5vZGUueSA9PT0gc3RhcnQueSkge1xuICAgICAgICBmb3VuZFN0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoY3Vyck5vZGUucHJldklkKSBjdXJyTm9kZSA9IHZpc2l0ZWROb2Rlc1tjdXJyTm9kZS5wcmV2SWRdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXRoLnJldmVyc2UoKTtcbn07XG4iLCJpbXBvcnQgeyBOT0RFX1RZUEUsIE5PREVfU1RBVFVTIH0gZnJvbSBcIi4uL25vZGUvdHlwZXNcIjtcbmltcG9ydCB7IGJyZWFkdGhGaXJzdCB9IGZyb20gXCIuL2JyZWFkdGhGaXJzdFwiO1xuaW1wb3J0IHsgZGVwdGhGaXJzdCB9IGZyb20gXCIuL2RlcHRoRmlyc3RcIjtcbmltcG9ydCB7IGRpamtzdHJhIH0gZnJvbSBcIi4vZGlqa3N0cmFcIjtcbmltcG9ydCB7IGFzdGFyIH0gZnJvbSBcIi4vYXN0YXJcIjtcblxuZXhwb3J0IGNvbnN0IGFsZ29yaXRobXMgPSB7XG4gIGJmczoge1xuICAgIG5hbWU6IFwiQnJlYWR0aC1GaXJzdCBTZWFyY2hcIixcbiAgICBmdW5jOiBicmVhZHRoRmlyc3QsXG4gICAgbm9kZToge1xuICAgICAgdHlwZTogTk9ERV9UWVBFLk5PUk1BTCxcbiAgICAgIGluaXRpYWxWYWx1ZXM6IHtcbiAgICAgICAgc3RhdHVzOiBOT0RFX1NUQVRVUy5VTlZJU0lURUQsXG4gICAgICAgIHByZXZJZDogbnVsbCxcbiAgICAgICAgZGlzdDogSW5maW5pdHksXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG4gIGRmczoge1xuICAgIG5hbWU6IFwiRGVwdGgtRmlyc3QgU2VhcmNoXCIsXG4gICAgZnVuYzogZGVwdGhGaXJzdCxcbiAgICBub2RlOiB7XG4gICAgICB0eXBlOiBOT0RFX1RZUEUuTk9STUFMLFxuICAgICAgaW5pdGlhbFZhbHVlczoge1xuICAgICAgICBzdGF0dXM6IE5PREVfU1RBVFVTLlVOVklTSVRFRCxcbiAgICAgICAgcHJldklkOiBudWxsLFxuICAgICAgICBkaXN0OiBJbmZpbml0eSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSxcbiAgZGlqa3N0cmE6IHtcbiAgICBuYW1lOiBcIkRpamtzdHJhXCIsXG4gICAgZnVuYzogZGlqa3N0cmEsXG4gICAgbm9kZToge1xuICAgICAgdHlwZTogTk9ERV9UWVBFLldFSUdIVEVELFxuICAgICAgaW5pdGlhbFZhbHVlczoge1xuICAgICAgICBzdGF0dXM6IE5PREVfU1RBVFVTLlVOVklTSVRFRCxcbiAgICAgICAgcHJldklkOiBudWxsLFxuICAgICAgICBkaXN0OiBJbmZpbml0eSxcbiAgICAgICAgZGlyZWN0aW9uOiBudWxsLFxuICAgICAgfSxcbiAgICB9LFxuICB9LFxuICBhc3Rhcjoge1xuICAgIG5hbWU6IFwiQSogU2VhcmNoXCIsXG4gICAgZnVuYzogYXN0YXIsXG4gICAgbm9kZToge1xuICAgICAgdHlwZTogTk9ERV9UWVBFLkhFVVJJU1RJQyxcbiAgICAgIGluaXRpYWxWYWx1ZXM6IHtcbiAgICAgICAgc3RhdHVzOiBOT0RFX1NUQVRVUy5VTlZJU0lURUQsXG4gICAgICAgIHByZXZJZDogbnVsbCxcbiAgICAgICAgZGlzdDogSW5maW5pdHksXG4gICAgICAgIGRpcmVjdGlvbjogbnVsbCxcbiAgICAgICAgaGV1cmlzdGljRGlzdGFuY2U6IG51bGwsXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG59O1xuIiwiaW1wb3J0IHsgZ2V0TmVpZ2hib3JzSWRzIH0gZnJvbSBcIi4vaGVscGVycy9uZWlnaGJvcnNcIjtcbmltcG9ydCB7IGdldENsb3Nlc3ROb2RlLCBpc1NhbWVOb2RlIH0gZnJvbSBcIi4vaGVscGVycy9ub2Rlc1wiO1xuaW1wb3J0IHsgTk9ERV9TVEFUVVMgfSBmcm9tIFwiLi4vbm9kZS90eXBlc1wiO1xuaW1wb3J0IHsgY3JlYXRlUGF0aCB9IGZyb20gXCIuL2hlbHBlcnMvY3JlYXRlUGF0aFwiO1xuXG5leHBvcnQgY29uc3QgYnJlYWR0aEZpcnN0ID0gKG5vZGVzLCBzdGFydCwgZW5kKSA9PiB7XG4gIGxldCB1bnZpc2l0ZWROb2Rlc0lkcyA9IE9iamVjdC5rZXlzKG5vZGVzKTtcbiAgbGV0IHZpc2l0ZWROb2RlcyA9IHt9O1xuICBsZXQgbm9kZXNUb0FuaW1hdGUgPSBbXTtcbiAgbGV0IGZvdW5kRW5kID0gZmFsc2U7XG5cbiAgd2hpbGUgKHVudmlzaXRlZE5vZGVzSWRzLmxlbmd0aCkge1xuICAgIGNvbnN0IGN1cnJOb2RlID0gZ2V0Q2xvc2VzdE5vZGUodW52aXNpdGVkTm9kZXNJZHMsIG5vZGVzKTtcbiAgICBpZiAoIWN1cnJOb2RlKSBicmVhaztcblxuICAgIGN1cnJOb2RlLnN0YXR1cyA9IE5PREVfU1RBVFVTLlZJU0lURUQ7XG4gICAgdmlzaXRlZE5vZGVzW2N1cnJOb2RlLmlkXSA9IGN1cnJOb2RlO1xuICAgIG5vZGVzVG9BbmltYXRlLnB1c2goY3Vyck5vZGUpO1xuXG4gICAgaWYgKGlzU2FtZU5vZGUoY3Vyck5vZGUsIGVuZCkpIHtcbiAgICAgIGZvdW5kRW5kID0gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGNvbnN0IG5laWdoYm9yc0lkcyA9IGdldE5laWdoYm9yc0lkcyhcbiAgICAgIHVudmlzaXRlZE5vZGVzSWRzLFxuICAgICAgbm9kZXMsXG4gICAgICBjdXJyTm9kZS54LFxuICAgICAgY3Vyck5vZGUueVxuICAgICk7XG5cbiAgICBuZWlnaGJvcnNJZHMuZm9yRWFjaCgobmVpZ2hib3JJZCkgPT4ge1xuICAgICAgdmlzaXRlZE5vZGVzW25laWdoYm9ySWRdID0gbm9kZXNbbmVpZ2hib3JJZF07XG4gICAgICBub2Rlc1tuZWlnaGJvcklkXS5zdGF0dXMgPSBOT0RFX1NUQVRVUy5ORUlHSEJPUjtcbiAgICAgIG5vZGVzVG9BbmltYXRlLnB1c2gobm9kZXNbbmVpZ2hib3JJZF0pO1xuXG4gICAgICBjb25zdCBpc05laWdoYm9yRnVydGhlckZyb21TdGFydCA9IGN1cnJOb2RlLmRpc3QgPCBub2Rlc1tuZWlnaGJvcklkXS5kaXN0O1xuXG4gICAgICBpZiAoaXNOZWlnaGJvckZ1cnRoZXJGcm9tU3RhcnQpIHtcbiAgICAgICAgbm9kZXNbbmVpZ2hib3JJZF0uZGlzdCA9IGN1cnJOb2RlLmRpc3QgKyAxO1xuICAgICAgICBub2Rlc1tuZWlnaGJvcklkXS5wcmV2SWQgPSBjdXJyTm9kZS5pZDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBbbm9kZXNUb0FuaW1hdGUsIGNyZWF0ZVBhdGgodmlzaXRlZE5vZGVzLCBzdGFydCwgZW5kLCBmb3VuZEVuZCldO1xufTtcbiIsImltcG9ydCB7IGdldE5laWdoYm9yc0lkcyB9IGZyb20gXCIuL2hlbHBlcnMvbmVpZ2hib3JzXCI7XG5pbXBvcnQgeyBpc1NhbWVOb2RlIH0gZnJvbSBcIi4vaGVscGVycy9ub2Rlc1wiO1xuaW1wb3J0IHsgTk9ERV9TVEFUVVMgfSBmcm9tIFwiLi4vbm9kZS90eXBlc1wiO1xuaW1wb3J0IHsgY3JlYXRlUGF0aCB9IGZyb20gXCIuL2hlbHBlcnMvY3JlYXRlUGF0aFwiO1xuXG5leHBvcnQgY29uc3QgZGVwdGhGaXJzdCA9IChub2Rlcywgc3RhcnQsIGVuZCwgc3BlZWQpID0+IHtcbiAgbGV0IHVudmlzaXRlZE5vZGVzSWRzID0gT2JqZWN0LmtleXMobm9kZXMpO1xuICBsZXQgdmlzaXRlZE5vZGVzID0ge307XG4gIGxldCBub2Rlc1RvQW5pbWF0ZSA9IFtdO1xuICBsZXQgZm91bmRFbmQgPSBmYWxzZTtcblxuICBjb25zdCBzZWFyY2ggPSAoY3Vyck5vZGUsIHByZXZJZCkgPT4ge1xuICAgIGlmICghY3Vyck5vZGUpIHJldHVybjtcbiAgICBpZiAoZm91bmRFbmQpIHJldHVybjtcblxuICAgIGN1cnJOb2RlLnByZXZJZCA9IHByZXZJZDtcbiAgICBjdXJyTm9kZS5zdGF0dXMgPSBOT0RFX1NUQVRVUy5WSVNJVEVEO1xuICAgIHZpc2l0ZWROb2Rlc1tjdXJyTm9kZS5pZF0gPSBjdXJyTm9kZTtcbiAgICBub2Rlc1RvQW5pbWF0ZS5wdXNoKGN1cnJOb2RlKTtcbiAgICB1bnZpc2l0ZWROb2Rlc0lkcyA9IHVudmlzaXRlZE5vZGVzSWRzLmZpbHRlcigoaWQpID0+IGlkICE9PSBjdXJyTm9kZS5pZCk7XG5cbiAgICBpZiAoaXNTYW1lTm9kZShjdXJyTm9kZSwgZW5kKSkge1xuICAgICAgZm91bmRFbmQgPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG5laWdoYm9yc0lkcyA9IGdldE5laWdoYm9yc0lkcyhcbiAgICAgIHVudmlzaXRlZE5vZGVzSWRzLFxuICAgICAgbm9kZXMsXG4gICAgICBjdXJyTm9kZS54LFxuICAgICAgY3Vyck5vZGUueVxuICAgICk7XG5cbiAgICBuZWlnaGJvcnNJZHMuZm9yRWFjaCgoaWQpID0+IHNlYXJjaChub2Rlc1tpZF0sIGN1cnJOb2RlLmlkKSk7XG4gIH07XG5cbiAgc2VhcmNoKG5vZGVzW3N0YXJ0LmlkXSk7XG5cbiAgcmV0dXJuIFtub2Rlc1RvQW5pbWF0ZSwgY3JlYXRlUGF0aCh2aXNpdGVkTm9kZXMsIHN0YXJ0LCBlbmQsIGZvdW5kRW5kKV07XG59O1xuIiwiaW1wb3J0IHsgZ2V0RGlzdGFuY2VCZXR3ZWVuTm9kZXMsIGdldE5vZGVEaXJlY3Rpb24gfSBmcm9tIFwiLi9oZWxwZXJzL3dlaWdodGVkXCI7XG5pbXBvcnQgeyBnZXROZWlnaGJvcnNJZHMgfSBmcm9tIFwiLi9oZWxwZXJzL25laWdoYm9yc1wiO1xuaW1wb3J0IHsgZ2V0Q2xvc2VzdE5vZGUsIGlzU2FtZU5vZGUgfSBmcm9tIFwiLi9oZWxwZXJzL25vZGVzXCI7XG5pbXBvcnQgeyBjcmVhdGVQYXRoIH0gZnJvbSBcIi4vaGVscGVycy9jcmVhdGVQYXRoXCI7XG5pbXBvcnQgeyBOT0RFX1NUQVRVUyB9IGZyb20gXCIuLi9ub2RlL3R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCBkaWprc3RyYSA9IGFzeW5jIChub2Rlcywgc3RhcnQsIGVuZCwgc3BlZWQpID0+IHtcbiAgbGV0IHVudmlzaXRlZE5vZGVzSWRzID0gT2JqZWN0LmtleXMobm9kZXMpO1xuICBsZXQgdmlzaXRlZE5vZGVzID0ge307XG4gIGxldCBub2Rlc1RvQW5pbWF0ZSA9IFtdO1xuICBsZXQgZm91bmRFbmQgPSBmYWxzZTtcblxuICB3aGlsZSAodW52aXNpdGVkTm9kZXNJZHMubGVuZ3RoKSB7XG4gICAgY29uc3QgY3Vyck5vZGUgPSBnZXRDbG9zZXN0Tm9kZSh1bnZpc2l0ZWROb2Rlc0lkcywgbm9kZXMpO1xuICAgIGlmICghY3Vyck5vZGUpIGJyZWFrO1xuXG4gICAgY3Vyck5vZGUuc3RhdHVzID0gTk9ERV9TVEFUVVMuVklTSVRFRDtcbiAgICB2aXNpdGVkTm9kZXNbY3Vyck5vZGUuaWRdID0gY3Vyck5vZGU7XG4gICAgbm9kZXNUb0FuaW1hdGUucHVzaChjdXJyTm9kZSk7XG5cbiAgICBpZiAoaXNTYW1lTm9kZShjdXJyTm9kZSwgZW5kKSkge1xuICAgICAgZm91bmRFbmQgPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY29uc3QgbmVpZ2hib3JzSWRzID0gZ2V0TmVpZ2hib3JzSWRzKFxuICAgICAgdW52aXNpdGVkTm9kZXNJZHMsXG4gICAgICBub2RlcyxcbiAgICAgIGN1cnJOb2RlLngsXG4gICAgICBjdXJyTm9kZS55XG4gICAgKTtcblxuICAgIG5laWdoYm9yc0lkcy5mb3JFYWNoKChuZWlnaGJvcklkKSA9PiB7XG4gICAgICB2aXNpdGVkTm9kZXNbbmVpZ2hib3JJZF0gPSBub2Rlc1tuZWlnaGJvcklkXTtcbiAgICAgIG5vZGVzW25laWdoYm9ySWRdLnN0YXR1cyA9IE5PREVfU1RBVFVTLk5FSUdIQk9SO1xuICAgICAgbm9kZXNUb0FuaW1hdGUucHVzaChub2Rlc1tuZWlnaGJvcklkXSk7XG5cbiAgICAgIGNvbnN0IGRpc3RhbmNlQmV0d2Vlbk5vZGVzID0gZ2V0RGlzdGFuY2VCZXR3ZWVuTm9kZXMoXG4gICAgICAgIGN1cnJOb2RlLFxuICAgICAgICBub2Rlc1tuZWlnaGJvcklkXVxuICAgICAgKTtcblxuICAgICAgY29uc3QgaXNOZWlnaGJvckZ1cnRoZXJGcm9tU3RhcnQgPVxuICAgICAgICBjdXJyTm9kZS5kaXN0ICsgZGlzdGFuY2VCZXR3ZWVuTm9kZXMgPCBub2Rlc1tuZWlnaGJvcklkXS5kaXN0O1xuXG4gICAgICBpZiAoaXNOZWlnaGJvckZ1cnRoZXJGcm9tU3RhcnQpIHtcbiAgICAgICAgbm9kZXNbbmVpZ2hib3JJZF0uZGlzdCA9IGN1cnJOb2RlLmRpc3QgKyBkaXN0YW5jZUJldHdlZW5Ob2RlcztcbiAgICAgICAgbm9kZXNbbmVpZ2hib3JJZF0ucHJldklkID0gY3Vyck5vZGUuaWQ7XG4gICAgICAgIG5vZGVzW25laWdoYm9ySWRdLmRpcmVjdGlvbiA9IGdldE5vZGVEaXJlY3Rpb24oXG4gICAgICAgICAgY3Vyck5vZGUsXG4gICAgICAgICAgbm9kZXNbbmVpZ2hib3JJZF1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBbbm9kZXNUb0FuaW1hdGUsIGNyZWF0ZVBhdGgodmlzaXRlZE5vZGVzLCBzdGFydCwgZW5kLCBmb3VuZEVuZCldO1xufTtcbiIsImltcG9ydCB7XG4gIGdldERpc3RhbmNlQmV0d2Vlbk5vZGVzLFxuICBnZXROb2RlRGlyZWN0aW9uLFxuICBnZXRXZWlnaHRlZE1hbmhhdHRhbkRpc3RhbmNlLFxufSBmcm9tIFwiLi9oZWxwZXJzL3dlaWdodGVkXCI7XG5pbXBvcnQgeyBnZXROZWlnaGJvcnNJZHMgfSBmcm9tIFwiLi9oZWxwZXJzL25laWdoYm9yc1wiO1xuaW1wb3J0IHsgZ2V0Q2xvc2VzdE5vZGVXaXRoSGV1cmlzdGljRGlzdCwgaXNTYW1lTm9kZSB9IGZyb20gXCIuL2hlbHBlcnMvbm9kZXNcIjtcbmltcG9ydCB7IE5PREVfU1RBVFVTIH0gZnJvbSBcIi4uL25vZGUvdHlwZXNcIjtcbmltcG9ydCB7IGNyZWF0ZVBhdGggfSBmcm9tIFwiLi9oZWxwZXJzL2NyZWF0ZVBhdGhcIjtcblxuZXhwb3J0IGNvbnN0IGFzdGFyID0gKG5vZGVzLCBzdGFydCwgZW5kKSA9PiB7XG4gIGxldCB1bnZpc2l0ZWROb2Rlc0lkcyA9IE9iamVjdC5rZXlzKG5vZGVzKTtcbiAgbGV0IHZpc2l0ZWROb2RlcyA9IHt9O1xuICBsZXQgbm9kZXNUb0FuaW1hdGUgPSBbXTtcbiAgbGV0IGZvdW5kRW5kID0gZmFsc2U7XG5cbiAgbm9kZXNbc3RhcnQuaWRdLmhldXJpc3RpY0Rpc3RhbmNlID0gZ2V0V2VpZ2h0ZWRNYW5oYXR0YW5EaXN0YW5jZShzdGFydCwgZW5kKTtcblxuICB3aGlsZSAodW52aXNpdGVkTm9kZXNJZHMubGVuZ3RoKSB7XG4gICAgY29uc3QgY3Vyck5vZGUgPSBnZXRDbG9zZXN0Tm9kZVdpdGhIZXVyaXN0aWNEaXN0KHVudmlzaXRlZE5vZGVzSWRzLCBub2Rlcyk7XG4gICAgaWYgKCFjdXJyTm9kZSkgYnJlYWs7XG5cbiAgICBjdXJyTm9kZS5zdGF0dXMgPSBOT0RFX1NUQVRVUy5WSVNJVEVEO1xuICAgIHZpc2l0ZWROb2Rlc1tjdXJyTm9kZS5pZF0gPSBjdXJyTm9kZTtcbiAgICBub2Rlc1RvQW5pbWF0ZS5wdXNoKGN1cnJOb2RlKTtcblxuICAgIGlmIChpc1NhbWVOb2RlKGN1cnJOb2RlLCBlbmQpKSB7XG4gICAgICBmb3VuZEVuZCA9IHRydWU7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICBjb25zdCBuZWlnaGJvcnNJZHMgPSBnZXROZWlnaGJvcnNJZHMoXG4gICAgICB1bnZpc2l0ZWROb2Rlc0lkcyxcbiAgICAgIG5vZGVzLFxuICAgICAgY3Vyck5vZGUueCxcbiAgICAgIGN1cnJOb2RlLnlcbiAgICApO1xuXG4gICAgbmVpZ2hib3JzSWRzLmZvckVhY2goKG5laWdoYm9ySWQpID0+IHtcbiAgICAgIHZpc2l0ZWROb2Rlc1tuZWlnaGJvcklkXSA9IG5vZGVzW25laWdoYm9ySWRdO1xuICAgICAgbm9kZXNbbmVpZ2hib3JJZF0uc3RhdHVzID0gTk9ERV9TVEFUVVMuTkVJR0hCT1I7XG4gICAgICBub2Rlc1RvQW5pbWF0ZS5wdXNoKG5vZGVzW25laWdoYm9ySWRdKTtcblxuICAgICAgY29uc3QgZGlzdGFuY2VCZXR3ZWVuTm9kZXMgPSBnZXREaXN0YW5jZUJldHdlZW5Ob2RlcyhcbiAgICAgICAgY3Vyck5vZGUsXG4gICAgICAgIG5vZGVzW25laWdoYm9ySWRdXG4gICAgICApO1xuXG4gICAgICBjb25zdCBpc05laWdoYm9yRnVydGhlckZyb21TdGFydCA9XG4gICAgICAgIGN1cnJOb2RlLmRpc3QgKyBkaXN0YW5jZUJldHdlZW5Ob2RlcyA8IG5vZGVzW25laWdoYm9ySWRdLmRpc3Q7XG5cbiAgICAgIGlmIChpc05laWdoYm9yRnVydGhlckZyb21TdGFydCkge1xuICAgICAgICBub2Rlc1tuZWlnaGJvcklkXS5kaXN0ID0gY3Vyck5vZGUuZGlzdCArIGRpc3RhbmNlQmV0d2Vlbk5vZGVzO1xuICAgICAgICBub2Rlc1tuZWlnaGJvcklkXS5kaXJlY3Rpb24gPSBnZXROb2RlRGlyZWN0aW9uKFxuICAgICAgICAgIGN1cnJOb2RlLFxuICAgICAgICAgIG5vZGVzW25laWdoYm9ySWRdXG4gICAgICAgICk7XG4gICAgICAgIG5vZGVzW25laWdoYm9ySWRdLmhldXJpc3RpY0Rpc3RhbmNlID0gZ2V0V2VpZ2h0ZWRNYW5oYXR0YW5EaXN0YW5jZShcbiAgICAgICAgICBub2Rlc1tuZWlnaGJvcklkXSxcbiAgICAgICAgICBlbmRcbiAgICAgICAgKTtcbiAgICAgICAgbm9kZXNbbmVpZ2hib3JJZF0ucHJldklkID0gY3Vyck5vZGUuaWQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIFtub2Rlc1RvQW5pbWF0ZSwgY3JlYXRlUGF0aCh2aXNpdGVkTm9kZXMsIHN0YXJ0LCBlbmQsIGZvdW5kRW5kKV07XG59O1xuIiwiaW1wb3J0IFwiLi9hc3NldHMvc2Fzcy9tYWluLnNjc3NcIjtcbmltcG9ydCBCb2FyZCBmcm9tIFwiLi9tb2R1bGVzL0JvYXJkXCI7XG5pbXBvcnQgeyBhbGdvcml0aG1zIH0gZnJvbSBcIi4vbW9kdWxlcy9hbGdvcml0aG1zL3R5cGVzXCI7XG5cbmNvbnN0IGJvYXJkID0gbmV3IEJvYXJkKHtcbiAgYm9hcmRJZDogXCJib2FyZFwiLFxuICBibG9ja1NpemU6IDI1LFxuICBkZWxheTogMjAsXG4gIGFsZ29yaXRobXMsXG4gIGluaXRpYWxBbGdvcml0aG06IGFsZ29yaXRobXNbXCJiZnNcIl0sXG4gIGluaXRpYWxTdGFydERpcmVjdGlvbjogXCJlYXN0XCIsXG59KTtcbmJvYXJkLmluaXRpYWxpemUoKTtcbiIsImltcG9ydCB7XG4gIGNyZWF0ZUJsb2NrLFxuICBjbGVhckJsb2NrLFxuICBhcHBseUVuZEJsb2NrQ1NTLFxuICBhcHBseVN0YXJ0QmxvY2tDU1MsXG4gIGFwcGx5V2FsbEJsb2NrQ1NTLFxufSBmcm9tIFwiLi9oZWxwZXJzL2Jsb2NrXCI7XG5pbXBvcnQgeyBnZXRSYW5kb21OdW0gfSBmcm9tIFwiLi9oZWxwZXJzL2dldFJhbmRvbU51bVwiO1xuaW1wb3J0IHsgZ2V0RGlmZmVyZW50UmFuZG9tTnVtIH0gZnJvbSBcIi4vaGVscGVycy9nZXREaWZmZXJlbnRSYW5kb21OdW1cIjtcbmltcG9ydCB1cGRhdGVPYmplY3QgZnJvbSBcIi4vaGVscGVycy91cGRhdGVPYmplY3RcIjtcbmltcG9ydCB7IGhhc0NsYXNzLCByZW1vdmVDbGFzcywgJCwgYWRkQ2xhc3MgfSBmcm9tIFwiLi9oZWxwZXJzL2RvbVwiO1xuaW1wb3J0IHtcbiAgY3JlYXRlTm9kZSxcbiAgaXNOb2RlVW52aXNpdGVkLFxuICBpc05vZGVXYWxsLFxuICBpc05vZGVTdGFydCxcbiAgaXNOb2RlRW5kLFxufSBmcm9tIFwiLi9ub2RlL29wZXJhdGlvbnNcIjtcbmltcG9ydCB7IENTU19DTEFTUywgQ1NTX0lELCBBTklNQVRJT05fVFlQRSB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgTk9ERV9TVEFUVVMgfSBmcm9tIFwiLi9ub2RlL3R5cGVzXCI7XG5pbXBvcnQgeyBkaXJlY3Rpb25zIH0gZnJvbSBcIi4vYWxnb3JpdGhtcy9oZWxwZXJzL3dlaWdodGVkXCI7XG5pbXBvcnQgRXZlbnRzSGFuZGxlciBmcm9tIFwiLi9ldmVudHMtaGFuZGxlci9FdmVudHNIYW5kbGVyXCI7XG5pbXBvcnQgVmlzdWFsaXplciBmcm9tIFwiLi9WaXN1YWxpemVyXCI7XG5cbmNsYXNzIEJvYXJkIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIGJvYXJkSWQsXG4gICAgYmxvY2tTaXplLFxuICAgIGRlbGF5LFxuICAgIGFsZ29yaXRobXMsXG4gICAgaW5pdGlhbEFsZ29yaXRobSxcbiAgICBpbml0aWFsU3RhcnREaXJlY3Rpb24sXG4gIH0pIHtcbiAgICB0aGlzLmJvYXJkSWQgPSBib2FyZElkO1xuICAgIHRoaXMuYmxvY2tTaXplID0gYmxvY2tTaXplO1xuICAgIHRoaXMud2lkdGggPSBudWxsO1xuICAgIHRoaXMuaGVpZ2h0ID0gbnVsbDtcbiAgICB0aGlzLm5vZGVzID0ge307XG4gICAgdGhpcy5zdGFydE5vZGUgPSBudWxsO1xuICAgIHRoaXMuc3RhcnREaXJlY3Rpb24gPSBpbml0aWFsU3RhcnREaXJlY3Rpb247XG4gICAgdGhpcy5lbmROb2RlID0gbnVsbDtcblxuICAgIHRoaXMuaXNTZWFyY2hpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmlzUHJlcGFyZWQgPSBmYWxzZTtcbiAgICB0aGlzLmlzU2VhcmNoZWQgPSBmYWxzZTtcbiAgICB0aGlzLmlzTWFraW5nV2FsbHMgPSBmYWxzZTtcbiAgICB0aGlzLmlzTm9kZURyYWdnZWQgPSBmYWxzZTtcbiAgICB0aGlzLmRyYWdnZWROb2RlSWQgPSBudWxsO1xuICAgIHRoaXMuaXNBbGdvcml0aG1DaGFuZ2VkID0gZmFsc2U7XG4gICAgdGhpcy5hbGdvcml0aG1zID0gYWxnb3JpdGhtcyB8fCBudWxsO1xuICAgIHRoaXMuY3VycmVudEFsZ29yaXRobSA9IGluaXRpYWxBbGdvcml0aG0gfHwgbnVsbDtcblxuICAgIHRoaXMudmlzdWFsaXplciA9IG5ldyBWaXN1YWxpemVyKGRlbGF5KTtcbiAgICB0aGlzLmFuaW1hdGlvblR5cGUgPSBBTklNQVRJT05fVFlQRS5ERUxBWUVEO1xuICB9XG5cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLmNyZWF0ZU5hdigpO1xuICAgIHRoaXMuY2FsY3VsYXRlQm9hcmRTaXplKCk7XG4gICAgdGhpcy5jcmVhdGVCb2FyZCgpO1xuICAgIHRoaXMuY3JlYXRlU3RhcnROb2RlKCk7XG4gICAgdGhpcy5jcmVhdGVFbmROb2RlKCk7XG5cbiAgICB0aGlzLnNldEluaXRpYWxBY3RpdmVOYXZBbGdvcml0aG0oKTtcbiAgICB0aGlzLmFkZE5hdkFsZ29FbGVtc0V2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5hZGRCbG9ja3NFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuYWRkQnRuc0V2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICBFdmVudHNIYW5kbGVyLmFkZE5hdkV2ZW50TGlzdGVuZXJzKHRoaXMuaGFuZGxlTmF2SXRlbU9uQ2xpY2suYmluZCh0aGlzKSk7XG4gICAgdGhpcy5pc1ByZXBhcmVkID0gdHJ1ZTtcbiAgfVxuXG4gIGhhbmRsZU5hdkl0ZW1PbkNsaWNrKGUpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICBpZiAoaGFzQ2xhc3ModGFyZ2V0LCBDU1NfQ0xBU1MuQkxPQ0tFRCkpIHJldHVybjtcblxuICAgICQuYWxsKGAuJHtDU1NfQ0xBU1MuTkFWSUdBVElPTl9JVEVNfWApLmZvckVhY2goKGl0ZW0pID0+XG4gICAgICByZW1vdmVDbGFzcyhpdGVtLCBDU1NfQ0xBU1MuQUNUSVZFKVxuICAgICk7XG4gICAgYWRkQ2xhc3ModGFyZ2V0LCBDU1NfQ0xBU1MuQUNUSVZFKTtcblxuICAgIHRoaXMuc2V0Q3VycmVudEFsZ29yaXRobSh0YXJnZXQuZGF0YXNldC5hbGdvcml0aG1LZXkpO1xuICAgIHRoaXMuaXNBbGdvcml0aG1DaGFuZ2VkID0gdHJ1ZTtcbiAgICB0aGlzLnJlY3JlYXRlTm9kZXMoKTtcbiAgfVxuXG4gIGNhbGN1bGF0ZUJvYXJkU2l6ZSgpIHtcbiAgICBjb25zdCBib2FyZCA9ICQuaWQodGhpcy5ib2FyZElkKTtcbiAgICBjb25zdCBweFdpZHRoID0gYm9hcmQuY2xpZW50V2lkdGg7XG4gICAgY29uc3QgcHhIZWlnaHQgPSBib2FyZC5jbGllbnRIZWlnaHQ7XG5cbiAgICB0aGlzLndpZHRoID0gTWF0aC5mbG9vcihweFdpZHRoIC8gdGhpcy5ibG9ja1NpemUpO1xuICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5mbG9vcihweEhlaWdodCAvIHRoaXMuYmxvY2tTaXplKTtcbiAgfVxuXG4gIGNyZWF0ZUJvYXJkKCkge1xuICAgIGNvbnN0IGJvYXJkID0gJC5pZCh0aGlzLmJvYXJkSWQpO1xuICAgIGNvbnN0IHRib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRib2R5XCIpO1xuXG4gICAgZm9yIChsZXQgeSA9IHRoaXMuaGVpZ2h0IC0gMTsgeSA+PSAwOyB5LS0pIHtcbiAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy53aWR0aDsgeCsrKSB7XG4gICAgICAgIGNyZWF0ZUJsb2NrKHJvdywgdGhpcy5ibG9ja1NpemUsIHgsIHkpO1xuICAgICAgICB0aGlzLm5vZGVzW2Ake3h9LSR7eX1gXSA9IGNyZWF0ZU5vZGUoeCwgeSwgdGhpcy5jdXJyZW50QWxnb3JpdGhtKTtcbiAgICAgIH1cbiAgICAgIHRib2R5LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgfVxuICAgIGJvYXJkLmFwcGVuZENoaWxkKHRib2R5KTtcbiAgfVxuXG4gIGNyZWF0ZU5hdigpIHtcbiAgICBjb25zdCBuYXYgPSAkLmlkKENTU19JRC5OQVZJR0FUSU9OKTtcbiAgICBmb3IgKGxldCBba2V5LCBhbGdvXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmFsZ29yaXRobXMpKSB7XG4gICAgICBjb25zdCBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGFkZENsYXNzKGVsZW0sIENTU19DTEFTUy5OQVZJR0FUSU9OX0lURU0pO1xuICAgICAgZWxlbS5pbm5lclRleHQgPSBhbGdvLm5hbWU7XG4gICAgICBlbGVtLmRhdGFzZXQuYWxnb3JpdGhtS2V5ID0ga2V5O1xuICAgICAgbmF2LmFwcGVuZENoaWxkKGVsZW0pO1xuICAgIH1cbiAgfVxuXG4gIHNldEluaXRpYWxBY3RpdmVOYXZBbGdvcml0aG0oKSB7XG4gICAgY29uc3QgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuJHtDU1NfQ0xBU1MuTkFWSUdBVElPTl9JVEVNfWApO1xuICAgIGVsZW1zWzBdLmNsYXNzTGlzdC5hZGQoQ1NTX0NMQVNTLkFDVElWRSk7XG4gIH1cblxuICBjcmVhdGVTdGFydE5vZGUoKSB7XG4gICAgY29uc3QgcmFuZFggPSBnZXRSYW5kb21OdW0oMCwgdGhpcy53aWR0aCAtIDEpO1xuICAgIGNvbnN0IHJhbmRZID0gZ2V0UmFuZG9tTnVtKDAsIHRoaXMuaGVpZ2h0IC0gMSk7XG4gICAgY29uc3QgaWQgPSBgJHtyYW5kWH0tJHtyYW5kWX1gO1xuXG4gICAgdGhpcy5zZXRTdGFydE5vZGUoaWQpO1xuICAgIGFwcGx5U3RhcnRCbG9ja0NTUyhpZCwgdGhpcy5zdGFydERpcmVjdGlvbik7XG4gIH1cblxuICBjcmVhdGVFbmROb2RlKCkge1xuICAgIGNvbnN0IHJhbmRYID0gZ2V0RGlmZmVyZW50UmFuZG9tTnVtKDAsIHRoaXMud2lkdGggLSAxLCB0aGlzLnN0YXJ0Tm9kZS54KTtcbiAgICBjb25zdCByYW5kWSA9IGdldERpZmZlcmVudFJhbmRvbU51bSgwLCB0aGlzLmhlaWdodCAtIDEsIHRoaXMuc3RhcnROb2RlLnkpO1xuICAgIGNvbnN0IGlkID0gYCR7cmFuZFh9LSR7cmFuZFl9YDtcblxuICAgIHRoaXMuc2V0RW5kTm9kZShpZCk7XG4gICAgYXBwbHlFbmRCbG9ja0NTUyhpZCk7XG4gIH1cblxuICBzZXRTdGFydE5vZGUobm9kZUlkKSB7XG4gICAgdXBkYXRlT2JqZWN0KHRoaXMubm9kZXNbbm9kZUlkXSwge1xuICAgICAgc3RhdHVzOiBOT0RFX1NUQVRVUy5TVEFSVCxcbiAgICAgIGRpc3Q6IDAsXG4gICAgICBkaXJlY3Rpb246IHRoaXMuc3RhcnREaXJlY3Rpb24gPyBkaXJlY3Rpb25zW3RoaXMuc3RhcnREaXJlY3Rpb25dIDogbnVsbCxcbiAgICB9KTtcbiAgICB0aGlzLnN0YXJ0Tm9kZSA9IHRoaXMubm9kZXNbbm9kZUlkXTtcbiAgfVxuXG4gIHNldEVuZE5vZGUobm9kZUlkKSB7XG4gICAgdXBkYXRlT2JqZWN0KHRoaXMubm9kZXNbbm9kZUlkXSwge1xuICAgICAgc3RhdHVzOiBOT0RFX1NUQVRVUy5FTkQsXG4gICAgICBkaXN0OiBJbmZpbml0eSxcbiAgICB9KTtcbiAgICB0aGlzLmVuZE5vZGUgPSB0aGlzLm5vZGVzW25vZGVJZF07XG4gIH1cblxuICBzZXROb2RlVG9Jbml0aWFsKG5vZGVJZCkge1xuICAgIHVwZGF0ZU9iamVjdCh0aGlzLm5vZGVzW25vZGVJZF0sIHRoaXMuY3VycmVudEFsZ29yaXRobS5ub2RlLmluaXRpYWxWYWx1ZXMpO1xuICB9XG5cbiAgYWRkTmF2QWxnb0VsZW1zRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuJHtDU1NfQ0xBU1MuTkFWSUdBVElPTl9JVEVNfWApO1xuXG4gICAgZWxlbXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgaWYgKGhhc0NsYXNzKGUudGFyZ2V0LCBDU1NfQ0xBU1MuQkxPQ0tFRCkpIHJldHVybjtcblxuICAgICAgICBlbGVtcy5mb3JFYWNoKChlbGVtKSA9PiBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoQ1NTX0NMQVNTLkFDVElWRSkpO1xuICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKENTU19DTEFTUy5BQ1RJVkUpO1xuXG4gICAgICAgIHRoaXMuc2V0Q3VycmVudEFsZ29yaXRobShlLnRhcmdldC5kYXRhc2V0LmFsZ29yaXRobUtleSk7XG4gICAgICAgIHRoaXMucmVzZXROb2Rlc0V4cGVjdFdhbGxzKCk7XG4gICAgICAgIHRoaXMuc2V0U3RhcnROb2RlKHRoaXMuc3RhcnROb2RlLmlkKTtcbiAgICAgICAgdGhpcy5zZXRFbmROb2RlKHRoaXMuZW5kTm9kZS5pZCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZEJ0bnNFdmVudExpc3RlbmVycygpIHtcbiAgICBjb25zdCBzdGFydEJ0biA9ICQuaWQoQ1NTX0lELlNUQVJUX0JUTik7XG4gICAgY29uc3QgY2xlYXJCdG4gPSAkLmlkKENTU19JRC5DTEVBUl9CVE4pO1xuICAgIGNvbnN0IGNsZWFyV2FsbHNCdG4gPSAkLmlkKENTU19JRC5DTEVBUl9XQUxMU19CVE4pO1xuXG4gICAgc3RhcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB0aGlzLmhhbmRsZURlbGF5ZWRTdGFydCgpKTtcbiAgICBjbGVhckJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHRoaXMuaGFuZGxlQ2xlYXIoKSk7XG4gICAgY2xlYXJXYWxsc0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHRoaXMuaGFuZGxlQ2xlYXJXYWxscygpKTtcbiAgfVxuXG4gIGFkZEJsb2Nrc0V2ZW50TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGJsb2NrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke0NTU19DTEFTUy5CTE9DS31gKTtcblxuICAgIGJsb2Nrcy5mb3JFYWNoKChibG9jaykgPT4ge1xuICAgICAgYmxvY2suYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmIChlLndoaWNoID09PSAxICYmICF0aGlzLmlzU2VhcmNoaW5nKSB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVNb3VzZURvd24oYmxvY2spO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgYmxvY2suYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXRoaXMuaXNTZWFyY2hpbmcpIHRoaXMuaGFuZGxlTW91c2VFbnRlcihibG9jayk7XG4gICAgICB9KTtcblxuICAgICAgYmxvY2suYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXRoaXMuaXNTZWFyY2hpbmcpIHRoaXMuaGFuZGxlTW91c2VVcChibG9jayk7XG4gICAgICB9KTtcblxuICAgICAgYmxvY2suYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXRoaXMuaXNTZWFyY2hpbmcpIHRoaXMuaGFuZGxlTW91c2VMZWF2ZShibG9jayk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZURlbGF5ZWRTdGFydCgpIHtcbiAgICB0aGlzLnByZXBhcmVEZWxheWVkU2VhcmNoU3RhdGVTdGFydCgpO1xuICAgIHRoaXMuYW5pbWF0aW9uVHlwZSA9IEFOSU1BVElPTl9UWVBFLkRFTEFZRUQ7XG4gICAgdGhpcy5oYW5kbGVTdGFydCgpO1xuICB9XG5cbiAgaGFuZGxlSW5zdGFudFN0YXJ0KCkge1xuICAgIHRoaXMucHJlcGFyZUluc3RhbnRTZWFyY2hTdGF0ZVN0YXJ0KCk7XG4gICAgdGhpcy5hbmltYXRpb25UeXBlID0gQU5JTUFUSU9OX1RZUEUuSU5TVEFOVDtcbiAgICB0aGlzLmhhbmRsZVN0YXJ0KCk7XG4gIH1cblxuICBhc3luYyBoYW5kbGVTdGFydCgpIHtcbiAgICBpZiAodGhpcy5pc1ByZXBhcmVkKSB7XG4gICAgICB0aGlzLmhhbmRsZVNlYXJjaFN0YXRlU3RhcnQoKTtcblxuICAgICAgY29uc3QgW25vZGVzVG9BbmltYXRlLCBwYXRoXSA9IGF3YWl0IHRoaXMuY3VycmVudEFsZ29yaXRobS5mdW5jKFxuICAgICAgICB0aGlzLm5vZGVzLFxuICAgICAgICB0aGlzLnN0YXJ0Tm9kZSxcbiAgICAgICAgdGhpcy5lbmROb2RlXG4gICAgICApO1xuXG4gICAgICBhd2FpdCB0aGlzLnZpc3VhbGl6ZXIucnVuKG5vZGVzVG9BbmltYXRlLCBwYXRoLCB0aGlzLmFuaW1hdGlvblR5cGUpO1xuXG4gICAgICB0aGlzLmhhbmRsZVNlYXJjaFN0YXRlRW5kKCk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlQ2xlYXIoZSkge1xuICAgIGlmICghdGhpcy5pc1NlYXJjaGluZykge1xuICAgICAgdGhpcy5yZXNldE5vZGVzQWxsKCk7XG4gICAgICB0aGlzLmNsZWFyQm9hcmRBbGwoKTtcbiAgICAgIHRoaXMuY3JlYXRlU3RhcnROb2RlKCk7XG4gICAgICB0aGlzLmNyZWF0ZUVuZE5vZGUoKTtcbiAgICAgIHRoaXMuaXNQcmVwYXJlZCA9IHRydWU7XG4gICAgICB0aGlzLmlzU2VhcmNoZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuaXNTZWFyY2hpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVDbGVhcldhbGxzKCkge1xuICAgIGlmICghdGhpcy5pc1NlYXJjaGluZykge1xuICAgICAgdGhpcy5jbGVhck5vZGVzRnJvbVdhbGxzKCk7XG4gICAgICB0aGlzLmNsZWFyQm9hcmRGcm9tV2FsbHMoKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVTZWFyY2hTdGF0ZVN0YXJ0KCkge1xuICAgIHRoaXMuaXNTZWFyY2hpbmcgPSB0cnVlO1xuICAgIHRoaXMuaXNQcmVwYXJlZCA9IGZhbHNlO1xuICAgIHRoaXMuaXNTZWFyY2hlZCA9IGZhbHNlO1xuICAgICQuaWQoQ1NTX0lELkNMRUFSX0JUTikuZGlzYWJsZWQgPSB0cnVlO1xuICAgICQuaWQoQ1NTX0lELkNMRUFSX1dBTExTX0JUTikuZGlzYWJsZWQgPSB0cnVlO1xuICAgICQuaWQoQ1NTX0lELlNUQVJUX0JUTikuZGlzYWJsZWQgPSB0cnVlO1xuXG4gICAgY29uc3QgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuJHtDU1NfQ0xBU1MuTkFWSUdBVElPTl9JVEVNfWApO1xuICAgIGVsZW1zLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZChDU1NfQ0xBU1MuQkxPQ0tFRCk7XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTZWFyY2hTdGF0ZUVuZCgpIHtcbiAgICB0aGlzLnJlc2V0Tm9kZXNFeHBlY3RXYWxscygpO1xuICAgIHRoaXMuc2V0U3RhcnROb2RlKHRoaXMuc3RhcnROb2RlLmlkKTtcbiAgICB0aGlzLnNldEVuZE5vZGUodGhpcy5lbmROb2RlLmlkKTtcbiAgICB0aGlzLmlzU2VhcmNoaW5nID0gZmFsc2U7XG4gICAgdGhpcy5pc1ByZXBhcmVkID0gdHJ1ZTtcbiAgICB0aGlzLmlzU2VhcmNoZWQgPSB0cnVlO1xuICAgICQuaWQoQ1NTX0lELkNMRUFSX0JUTikuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAkLmlkKENTU19JRC5DTEVBUl9XQUxMU19CVE4pLmRpc2FibGVkID0gZmFsc2U7XG4gICAgJC5pZChDU1NfSUQuU1RBUlRfQlROKS5kaXNhYmxlZCA9IGZhbHNlO1xuXG4gICAgY29uc3QgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuJHtDU1NfQ0xBU1MuTkFWSUdBVElPTl9JVEVNfWApO1xuICAgIGVsZW1zLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZShDU1NfQ0xBU1MuQkxPQ0tFRCk7XG4gICAgfSk7XG4gIH1cblxuICBwcmVwYXJlRGVsYXllZFNlYXJjaFN0YXRlU3RhcnQoKSB7XG4gICAgdGhpcy5jbGVhckJvYXJkRnJvbU5vZGVzKCk7XG4gICAgYXBwbHlTdGFydEJsb2NrQ1NTKHRoaXMuc3RhcnROb2RlLmlkLCB0aGlzLnN0YXJ0RGlyZWN0aW9uKTtcbiAgICBhcHBseUVuZEJsb2NrQ1NTKHRoaXMuZW5kTm9kZS5pZCk7XG4gICAgdGhpcy5pc1ByZXBhcmVkID0gdHJ1ZTtcbiAgfVxuXG4gIHByZXBhcmVJbnN0YW50U2VhcmNoU3RhdGVTdGFydCgpIHtcbiAgICB0aGlzLmNsZWFyQm9hcmRGcm9tTm9kZXMoKTtcbiAgICBhcHBseVN0YXJ0QmxvY2tDU1ModGhpcy5zdGFydE5vZGUuaWQpO1xuICAgIGFwcGx5RW5kQmxvY2tDU1ModGhpcy5lbmROb2RlLmlkKTtcbiAgICB0aGlzLmlzUHJlcGFyZWQgPSB0cnVlO1xuICB9XG5cbiAgaGFuZGxlTW91c2VEb3duKGJsb2NrKSB7XG4gICAgY29uc3QgaWQgPSBibG9jay5pZDtcbiAgICBpZiAoXG4gICAgICAhaXNOb2RlVW52aXNpdGVkKHRoaXMubm9kZXNbaWRdKSAmJlxuICAgICAgIWlzTm9kZVdhbGwodGhpcy5ub2Rlc1tpZF0pICYmXG4gICAgICAhdGhpcy5pc1NlYXJjaGluZ1xuICAgICkge1xuICAgICAgdGhpcy5kcmFnZ2VkTm9kZUlkID0gaWQ7XG4gICAgICB0aGlzLmlzTm9kZURyYWdnZWQgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNOb2RlRHJhZ2dlZCAmJiBpc05vZGVVbnZpc2l0ZWQodGhpcy5ub2Rlc1tpZF0pKSB7XG4gICAgICB0aGlzLmNyZWF0ZVdhbGwoYmxvY2spO1xuICAgICAgdGhpcy5pc01ha2luZ1dhbGxzID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVNb3VzZUVudGVyKGJsb2NrKSB7XG4gICAgY29uc3QgaWQgPSBibG9jay5pZDtcblxuICAgIGlmICh0aGlzLmlzTm9kZURyYWdnZWQgJiYgaXNOb2RlVW52aXNpdGVkKHRoaXMubm9kZXNbaWRdKSkge1xuICAgICAgaWYgKGlzTm9kZVN0YXJ0KHRoaXMubm9kZXNbdGhpcy5kcmFnZ2VkTm9kZUlkXSkpIHtcbiAgICAgICAgdGhpcy5zZXRTdGFydE5vZGUoaWQpO1xuICAgICAgICBhcHBseVN0YXJ0QmxvY2tDU1MoaWQsIHRoaXMuc3RhcnREaXJlY3Rpb24pO1xuICAgICAgfSBlbHNlIGlmIChpc05vZGVFbmQodGhpcy5ub2Rlc1t0aGlzLmRyYWdnZWROb2RlSWRdKSkge1xuICAgICAgICB0aGlzLnNldEVuZE5vZGUoaWQpO1xuICAgICAgICBhcHBseUVuZEJsb2NrQ1NTKGlkKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXROb2RlVG9Jbml0aWFsKHRoaXMuZHJhZ2dlZE5vZGVJZCk7XG4gICAgICB0aGlzLmRyYWdnZWROb2RlSWQgPSBpZDtcblxuICAgICAgaWYgKHRoaXMuaXNTZWFyY2hlZCkge1xuICAgICAgICB0aGlzLmhhbmRsZUluc3RhbnRTdGFydCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5pc01ha2luZ1dhbGxzICYmIGlzTm9kZVVudmlzaXRlZCh0aGlzLm5vZGVzW2lkXSkpIHtcbiAgICAgIHRoaXMuY3JlYXRlV2FsbChibG9jayk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlTW91c2VVcChibG9jaykge1xuICAgIGNvbnN0IGlkID0gYmxvY2suaWQ7XG4gICAgaWYgKHRoaXMuaXNOb2RlRHJhZ2dlZCAmJiAhaXNOb2RlV2FsbCh0aGlzLm5vZGVzW2lkXSkpIHtcbiAgICAgIHRoaXMuaXNOb2RlRHJhZ2dlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5kcmFnZ2VkTm9kZUlkID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pc01ha2luZ1dhbGxzID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlTW91c2VMZWF2ZShibG9jaykge1xuICAgIGlmICh0aGlzLmlzTm9kZURyYWdnZWQpIHtcbiAgICAgIGNsZWFyQmxvY2sodGhpcy5kcmFnZ2VkTm9kZUlkKTtcbiAgICB9XG4gIH1cblxuICBjcmVhdGVXYWxsKGJsb2NrKSB7XG4gICAgdGhpcy5ub2Rlc1tibG9jay5pZF0uc3RhdHVzID0gTk9ERV9TVEFUVVMuV0FMTDtcbiAgICBhcHBseVdhbGxCbG9ja0NTUyhibG9jay5pZCk7XG4gIH1cblxuICBzZXRDdXJyZW50QWxnb3JpdGhtKGFsZ29LZXkpIHtcbiAgICB0aGlzLmN1cnJlbnRBbGdvcml0aG0gPSBhbGdvS2V5ID8gdGhpcy5hbGdvcml0aG1zW2FsZ29LZXldIDogbnVsbDtcbiAgfVxuXG4gIGNsZWFyQm9hcmRBbGwoKSB7XG4gICAgdGhpcy5sb29wQm9hcmQoKGlkKSA9PiBjbGVhckJsb2NrKGlkKSk7XG4gIH1cblxuICBjbGVhckJvYXJkRnJvbU5vZGVzKCkge1xuICAgIHRoaXMubG9vcEJvYXJkKChpZCkgPT4ge1xuICAgICAgaWYgKCEkLmlkKGlkKS5jbGFzc0xpc3QuY29udGFpbnMoQ1NTX0NMQVNTLldBTEwpKSB7XG4gICAgICAgIGNsZWFyQmxvY2soaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY2xlYXJCb2FyZEZyb21XYWxscygpIHtcbiAgICB0aGlzLmxvb3BCb2FyZCgoaWQpID0+IHtcbiAgICAgIGlmICgkLmlkKGlkKS5jbGFzc0xpc3QuY29udGFpbnMoQ1NTX0NMQVNTLldBTEwpKSB7XG4gICAgICAgIGNsZWFyQmxvY2soaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmVzZXROb2Rlc0V4cGVjdFdhbGxzKCkge1xuICAgIHRoaXMubG9vcEJvYXJkKChpZCkgPT4ge1xuICAgICAgaWYgKCFpc05vZGVXYWxsKHRoaXMubm9kZXNbaWRdKSkge1xuICAgICAgICB0aGlzLnNldE5vZGVUb0luaXRpYWwoaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY2xlYXJOb2Rlc0Zyb21XYWxscygpIHtcbiAgICB0aGlzLmxvb3BCb2FyZCgoaWQsIHgsIHkpID0+IHtcbiAgICAgIGlmIChpc05vZGVXYWxsKHRoaXMubm9kZXNbaWRdKSkge1xuICAgICAgICB0aGlzLnNldE5vZGVUb0luaXRpYWwoaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmVzZXROb2Rlc0FsbCgpIHtcbiAgICB0aGlzLnNldE5vZGVzVG9Jbml0aWFsKCk7XG4gIH1cblxuICBzZXROb2Rlc1RvSW5pdGlhbCgpIHtcbiAgICB0aGlzLmxvb3BCb2FyZCgoaWQpID0+IHRoaXMuc2V0Tm9kZVRvSW5pdGlhbChpZCkpO1xuICB9XG5cbiAgcmVjcmVhdGVOb2RlcygpIHtcbiAgICBjb25zdCBjdXJyU3RhcnROb2RlSWQgPSB0aGlzLnN0YXJ0Tm9kZS5pZDtcbiAgICBjb25zdCBjdXJyRW5kTm9kZUlkID0gdGhpcy5lbmROb2RlLmlkO1xuXG4gICAgdGhpcy5sb29wQm9hcmQoKGlkLCB4LCB5KSA9PiB7XG4gICAgICBpZiAoaXNOb2RlV2FsbCh0aGlzLm5vZGVzW2lkXSkpIHtcbiAgICAgICAgdGhpcy5ub2Rlc1tpZF0gPSBjcmVhdGVOb2RlKHgsIHksIHRoaXMuY3VycmVudEFsZ29yaXRobSk7XG4gICAgICAgIHRoaXMubm9kZXNbaWRdLnN0YXR1cyA9IE5PREVfU1RBVFVTLldBTEw7XG4gICAgICB9IGVsc2UgdGhpcy5ub2Rlc1tpZF0gPSBjcmVhdGVOb2RlKHgsIHksIHRoaXMuY3VycmVudEFsZ29yaXRobSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnNldFN0YXJ0Tm9kZShjdXJyU3RhcnROb2RlSWQpO1xuICAgIHRoaXMuc2V0RW5kTm9kZShjdXJyRW5kTm9kZUlkKTtcbiAgfVxuXG4gIGxvb3BCb2FyZChjYWxsYmFjaykge1xuICAgIGZvciAobGV0IHkgPSB0aGlzLmhlaWdodCAtIDE7IHkgPj0gMDsgeS0tKSB7XG4gICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMud2lkdGg7IHgrKykge1xuICAgICAgICBjYWxsYmFjayhgJHt4fS0ke3l9YCwgeCwgeSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJvYXJkO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==